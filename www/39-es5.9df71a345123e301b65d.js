!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{cT6G:function(n,i,o){"use strict";o.r(i),o.d(i,"CreateItemPageModule",(function(){return S}));var r=o("ofXK"),s=o("3Pt+"),l=o("TEn/"),a=o("tyNb"),c=o("mrSG"),b=o("lNOt"),u=o("fXoL"),m=o("Epai");function p(e,t){1&e&&(u.Lb(0,"span",18),u.ic(1," Campo requerido. "),u.Kb())}function f(e,t){if(1&e&&(u.Lb(0,"ion-select-option",11),u.ic(1),u.Kb()),2&e){var n=t.$implicit;u.Yb("value",n.SeriesID),u.yb(1),u.jc(n.SeriesName)}}function h(e,t){if(1&e&&(u.Lb(0,"ion-select-option",11),u.ic(1),u.Kb()),2&e){var n=t.$implicit;u.Yb("value",n.GenreID),u.yb(1),u.kc(" ",n.GenreName," ")}}function g(e,t){if(1&e&&(u.Lb(0,"ion-select-option",11),u.ic(1),u.Kb()),2&e){var n=t.$implicit;u.Yb("value",n.GenreID),u.yb(1),u.kc(" ",n.GenreName," ")}}function d(e,t){if(1&e&&(u.Lb(0,"ion-select-option",11),u.ic(1),u.Kb()),2&e){var n=t.$implicit;u.Yb("value",n.GenreID),u.yb(1),u.kc(" ",n.GenreName," ")}}var y,I,v,L=[{path:"",component:(y=function(){function n(t,i,o,r,l,a){e(this,n),this.http=t,this.navCtrl=i,this.modalController=o,this.route=r,this.router=l,this.formBuilder=a,this.NewSeries=null,this.isSubmitted=!1,this.type=this.route.snapshot.params.type,this.typeName=this.http.getItemTypeName(this.type),this.getSeriesList(),this.getGenreList(),this.newitem=new s.e({ItemName:new s.b,SeriesID:new s.b,GenreID1:new s.b,GenreID2:new s.b,GenreID3:new s.b}),this.SeriesID=null,this.ItemType=this.http.getItemType(this.type)}var i,o,r;return i=n,(o=[{key:"getSeriesList",value:function(){var e=this;this.http.getSeriesList().subscribe((function(t){e.series=t.body,e.series=e.series.filter((function(e){return e.CreatorUserID>0})),console.log("Series:",e.series)}),(function(e){console.error(e)}))}},{key:"getGenreList",value:function(){var e=this;console.log("busco g\xe9neros de ",this.type),this.http.getGenreList(this.type).subscribe((function(t){e.genres=t.body,console.log("G\xe9neros ",e.genres)}),(function(e){console.error(e)}))}},{key:"ngOnInit",value:function(){this.newitem=this.formBuilder.group({ItemName:[null,s.n.required],SeriesID:[null],GenreID1:[null],GenreID2:[null],GenreID3:[null]})}},{key:"goToNewSeries",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("P\xe1gina modal"),e.next=3,this.modalController.create({component:b.a,componentProps:{paramID:123,paramTitle:"Test Title"}});case 3:return(t=e.sent).onDidDismiss().then((function(e){null!=e&&(n.series=[],n.NewSeries=e,console.log("New Series: ",n.NewSeries),n.getSeriesList())})),e.next=7,t.present();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"submitForm",value:function(){if(this.isSubmitted=!0,!this.newitem.valid)return console.log("Please provide all the required values!"),!1;this.newitem.value.ItemType=this.ItemType,console.log(this.newitem.value),this.ItemID=this.http.createItem(this.newitem.value),console.log(this.ItemID)}},{key:"compareFn",value:function(e,t){return e&&t?e.id===t.id:e===t}},{key:"errorControl",get:function(){return this.newitem.controls}}])&&t(i.prototype,o),r&&t(i,r),n}(),y.\u0275fac=function(e){return new(e||y)(u.Ib(m.a),u.Ib(l.U),u.Ib(l.T),u.Ib(a.a),u.Ib(a.g),u.Ib(s.a))},y.\u0275cmp=u.Cb({type:y,selectors:[["app-create-item"]],decls:41,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],["placeholder","Nombre","formControlName","ItemName","type","text","required",""],["class","error ion-padding",4,"ngIf"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","SeriesID","type","text"],["SeriesID",""],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["small","",3,"click"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID1","type","text"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID2"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID3"],["expand","block","shape","round","color","primary","type","submit"],[1,"error","ion-padding"]],template:function(e,t){1&e&&(u.Lb(0,"ion-header"),u.Lb(1,"ion-toolbar",0),u.Lb(2,"ion-buttons",1),u.Jb(3,"ion-back-button",2),u.Kb(),u.Lb(4,"ion-title"),u.ic(5,"Crear item"),u.Kb(),u.Kb(),u.Kb(),u.Lb(6,"ion-content",3),u.Lb(7,"form",4),u.Tb("ngSubmit",(function(){return t.submitForm()})),u.Lb(8,"ion-list"),u.Lb(9,"ion-item",5),u.Lb(10,"ion-label",6),u.ic(11,"Nombre del item"),u.Kb(),u.Jb(12,"ion-input",7),u.hc(13,p,2,0,"span",8),u.Kb(),u.Lb(14,"ion-item",5),u.Lb(15,"ion-label",6),u.ic(16,"Serie"),u.Kb(),u.Lb(17,"ion-select",9,10),u.Lb(19,"ion-select-option",11),u.ic(20,"Ninguna"),u.Kb(),u.hc(21,f,2,2,"ion-select-option",12),u.Kb(),u.Lb(22,"ion-button",13),u.Tb("click",(function(){return t.goToNewSeries()})),u.ic(23,"Nueva serie..."),u.Kb(),u.Kb(),u.Lb(24,"ion-item",5),u.Lb(25,"ion-label",6),u.ic(26,"G\xe9neros (elige hasta 3)"),u.Kb(),u.Lb(27,"ion-select",14),u.Lb(28,"ion-select-option",11),u.ic(29,"Ninguno"),u.Kb(),u.hc(30,h,2,2,"ion-select-option",12),u.Kb(),u.Lb(31,"ion-select",15),u.Lb(32,"ion-select-option",11),u.ic(33,"Ninguno"),u.Kb(),u.hc(34,g,2,2,"ion-select-option",12),u.Kb(),u.Lb(35,"ion-select",16),u.Lb(36,"ion-select-option",11),u.ic(37,"Ninguno"),u.Kb(),u.hc(38,d,2,2,"ion-select-option",12),u.Kb(),u.Kb(),u.Kb(),u.Lb(39,"ion-button",17),u.ic(40,"Siguiente >"),u.Kb(),u.Kb(),u.Kb()),2&e&&(u.yb(6),u.Yb("fullscreen",!0),u.yb(1),u.Yb("formGroup",t.newitem),u.yb(6),u.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.ItemName.errors?null:t.errorControl.ItemName.errors.required)),u.yb(6),u.Yb("value",null),u.yb(2),u.Yb("ngForOf",t.series),u.yb(7),u.Yb("value",null),u.yb(2),u.Yb("ngForOf",t.genres),u.yb(2),u.Yb("value",null),u.yb(2),u.Yb("ngForOf",t.genres),u.yb(2),u.Yb("value",null),u.yb(2),u.Yb("ngForOf",t.genres))},directives:[l.q,l.P,l.i,l.f,l.g,l.N,l.m,s.o,s.k,s.f,l.A,l.v,l.z,l.u,l.ab,s.j,s.d,s.m,r.i,l.J,l.Z,l.K,r.h,l.h],styles:[""]}),y)}],w=((I=function t(){e(this,t)}).\u0275mod=u.Gb({type:I}),I.\u0275inj=u.Fb({factory:function(e){return new(e||I)},imports:[[a.i.forChild(L)],a.i]}),I),N=o("wk2u"),S=((v=function t(){e(this,t)}).\u0275mod=u.Gb({type:v}),v.\u0275inj=u.Fb({factory:function(e){return new(e||v)},imports:[[r.b,s.g,s.l,l.Q,w,N.CreateSeriesPageModule]]}),v)}}])}();