(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"2M5B":function(e,t,i){"use strict";i.r(t),i.d(t,"EditItemPageModule",(function(){return f}));var o=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),l=i("mrSG"),a=i("lNOt"),b=i("fXoL"),c=i("Epai");function m(e,t){1&e&&(b.Lb(0,"span",17),b.ic(1," Campo requerido. "),b.Kb())}function u(e,t){if(1&e&&(b.Lb(0,"ion-select-option",10),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.SeriesID),b.yb(1),b.kc(" ",e.SeriesName," ")}}function p(e,t){if(1&e&&(b.Lb(0,"ion-select-option",10),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.GenreID),b.yb(1),b.kc(" ",e.GenreName," ")}}function h(e,t){if(1&e&&(b.Lb(0,"ion-select-option",10),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.GenreID),b.yb(1),b.kc(" ",e.GenreName," ")}}function I(e,t){if(1&e&&(b.Lb(0,"ion-select-option",10),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.GenreID),b.yb(1),b.kc(" ",e.GenreName," ")}}const d=[{path:"",component:(()=>{class e{constructor(e,t,i,o,r,s){this.http=e,this.navCtrl=t,this.modalController=i,this.route=o,this.router=r,this.formBuilder=s,this.item=null,this.NewSeries=null,this.isSubmitted=!1,this.ItemID=this.route.snapshot.params.id,this.item=this.formBuilder.group({ItemName:[null,n.n.required],SeriesID:[null],SeriesName:[null],GenreID1:[null],GenreID2:[null],GenreID3:[null]}),this.getSeriesList(),this.getItem(),console.log("type y typename: ",this.type," ",this.typeName)}getSeriesList(){this.http.getSeriesList().subscribe(e=>{this.series=e.body,this.series=this.series.filter(e=>e.CreatorUserID>0),console.log("Series:",this.series)},e=>{console.error(e)})}getGenreList(){console.log("busco g\xe9neros de ",this.type),this.http.getGenreList(this.type).subscribe(e=>{this.genres=e.body,console.log("G\xe9neros ",this.genres)},e=>{console.error(e)})}getItem(){this.http.getItem(this.ItemID).subscribe(e=>{this.item=this.formBuilder.group({ItemID:[e.ItemID],ItemName:[e.ItemName],SeriesID:[e.SeriesID],GenreID1:[e.GenreID1],GenreID2:[e.GenreID2],GenreID3:[e.GenreID3]}),this.ItemType=e.ItemType,this.type=this.http.getItemTypeURL(this.ItemType),this.typeName=this.http.getItemTypeName(this.type),console.log("todo: ",this.item),console.log(this.type),this.getGenreList()},e=>{console.error(e)})}ngOnInit(){}goToNewSeries(){return Object(l.a)(this,void 0,void 0,(function*(){console.log("P\xe1gina modal");const e=yield this.modalController.create({component:a.a,componentProps:{paramID:123}});return e.onDidDismiss().then(e=>{null!=e&&(this.series=[],this.NewSeries=e,console.log("New Series: ",this.NewSeries),this.getSeriesList())}),yield e.present()}))}submitForm(){if(this.isSubmitted=!0,!this.item.valid)return console.log("Please provide all the required values!"),!1;console.log(this.item.value);var e=this.http.updateItem(this.item.value,this.ItemID);console.log("Resultado: ",e),this.navCtrl.navigateForward("/item/"+this.type+"/"+this.ItemID)}get errorControl(){return this.item.controls}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(c.a),b.Ib(r.U),b.Ib(r.T),b.Ib(s.a),b.Ib(s.g),b.Ib(n.a))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-edit-item"]],decls:43,vars:18,consts:[["color","primary"],["slot","start"],[3,"defaultHref"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],["placeholder","Nombre","formControlName","ItemName","type","text","required","",3,"value"],["class","error ion-padding",4,"ngIf"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","SeriesID","type","text",3,"value"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["small","",3,"click"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID1","type","text",3,"value"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID2","type","text",3,"value"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID3","type","text",3,"value"],["small","","expand","inline","shape","round","color","primary","type","submit"],[1,"error","ion-padding"]],template:function(e,t){1&e&&(b.Lb(0,"ion-header"),b.Lb(1,"ion-toolbar",0),b.Lb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Kb(),b.Lb(4,"ion-title"),b.ic(5,"Editar item"),b.Kb(),b.Kb(),b.Kb(),b.Lb(6,"ion-content",3),b.Lb(7,"form",4),b.Tb("ngSubmit",(function(){return t.submitForm()})),b.Lb(8,"ion-list"),b.Lb(9,"ion-item",5),b.Lb(10,"ion-label",6),b.ic(11,"Nombre del item"),b.Kb(),b.Jb(12,"ion-input",7),b.hc(13,m,2,0,"span",8),b.Kb(),b.Lb(14,"ion-item",5),b.Lb(15,"ion-label",6),b.ic(16,"Serie"),b.Kb(),b.Lb(17,"ion-select",9),b.Lb(18,"ion-select-option",10),b.ic(19,"Ninguna"),b.Kb(),b.hc(20,u,2,2,"ion-select-option",11),b.Kb(),b.Lb(21,"ion-button",12),b.Tb("click",(function(){return t.goToNewSeries()})),b.ic(22,"Nueva serie..."),b.Kb(),b.Kb(),b.Lb(23,"ion-item",5),b.Lb(24,"ion-label",6),b.ic(25,"G\xe9neros (elige hasta 3)"),b.Kb(),b.Lb(26,"ion-select",13),b.Lb(27,"ion-select-option",10),b.ic(28,"Ninguno"),b.Kb(),b.hc(29,p,2,2,"ion-select-option",11),b.Kb(),b.Lb(30,"ion-select",14),b.Lb(31,"ion-select-option",10),b.ic(32,"Ninguno"),b.Kb(),b.hc(33,h,2,2,"ion-select-option",11),b.Kb(),b.Lb(34,"ion-select",15),b.Lb(35,"ion-select-option",10),b.ic(36,"Ninguno"),b.Kb(),b.hc(37,I,2,2,"ion-select-option",11),b.Kb(),b.Kb(),b.Kb(),b.Lb(38,"ion-grid"),b.Lb(39,"ion-row"),b.Lb(40,"ion-col"),b.Lb(41,"ion-button",16),b.ic(42,"Enviar"),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb(),b.Kb()),2&e&&(b.yb(3),b.bc("defaultHref","/item/",t.type,"/",t.ItemID,""),b.yb(3),b.Yb("fullscreen",!0),b.yb(1),b.Yb("formGroup",t.item),b.yb(5),b.Yb("value",t.item.ItemName),b.yb(1),b.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.ItemName.errors?null:t.errorControl.ItemName.errors.required)),b.yb(4),b.Zb("value",t.item.SeriesID),b.yb(1),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.series),b.yb(6),b.Zb("value",t.item.GenreID1),b.yb(1),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.genres),b.yb(1),b.Zb("value",t.item.GenreID2),b.yb(1),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.genres),b.yb(1),b.Zb("value",t.item.GenreID3),b.yb(1),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.genres))},directives:[r.q,r.P,r.i,r.f,r.g,r.N,r.m,n.o,n.k,n.f,r.A,r.v,r.z,r.u,r.ab,n.j,n.d,n.m,o.i,r.J,r.Z,r.K,o.h,r.h,r.p,r.F,r.l],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(d)],s.i]}),e})();var y=i("wk2u");let f=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[o.b,n.g,n.l,r.Q,g,y.CreateSeriesPageModule]]}),e})()}}]);