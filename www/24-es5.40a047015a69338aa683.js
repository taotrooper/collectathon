!function(){function i(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function o(i,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{RmqX:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchPageModule",(function(){return N}));var r=n("ofXK"),a=n("3Pt+"),c=n("TEn/"),l=n("tyNb"),b=n("fXoL"),u=n("Epai"),s=n("2bnu");function p(i,o){1&i&&(b.Lb(0,"div"),b.Lb(1,"ion-select-option",24),b.ic(2,"ISBN"),b.Kb(),b.Lb(3,"ion-select-option",25),b.ic(4,"Editorial"),b.Kb(),b.Lb(5,"ion-select-option",26),b.ic(6,"Idioma"),b.Kb(),b.Lb(7,"ion-select-option",27),b.ic(8,"Tipo (bolsillo, tapa dura, ebook...)"),b.Kb(),b.Kb())}function m(i,o){1&i&&(b.Lb(0,"div"),b.Lb(1,"ion-select-option",28),b.ic(2,"Formato (CD, vinilo, digital...)"),b.Kb(),b.Lb(3,"ion-select-option",29),b.ic(4,"Sello"),b.Kb(),b.Kb())}function f(i,o){1&i&&(b.Lb(0,"div"),b.Lb(1,"ion-select-option",30),b.ic(2,"Formato (DVD, Bluray...)"),b.Kb(),b.Lb(3,"ion-select-option",31),b.ic(4,"Tipo (Pel\xedcula, serie...)"),b.Kb(),b.Lb(5,"ion-select-option",32),b.ic(6,"Sistema (PAL, NTSC...)"),b.Kb(),b.Lb(7,"ion-select-option",33),b.ic(8,"Regi\xf3n"),b.Kb(),b.Lb(9,"ion-select-option",34),b.ic(10,"Temporada"),b.Kb(),b.Kb())}function d(i,o){1&i&&(b.Lb(0,"div"),b.Lb(1,"ion-select-option",35),b.ic(2,"Plataforma/consola"),b.Kb(),b.Lb(3,"ion-select-option",36),b.ic(4,"Formato (f\xedsico/digital...)"),b.Kb(),b.Lb(5,"ion-select-option",37),b.ic(6,"Regi\xf3n"),b.Kb(),b.Lb(7,"ion-select-option",38),b.ic(8,"Distribuidora"),b.Kb(),b.Lb(9,"ion-select-option",39),b.ic(10,"Estudio"),b.Kb(),b.Kb())}function v(i,o){1&i&&(b.Lb(0,"div"),b.Lb(1,"ion-select-option",40),b.ic(2,"Tipo (grapas, tomo, omnibus)"),b.Kb(),b.Lb(3,"ion-select-option",41),b.ic(4,"Origen (norteamericano, manga, europeo..."),b.Kb(),b.Lb(5,"ion-select-option",42),b.ic(6,"ISBN"),b.Kb(),b.Lb(7,"ion-select-option",43),b.ic(8,"Editorial"),b.Kb(),b.Lb(9,"ion-select-option",44),b.ic(10,"Idioma"),b.Kb(),b.Lb(11,"ion-select-option",45),b.ic(12,"Formato (f\xedsico/digital)"),b.Kb(),b.Lb(13,"ion-select-option",46),b.ic(14,"N\xfamero"),b.Kb(),b.Kb())}function h(i,o){1&i&&(b.Lb(0,"ion-item",6),b.ic(1,"No hay criterios de b\xfasqueda."),b.Kb())}function L(i,o){if(1&i){var e=b.Mb();b.Lb(0,"ion-chip"),b.ic(1),b.Lb(2,"button",48),b.Tb("click",(function(){b.ec(e);var i=o.$implicit;return b.Vb(2).removeCriteria(i)})),b.ic(3,"x"),b.Kb(),b.Kb()}if(2&i){var t=o.$implicit;b.yb(1),b.lc("",t.campo," = ",t.valor,"")}}function K(i,o){if(1&i&&(b.Lb(0,"ion-item",6),b.hc(1,L,4,2,"ion-chip",47),b.Kb()),2&i){var e=b.Vb();b.yb(1),b.Yb("ngForOf",e.criteria)}}function g(i,o){if(1&i&&(b.Lb(0,"ion-item-sliding"),b.Jb(1,"app-edition-list",49),b.Kb()),2&i){var e=o.$implicit;b.yb(1),b.Yb("ed",e)}}function y(i,o){if(1&i&&(b.Lb(0,"ion-list"),b.Lb(1,"ion-item",6),b.Lb(2,"small"),b.ic(3),b.Kb(),b.Kb(),b.hc(4,g,2,1,"ion-item-sliding",47),b.Kb()),2&i){var e=b.Vb();b.yb(3),b.kc("Mostrando ",e.numres," resultados."),b.yb(1),b.Yb("ngForOf",e.items)}}var I,C,T,k=[{path:"",component:(I=function(){function e(o,t,n,r,c){i(this,e),this.http=o,this.navCtrl=t,this.route=n,this.router=r,this.formBuilder=c,this.criteria=[],this.numres=null,this.isSubmitted=!1,this.formcriteria=null,this.formcriteria=new a.e({tipo:new a.b,campo:new a.b,valor:new a.b})}var t,n,r;return t=e,(n=[{key:"ngOnInit",value:function(){this.formcriteria=this.formBuilder.group({tipo:[null],campo:[null,a.n.required],valor:[null,a.n.required]})}},{key:"addCriteria",value:function(){var i=this;if(this.isSubmitted=!0,!this.formcriteria.valid)return console.log("Please provide all the required values!"),!1;if(this.formcriteria.value.valor){var o=this.criteria.find((function(o){return o.campo===i.formcriteria.value.campo}));o?o.valor=this.formcriteria.value.valor:this.criteria.push({campo:this.formcriteria.value.campo,valor:this.formcriteria.value.valor}),console.log("criteria:"+this.criteria)}}},{key:"removeCriteria",value:function(i){this.criteria.splice(this.criteria.findIndex((function(o){return o===i})),1),console.log("people:"+this.criteria)}},{key:"changeType",value:function(){if(this.criteria.find((function(i){return"ItemType"===i.campo}))&&this.criteria.splice(this.criteria.findIndex((function(i){return"ItemType"===i.campo})),1),"all"!==this.formcriteria.value.tipo){var i={campo:"ItemType",valor:this.http.getItemType(this.formcriteria.value.tipo)};this.criteria.push(i)}}},{key:"compareFn",value:function(i,o){return i&&o?i.id===o.id:i===o}},{key:"process",value:function(){var i=this,o={body:this.criteria};console.log("c ",o),this.http.searchEditions(o).subscribe((function(o){i.items=o.body.body,i.numres=o.itemCount||o.body.itemCount,console.log(i.numres)}),(function(o){console.error(o),i.numres=0}))}},{key:"errorControl",get:function(){return this.formcriteria.controls}}])&&o(t.prototype,n),r&&o(t,r),e}(),I.\u0275fac=function(i){return new(i||I)(b.Ib(u.a),b.Ib(c.U),b.Ib(l.a),b.Ib(l.g),b.Ib(a.a))},I.\u0275cmp=b.Cb({type:I,selectors:[["app-search"]],decls:51,vars:10,consts:[["color","primary"],["slot","start"],["defaultHref","explore"],["slot","end"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","tipo","type","text",3,"ionChange"],["value","all"],["value","book"],["value","music"],["value","video"],["value","game"],["value","comic"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Campo","formControlName","campo","type","text"],["value","ItemName"],["value","Year"],["value","EAN13"],[4,"ngIf"],["placeholder","Valor","formControlName","valor","type","text"],["shape","round","color","primary","type","submit"],["lines","full",4,"ngIf"],["expand","block","shape","round","color","primary",3,"click"],["value","ISBN"],["value","Editorial"],["value","Idioma"],["value","Tipo"],["value","Formato"],["value","Sello"],["value","FormatoVideo"],["value","TipoVideo"],["value","Sistema"],["value","RegionVideo"],["value","Temporada"],["value","Plataforma"],["value","FormatoJuego"],["value","RegionJuego"],["value","Distribuidora"],["value","Estudio"],["value","TipoComic"],["value","Origen"],["value","ISBNComic"],["value","EditorialComic"],["value","IdiomaComic"],["value","FormatoComic"],["value","NroComic"],[4,"ngFor","ngForOf"],["ion-button","",3,"click"],[3,"ed"]],template:function(i,o){1&i&&(b.Lb(0,"ion-header"),b.Lb(1,"ion-toolbar",0),b.Lb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Kb(),b.Lb(4,"ion-buttons",3),b.Jb(5,"ion-menu-button"),b.Kb(),b.Lb(6,"ion-title"),b.ic(7,"B\xfasqueda avanzada"),b.Kb(),b.Kb(),b.Kb(),b.Lb(8,"ion-content",4),b.Lb(9,"form",5),b.Tb("ngSubmit",(function(){return o.addCriteria()})),b.Lb(10,"ion-list"),b.Lb(11,"ion-item",6),b.Lb(12,"ion-label",7),b.ic(13,"Selecciona tipo de \xedtem"),b.Kb(),b.Lb(14,"ion-select",8),b.Tb("ionChange",(function(){return o.changeType()})),b.Lb(15,"ion-select-option",9),b.ic(16,"Todos"),b.Kb(),b.Lb(17,"ion-select-option",10),b.ic(18,"Libro"),b.Kb(),b.Lb(19,"ion-select-option",11),b.ic(20,"M\xfasica"),b.Kb(),b.Lb(21,"ion-select-option",12),b.ic(22,"V\xeddeo"),b.Kb(),b.Lb(23,"ion-select-option",13),b.ic(24,"Videojuego"),b.Kb(),b.Lb(25,"ion-select-option",14),b.ic(26,"Comic"),b.Kb(),b.Kb(),b.Kb(),b.Lb(27,"ion-item",6),b.Lb(28,"small"),b.ic(29,"Asigna al menos un criterio de b\xfasqueda:"),b.Kb(),b.Kb(),b.Lb(30,"ion-item",6),b.Lb(31,"ion-select",15),b.Lb(32,"ion-select-option",16),b.ic(33,"T\xedtulo"),b.Kb(),b.Lb(34,"ion-select-option",17),b.ic(35,"A\xf1o de edici\xf3n"),b.Kb(),b.Lb(36,"ion-select-option",18),b.ic(37,"EAN13"),b.Kb(),b.hc(38,p,9,0,"div",19),b.hc(39,m,5,0,"div",19),b.hc(40,f,11,0,"div",19),b.hc(41,d,11,0,"div",19),b.hc(42,v,15,0,"div",19),b.Kb(),b.Jb(43,"ion-input",20),b.Lb(44,"ion-button",21),b.ic(45,"A\xf1adir"),b.Kb(),b.Kb(),b.hc(46,h,2,0,"ion-item",22),b.hc(47,K,2,1,"ion-item",22),b.Kb(),b.Lb(48,"ion-button",23),b.Tb("click",(function(){return o.process()})),b.ic(49,"Aceptar"),b.Kb(),b.hc(50,y,5,2,"ion-list",19),b.Kb(),b.Kb()),2&i&&(b.yb(8),b.Yb("fullscreen",!0),b.yb(1),b.Yb("formGroup",o.formcriteria),b.yb(29),b.Yb("ngIf","book"==o.formcriteria.value.tipo),b.yb(1),b.Yb("ngIf","music"==o.formcriteria.value.tipo),b.yb(1),b.Yb("ngIf","video"==o.formcriteria.value.tipo),b.yb(1),b.Yb("ngIf","game"==o.formcriteria.value.tipo),b.yb(1),b.Yb("ngIf","comic"==o.formcriteria.value.tipo),b.yb(4),b.Yb("ngIf",o.criteria.length<1),b.yb(1),b.Yb("ngIf",o.criteria.length>=1),b.yb(3),b.Yb("ngIf",null!==o.numres))},directives:[c.q,c.P,c.i,c.f,c.g,c.C,c.N,c.m,a.o,a.k,a.f,c.A,c.v,c.z,c.J,c.Z,a.j,a.d,c.K,r.i,c.u,c.ab,c.h,r.h,c.k,c.y,s.a],styles:[""]}),I)}],w=((C=function o(){i(this,o)}).\u0275mod=b.Gb({type:C}),C.\u0275inj=b.Fb({factory:function(i){return new(i||C)},imports:[[l.i.forChild(k)],l.i]}),C),F=n("j1ZV"),N=((T=function o(){i(this,o)}).\u0275mod=b.Gb({type:T}),T.\u0275inj=b.Fb({factory:function(i){return new(i||T)},imports:[[r.b,a.g,a.l,c.Q,F.a,w]]}),T)},j1ZV:function(o,e,t){"use strict";t.d(e,"a",(function(){return c}));var n=t("ofXK"),r=t("TEn/"),a=t("fXoL"),c=function(){var o=function o(){i(this,o)};return o.\u0275mod=a.Gb({type:o}),o.\u0275inj=a.Fb({factory:function(i){return new(i||o)},imports:[[n.b,r.Q]]}),o}()}}])}();