!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12,43],{"0Gmn":function(t,i,o){"use strict";o.d(i,"a",(function(){return m}));var r=o("mrSG"),s=o("3Pt+"),a=o("fXoL"),c=o("TEn/"),b=o("Epai"),l=o("tyNb"),u=o("ofXK");function d(e,t){1&e&&(a.Lb(0,"span",12),a.ic(1," Campo requerido. "),a.Kb())}function p(e,t){1&e&&(a.Lb(0,"span",12),a.ic(1," Campo requerido. "),a.Kb())}var m=function(){var t=function(){function t(n,i,o,r,a,c,b){e(this,t),this.modalController=n,this.navParams=i,this.http=o,this.navCtrl=r,this.route=a,this.router=c,this.formBuilder=b,this.web=null,this.isSubmitted=!1,this.web=new s.e({URL:new s.b,Text:new s.b})}return n(t,[{key:"ngOnInit",value:function(){this.id=this.navParams.data.id,this.getWebsite()}},{key:"getWebsite",value:function(){var e=this;this.http.getWebsite(this.id).subscribe((function(t){e.web=e.formBuilder.group({URL:[t.URL,s.n.required],Text:[t.Text,s.n.required]}),console.log("res: ",t)}),(function(e){console.error(e)}))}},{key:"submitForm",value:function(){var e=this;if(this.isSubmitted=!0,!this.web.valid)return console.log("Please provide all the required values!"),!1;this.web.value.WebsiteID=this.id,console.log(this.web.value),this.http.updateWebsite(this.web.value).subscribe((function(t){console.log("Web "+t.body),e.WebsiteID=t.body.WebsiteID,console.log("antes de cerrar modal ",e.WebsiteID),e.closeModal()}),(function(e){console.log(e)}))}},{key:"closeModal",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.dismiss(this.WebsiteID);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"errorControl",get:function(){return this.web.controls}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Ib(c.T),a.Ib(c.V),a.Ib(b.a),a.Ib(c.U),a.Ib(l.a),a.Ib(l.g),a.Ib(s.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-edit-website"]],decls:30,vars:6,consts:[["color","primary"],["slot","start"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],[2,"color","red"],["placeholder","http://www.ejemplo.com/pagina","formControlName","URL","type","url","required","",3,"value"],["class","error ion-padding",4,"ngIf"],["placeholder","Ejemplo: Amazon, Wikipedia, IMDB, etc.","formControlName","Text","type","text","required","",3,"value"],["small","","expand","inline","shape","round","color","primary","type","submit"],["small","","expand","inline","shape","round","color","primary",3,"click"],[1,"error","ion-padding"]],template:function(e,t){1&e&&(a.Lb(0,"ion-header"),a.Lb(1,"ion-toolbar",0),a.Jb(2,"ion-buttons",1),a.Lb(3,"ion-title"),a.ic(4,"Editar p\xe1gina web"),a.Kb(),a.Kb(),a.Kb(),a.Lb(5,"ion-content",2),a.Lb(6,"form",3),a.Tb("ngSubmit",(function(){return t.submitForm()})),a.Lb(7,"ion-list"),a.Lb(8,"ion-item",4),a.Lb(9,"ion-label",5),a.Lb(10,"span",6),a.ic(11,"*"),a.Kb(),a.ic(12,"URL/Direcci\xf3n"),a.Kb(),a.Jb(13,"ion-input",7),a.hc(14,d,2,0,"span",8),a.Kb(),a.Lb(15,"ion-item",4),a.Lb(16,"ion-label",5),a.Lb(17,"span",6),a.ic(18,"*"),a.Kb(),a.ic(19,"Texto del enlace"),a.Kb(),a.Jb(20,"ion-input",9),a.hc(21,p,2,0,"span",8),a.Kb(),a.Kb(),a.Lb(22,"ion-grid"),a.Lb(23,"ion-row"),a.Lb(24,"ion-col"),a.Lb(25,"ion-button",10),a.ic(26,"Enviar"),a.Kb(),a.Kb(),a.Lb(27,"ion-col"),a.Lb(28,"ion-button",11),a.Tb("click",(function(){return t.closeModal()})),a.ic(29,"Cancelar"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb()),2&e&&(a.yb(5),a.Yb("fullscreen",!0),a.yb(1),a.Yb("formGroup",t.web),a.yb(7),a.Yb("value",t.web.URL),a.yb(1),a.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.URL.errors?null:t.errorControl.URL.errors.required)),a.yb(6),a.Yb("value",t.web.Text),a.yb(1),a.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.Text.errors?null:t.errorControl.Text.errors.required)))},directives:[c.q,c.P,c.i,c.N,c.m,s.o,s.k,s.f,c.A,c.v,c.z,c.u,c.ab,s.j,s.d,s.m,u.i,c.p,c.F,c.l,c.h],styles:[""]}),t}()},fj2Z:function(t,i,o){"use strict";o.r(i),o.d(i,"PersonPageModule",(function(){return K}));var r=o("ofXK"),s=o("3Pt+"),a=o("TEn/"),c=o("tyNb"),b=o("mrSG"),l=o("fXoL"),u=o("Epai"),d=o("rgD0");function p(e,t){1&e&&(l.Lb(0,"ion-item-sliding"),l.Lb(1,"ion-label",11),l.ic(2,"No existen items para esta persona."),l.Kb(),l.Kb())}function m(e,t){if(1&e){var n=l.Mb();l.Lb(0,"ion-item-sliding"),l.Lb(1,"ion-item",12),l.Tb("click",(function(){l.ec(n);var e=t.$implicit;return l.Vb().goToItem(e.ItemID,e.ItemType)})),l.Jb(2,"ion-icon",13),l.Lb(3,"ion-label",11),l.ic(4),l.Kb(),l.Kb(),l.Kb()}if(2&e){var i=t.$implicit,o=l.Vb();l.yb(2),l.Zb("name",o.http.getItemTypeIcon(i.ItemType)),l.yb(2),l.jc(i.ItemSummary)}}function f(e,t){if(1&e){var n=l.Mb();l.Lb(0,"ion-button",14),l.Tb("click",(function(){return l.ec(n),l.Vb().goToEditPerson()})),l.ic(1,"Editar persona"),l.Kb()}}function h(e,t){if(1&e){var n=l.Mb();l.Lb(0,"ion-button",15),l.Tb("click",(function(){return l.ec(n),l.Vb().deletePerson()})),l.ic(1,"Eliminar persona"),l.Kb()}}var g,v,y,w=[{path:"",component:(g=function(){function t(n,i,o,r,s){e(this,t),this.http=n,this.navCtrl=i,this.alertCtrl=o,this.route=r,this.router=s,this.itemCount=0,this.id=this.route.snapshot.params.id,console.log(this.id),this.getItemsByPerson(),this.getPerson(),this.user=this.http.getUserID(),console.log("usuarios: ",this.user," ",this.creatoruser),console.log(this.items)}return n(t,[{key:"ngOnInit",value:function(){}},{key:"getItemsByPerson",value:function(){var e=this;this.items=[],this.http.getItemsByPerson(this.id).subscribe((function(t){e.items=t.body,e.items&&(e.itemCount=e.items.length),console.log("res: ",e.items)}),(function(e){console.error(e)}))}},{key:"getPerson",value:function(){var e=this;this.http.getPerson(this.id).subscribe((function(t){e.names=t.Names,e.lastnames=t.LastNames,e.creatoruser=t.CreatorUserID,console.log("persona: ",t)}),(function(e){console.error(e)}))}},{key:"goToItem",value:function(e,t){this.navCtrl.navigateForward("/item/"+this.http.getItemTypeURL(t)+"/"+e)}},{key:"goToEditPerson",value:function(){this.navCtrl.navigateForward("/edit-person/"+this.id)}},{key:"deletePerson",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Confirmar",message:"\xbfEst\xe1s seguro que deseas eliminar la persona?",buttons:[{text:"Cancelar",role:"cancelar",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Aceptar",handler:function(){console.log("Confirm Okay"),n.http.deletePerson(n.id)}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:this.navCtrl.navigateForward("/allpeople");case 6:case"end":return e.stop()}}),e,this)})))}}]),t}(),g.\u0275fac=function(e){return new(e||g)(l.Ib(u.a),l.Ib(a.U),l.Ib(a.b),l.Ib(c.a),l.Ib(c.g))},g.\u0275cmp=l.Cb({type:g,selectors:[["app-person"]],decls:21,vars:11,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","allpeople"],["slot","end"],[3,"fullscreen"],["type","person",3,"id"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],[1,"ion-text-wrap",2,"margin-left","5px"],["detail","",3,"click"],["top","",3,"name"],[3,"click"],["color","danger",3,"click"]],template:function(e,t){1&e&&(l.Lb(0,"ion-header",0),l.Lb(1,"ion-toolbar",1),l.Lb(2,"ion-buttons",2),l.Jb(3,"ion-back-button",3),l.Kb(),l.Lb(4,"ion-buttons",4),l.Jb(5,"ion-menu-button"),l.Kb(),l.Lb(6,"ion-title"),l.ic(7),l.Kb(),l.Kb(),l.Kb(),l.Lb(8,"ion-content",5),l.Lb(9,"ion-item"),l.Lb(10,"h1"),l.ic(11),l.Kb(),l.Kb(),l.Lb(12,"ion-item"),l.Jb(13,"app-website-list",6),l.Kb(),l.Lb(14,"ion-list"),l.hc(15,p,3,0,"ion-item-sliding",7),l.hc(16,m,5,2,"ion-item-sliding",8),l.Kb(),l.Lb(17,"ion-grid"),l.Lb(18,"ion-row"),l.hc(19,f,2,0,"ion-button",9),l.hc(20,h,2,0,"ion-button",10),l.Kb(),l.Kb(),l.Kb()),2&e&&(l.Yb("translucent",!0),l.yb(7),l.lc("",t.names," ",t.lastnames,""),l.yb(1),l.Yb("fullscreen",!0),l.yb(3),l.lc("",t.names," ",t.lastnames,""),l.yb(2),l.Yb("id",t.id),l.yb(2),l.Yb("ngIf",t.itemCount<=0),l.yb(1),l.Yb("ngForOf",t.items),l.yb(3),l.Yb("ngIf",t.creatoruser==t.user),l.yb(1),l.Yb("ngIf",t.creatoruser==t.user&&0==t.itemCount))},directives:[a.q,a.P,a.i,a.f,a.g,a.C,a.N,a.m,a.v,d.a,a.A,r.i,r.h,a.p,a.F,a.y,a.z,a.r,a.h],styles:[""]}),g)}],L=((v=function t(){e(this,t)}).\u0275mod=l.Gb({type:v}),v.\u0275inj=l.Fb({factory:function(e){return new(e||v)},imports:[[c.i.forChild(w)],c.i]}),v),I=o("j1ZV"),K=((y=function t(){e(this,t)}).\u0275mod=l.Gb({type:y}),y.\u0275inj=l.Fb({factory:function(e){return new(e||y)},imports:[[r.b,s.g,s.l,a.Q,I.a,L]]}),y)},j1ZV:function(t,n,i){"use strict";i.d(n,"a",(function(){return a}));var o=i("ofXK"),r=i("TEn/"),s=i("fXoL"),a=function(){var t=function t(){e(this,t)};return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[o.b,r.Q]]}),t}()},rgD0:function(t,i,o){"use strict";o.d(i,"a",(function(){return f}));var r=o("mrSG"),s=o("xM1R"),a=o("0Gmn"),c=o("fXoL"),b=o("Epai"),l=o("TEn/"),u=o("tyNb"),d=o("ofXK");function p(e,t){if(1&e){var n=c.Mb();c.Lb(0,"div"),c.Lb(1,"ion-icon",6),c.Tb("click",(function(){c.ec(n);var e=c.Vb().$implicit;return c.Vb().goToEditWebsite(e.WebsiteID)})),c.Kb(),c.Lb(2,"ion-icon",7),c.Tb("click",(function(){c.ec(n);var e=c.Vb().$implicit;return c.Vb().deleteWebsite(e.WebsiteID)})),c.Kb(),c.Kb()}}function m(e,t){if(1&e&&(c.Lb(0,"ion-chip"),c.Jb(1,"ion-icon",3),c.Lb(2,"ion-label"),c.Lb(3,"a",4),c.ic(4),c.Kb(),c.Kb(),c.hc(5,p,3,0,"div",5),c.Kb()),2&e){var n=t.$implicit,i=c.Vb();c.yb(1),c.Yb("name",i.getIcon(n.URL)),c.yb(2),c.Zb("href",n.URL,c.fc),c.yb(1),c.jc(n.Text),c.yb(1),c.Yb("ngIf",n.CreatorUserID==i.user)}}var f=function(){var t=function(){function t(n,i,o,r,s,a){e(this,t),this.http=n,this.navCtrl=i,this.route=o,this.router=r,this.alertCtrl=s,this.modalController=a}return n(t,[{key:"ngOnInit",value:function(){this.getWebsites(),this.user=this.http.getUserID(),console.log("user: ",this.user)}},{key:"getWebsites",value:function(){var e=this;this.webs=[],this.http.getWebsitesForObject(this.id,this.type).subscribe((function(t){e.webs=t.body,console.log("webs ",e.webs)}),(function(e){console.error(e)}))}},{key:"goToNewWebsite",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("P\xe1gina modal"),e.next=3,this.modalController.create({component:s.a,componentProps:{id:this.id,type:this.type}});case 3:return(t=e.sent).onDidDismiss().then((function(e){null!=e&&(n.webs=[],n.newWeb=e,console.log("New Web: ",n.newWeb),n.getWebsites())})),e.next=7,t.present();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"deleteWebsite",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:"Confirmar",message:"\xbfSeguro que deseas eliminar permanentemente la p\xe1gina web?",buttons:[{text:"Aceptar",handler:function(){i.http.deleteWebsite(e),i.webs=[],i.getWebsites()}},{text:"Cancelar",role:"cancel",handler:function(){console.log("Cancelar")}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"goToEditWebsite",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Edit website ",e),t.next=3,this.modalController.create({component:a.a,componentProps:{id:e}});case 3:return(n=t.sent).onDidDismiss().then((function(e){null!=e&&(i.webs=[],console.log("Edit Web: ",e),i.getWebsites())})),t.next=7,n.present();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"getIcon",value:function(e){var t="compass-outline";return e.indexOf("amazon.")>0?t="logo-amazon":e.indexOf("facebook.com")>0?t="logo-facebook":e.indexOf("twitter.com")>0?t="logo-twitter":e.indexOf("instagram.com")>0?t="logo-instagram":e.indexOf("playstation.com")>0?t="logo-playstation":e.indexOf("steampowered.com")>0?t="icon-steam":e.indexOf("xbox.com")>0?t="logo-xbox":e.indexOf("youtube.com")>0&&(t="logo-youtube"),t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Ib(b.a),c.Ib(l.U),c.Ib(u.a),c.Ib(u.g),c.Ib(l.b),c.Ib(l.T))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-website-list"]],inputs:{id:"id",type:"type"},decls:5,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"click"],["name","add"],[3,"name"],[1,"chiplink",3,"href"],[4,"ngIf"],["name","pencil",3,"click"],["name","close",3,"click"]],template:function(e,t){1&e&&(c.hc(0,m,6,4,"ion-chip",0),c.Lb(1,"ion-chip",1),c.Tb("click",(function(){return t.goToNewWebsite()})),c.Jb(2,"ion-icon",2),c.Lb(3,"ion-label"),c.ic(4,"web"),c.Kb(),c.Kb()),2&e&&c.Yb("ngForOf",t.webs)},directives:[d.h,l.k,l.r,l.z,d.i],styles:[""]}),t}()},xM1R:function(t,i,o){"use strict";o.d(i,"a",(function(){return m}));var r=o("mrSG"),s=o("3Pt+"),a=o("fXoL"),c=o("TEn/"),b=o("Epai"),l=o("tyNb"),u=o("ofXK");function d(e,t){1&e&&(a.Lb(0,"span",12),a.ic(1," Campo requerido. "),a.Kb())}function p(e,t){1&e&&(a.Lb(0,"span",12),a.ic(1," Campo requerido. "),a.Kb())}var m=function(){var t=function(){function t(n,i,o,r,a,c,b){e(this,t),this.modalController=n,this.navParams=i,this.http=o,this.navCtrl=r,this.route=a,this.router=c,this.formBuilder=b,this.isSubmitted=!1,this.newweb=new s.e({URL:new s.b,Text:new s.b})}return n(t,[{key:"ngOnInit",value:function(){this.id=this.navParams.data.id,this.type=this.navParams.data.type,this.newweb=this.formBuilder.group({URL:[null,s.n.compose([s.n.required,s.n.pattern("(?:(?:(?:ht|f)tp)s?://)?[\\w_-]+(?:\\.[\\w_-]+)+([\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])?")])],Text:[null,s.n.required]})}},{key:"submitForm",value:function(){var e=this;if(this.isSubmitted=!0,!this.newweb.valid)return console.log("Please provide all the required values!"),!1;console.log(this.newweb.value),this.http.createWebsite(this.newweb.value,this.id,this.type).subscribe((function(t){console.log("Web "+t.body),e.WebsiteID=t.body.WebsiteID,console.log("antes de cerrar modal ",e.WebsiteID),e.closeModal()}),(function(e){console.log(e)}))}},{key:"closeModal",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalController.dismiss(this.WebsiteID);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"errorControl",get:function(){return this.newweb.controls}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Ib(c.T),a.Ib(c.V),a.Ib(b.a),a.Ib(c.U),a.Ib(l.a),a.Ib(l.g),a.Ib(s.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-create-website"]],decls:30,vars:4,consts:[["color","primary"],["slot","start"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],[2,"color","red"],["placeholder","http://www.ejemplo.com/pagina","formControlName","URL","type","text","required",""],["class","error ion-padding",4,"ngIf"],["placeholder","Ejemplo: Amazon, Wikipedia, IMDB, etc.","formControlName","Text","type","text","required",""],["small","","expand","inline","shape","round","color","primary","type","submit"],["small","","expand","inline","shape","round","color","primary",3,"click"],[1,"error","ion-padding"]],template:function(e,t){1&e&&(a.Lb(0,"ion-header"),a.Lb(1,"ion-toolbar",0),a.Jb(2,"ion-buttons",1),a.Lb(3,"ion-title"),a.ic(4,"Crear p\xe1gina web"),a.Kb(),a.Kb(),a.Kb(),a.Lb(5,"ion-content",2),a.Lb(6,"form",3),a.Tb("ngSubmit",(function(){return t.submitForm()})),a.Lb(7,"ion-list"),a.Lb(8,"ion-item",4),a.Lb(9,"ion-label",5),a.Lb(10,"span",6),a.ic(11,"*"),a.Kb(),a.ic(12,"URL/Direcci\xf3n"),a.Kb(),a.Jb(13,"ion-input",7),a.hc(14,d,2,0,"span",8),a.Kb(),a.Lb(15,"ion-item",4),a.Lb(16,"ion-label",5),a.Lb(17,"span",6),a.ic(18,"*"),a.Kb(),a.ic(19,"Texto del enlace"),a.Kb(),a.Jb(20,"ion-input",9),a.hc(21,p,2,0,"span",8),a.Kb(),a.Kb(),a.Lb(22,"ion-grid"),a.Lb(23,"ion-row"),a.Lb(24,"ion-col"),a.Lb(25,"ion-button",10),a.ic(26,"Enviar"),a.Kb(),a.Kb(),a.Lb(27,"ion-col"),a.Lb(28,"ion-button",11),a.Tb("click",(function(){return t.closeModal()})),a.ic(29,"Cancelar"),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb(),a.Kb()),2&e&&(a.yb(5),a.Yb("fullscreen",!0),a.yb(1),a.Yb("formGroup",t.newweb),a.yb(8),a.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.URL.errors?null:t.errorControl.URL.errors.required)),a.yb(7),a.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.Text.errors?null:t.errorControl.Text.errors.required)))},directives:[c.q,c.P,c.i,c.N,c.m,s.o,s.k,s.f,c.A,c.v,c.z,c.u,c.ab,s.j,s.d,s.m,u.i,c.p,c.F,c.l,c.h],styles:[""]}),t}()}}])}();