(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{EJUz:function(t,i,n){"use strict";n.r(i),n.d(i,"MymusicPageModule",(function(){return v}));var o=n("ofXK"),e=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),c=n("mrSG"),b=n("Kj3r"),a=n("fXoL"),l=n("Epai"),d=n("3KOY"),u=n("2bnu");function f(t,i){if(1&t){const t=a.Mb();a.Lb(0,"ion-item-sliding"),a.Lb(1,"ion-item-options",11),a.Lb(2,"ion-item-option",12),a.Tb("click",(function(){a.ec(t);const n=i.$implicit;return a.Vb(2).removeEditionFromUser(n.EditionID)})),a.Jb(3,"ion-icon",13),a.Kb(),a.Kb(),a.Jb(4,"app-edition-list",14),a.Kb()}if(2&t){const t=i.$implicit;a.yb(4),a.Yb("ed",t)}}function m(t,i){if(1&t&&(a.Lb(0,"ion-list"),a.hc(1,f,5,1,"ion-item-sliding",10),a.Kb()),2&t){const t=a.Vb();a.yb(1),a.Yb("ngForOf",t.ediciones)}}function h(t,i){if(1&t&&(a.Lb(0,"ion-item-sliding"),a.Jb(1,"app-edition-list",14),a.Kb()),2&t){const t=i.$implicit;a.yb(1),a.Yb("ed",t)}}function p(t,i){if(1&t&&(a.Lb(0,"ion-list"),a.hc(1,h,2,1,"ion-item-sliding",10),a.Kb()),2&t){const t=a.Vb();a.yb(1),a.Yb("ngForOf",t.items)}}const g=[{path:"",component:(()=>{class t{constructor(t,i,n,o,s){this.http=t,this.navCtrl=i,this.router=n,this.filterServ=o,this.alertController=s,this.searchControl=new e.b}getEditions(){this.http.getMusic().subscribe(t=>{this.ediciones=t.body},t=>{console.error(t)})}goToEdition(t,i){this.navCtrl.navigateForward("/edition/"+this.http.getItemTypeURL(i)+"/"+t)}goToAddMusic(){this.navCtrl.navigateForward("/add-music")}ngOnInit(){this.getEditions(),this.setFilteredList(null),this.searchControl.valueChanges.pipe(Object(b.a)(700)).subscribe(t=>{this.setFilteredList(t)})}setFilteredList(t){this.items=this.filterServ.filterByEdition(t,this.ediciones)}removeEditionFromUser(t){return Object(c.a)(this,void 0,void 0,(function*(){console.log("holita ",t);const i=yield this.alertController.create({header:"Confirmar",message:"\xbfEst\xe1s seguro que deseas borrar la edici\xf3n de tus items? Esto no eliminar\xe1 la edici\xf3n de la base de datos.",buttons:[{text:"Cancelar",role:"cancelar",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Aceptar",handler:()=>{console.log("Confirm Okay"),this.http.removeEditionFromUser(t).subscribe(t=>{this.http.presentToast(t.body.Message),200==t.status&&this.getEditions()},t=>(console.log(t),t))}}]});yield i.present()}))}}return t.\u0275fac=function(i){return new(i||t)(a.Ib(l.a),a.Ib(s.U),a.Ib(r.g),a.Ib(d.a),a.Ib(s.b))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-mymusic"]],decls:18,vars:5,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/home"],["slot","end"],[3,"fullscreen"],["placeholder","Buscar...",3,"formControl"],[4,"ngIf"],["horizontal","end","vertical","bottom","slot","fixed"],["name","add",3,"click"],[4,"ngFor","ngForOf"],["side","start"],["color","danger",3,"click"],["name","trash"],[3,"ed"]],template:function(t,i){1&t&&(a.Lb(0,"ion-header",0),a.Lb(1,"ion-toolbar",1),a.Lb(2,"ion-buttons",2),a.Jb(3,"ion-back-button",3),a.Kb(),a.Lb(4,"ion-buttons",4),a.Jb(5,"ion-menu-button"),a.Kb(),a.Lb(6,"ion-title"),a.ic(7," Mi m\xfasica "),a.Kb(),a.Kb(),a.Kb(),a.Lb(8,"ion-content",5),a.Jb(9,"ion-searchbar",6),a.Lb(10,"ion-item"),a.Lb(11,"small"),a.ic(12,"Arrastrar a la derecha para ver opciones."),a.Kb(),a.Kb(),a.hc(13,m,2,1,"ion-list",7),a.hc(14,p,2,1,"ion-list",7),a.Lb(15,"ion-fab",8),a.Lb(16,"ion-fab-button",1),a.Lb(17,"ion-icon",9),a.Tb("click",(function(){return i.goToAddMusic()})),a.Kb(),a.Kb(),a.Kb(),a.Kb()),2&t&&(a.Yb("translucent",!0),a.yb(8),a.Yb("fullscreen",!0),a.yb(1),a.Yb("formControl",i.searchControl),a.yb(4),a.Yb("ngIf",!i.items),a.yb(1),a.Yb("ngIf",i.items))},directives:[s.q,s.P,s.i,s.f,s.g,s.C,s.N,s.m,s.G,s.ab,e.j,e.c,s.v,o.i,s.n,s.o,s.r,s.A,o.h,s.y,s.x,s.w,u.a],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(i){return new(i||t)},imports:[[r.i.forChild(g)],r.i]}),t})();var L=n("j1ZV");let v=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(i){return new(i||t)},imports:[[o.b,e.g,e.l,s.Q,L.a,y]]}),t})()},j1ZV:function(t,i,n){"use strict";n.d(i,"a",(function(){return r}));var o=n("ofXK"),e=n("TEn/"),s=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(i){return new(i||t)},imports:[[o.b,e.Q]]}),t})()}}]);