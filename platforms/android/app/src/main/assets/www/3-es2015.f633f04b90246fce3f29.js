(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{X3zk:function(i,o,e){"use strict";e.r(o),e.d(o,"LoginPageModule",(function(){return f}));var t=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),s=e("tyNb"),l=e("fXoL"),a=e("Epai"),b=e("UbJi"),u=e("ccyI");function c(i,o){if(1&i){const i=l.Mb();l.Lb(0,"ion-button",19),l.Tb("click",(function(){l.ec(i);const o=l.Vb();return o.login(o.loginform.email,o.loginform.password)})),l.ic(1,"Iniciar sesi\xf3n"),l.Kb()}}function g(i,o){if(1&i){const i=l.Mb();l.Lb(0,"ion-button",19),l.Tb("click",(function(){l.ec(i);const o=l.Vb();return o.signin(o.loginform.email,o.loginform.password)})),l.ic(1,"Registrarse"),l.Kb()}}const m=[{path:"",component:(()=>{class i{constructor(i,o,e,t,r,s,l){this.http=i,this.router=o,this.ngFireAuth=e,this.navCtrl=t,this.auth=r,this.alertCtrl=s,this.formBuilder=l,this.user={email:"",password:""},this.loginform=null,this.segm="login",this.isSubmitted=!1,this.loginform=new n.e({email:new n.b,password:new n.b,segm:new n.b}),this.ngFireAuth.onAuthStateChanged(i=>{i&&this.router.navigate(["home"])})}ngOnInit(){this.loginform=this.formBuilder.group({email:[null,n.n.required],password:[null,n.n.required],segm:[this.segm]})}ionViewDidLoad(){console.log("ionViewDidLoad LoginPage")}signin(i,o){if(this.isSubmitted=!0,!this.loginform.valid)return console.log("Please provide all the required values!"),!1;console.log(this.loginform.value),this.auth.registerUser(this.loginform.value.email,this.loginform.value.password).then(i=>{this.auth.setUser(),this.router.navigate(["home"])}).catch(i=>{window.alert("signin error: "+i.message)})}login(i,o){if(this.isSubmitted=!0,!this.loginform.valid)return console.log("Please provide all the required values!"),!1;console.log(this.loginform.value),this.auth.loginUser(this.loginform.value.email,this.loginform.value.password).then(i=>{this.auth.setUser(),this.router.navigate(["home"])}).catch(i=>{window.alert("login error: "+i.message),console.log(i)})}loginGoogle(){console.log("Estoy en login logingoogle"),this.auth.loginGoogle().then(i=>{this.auth.setUser(),this.router.navigate(["home"])}).catch(i=>{window.alert("login error: "+i.message),console.log(i)})}forgotPassword(){if(this.isSubmitted=!0,!this.loginform.value.email)return this.http.presentToast("Aseg\xfarate de escribir tu correo en el formulario."),!1;this.auth.SendPasswordReset(this.loginform.value.email)}segmentChanged(i){this.segm=this.loginform.value.segm,console.log()}exitApp(){navigator.app.exitApp()}}return i.\u0275fac=function(o){return new(o||i)(l.Ib(a.a),l.Ib(s.g),l.Ib(b.a),l.Ib(r.U),l.Ib(u.a),l.Ib(r.b),l.Ib(n.a))},i.\u0275cmp=l.Cb({type:i,selectors:[["app-login"]],decls:33,vars:5,consts:[[3,"translucent"],["color","primary"],["slot","end"],[3,"click"],["name","close"],[3,"formGroup"],["formControlName","segm",3,"value","ionChange"],["value","login"],["value","register"],["lines","full"],["position","floating"],["type","email","formControlName","email","required",""],["email",""],["type","password","formControlName","password","required",""],["password",""],[2,"text-align","center"],["padding",""],["type","submit","color","primary","block","",3,"click",4,"ngIf"],["fill","clear",3,"click"],["type","submit","color","primary","block","",3,"click"]],template:function(i,o){1&i&&(l.Lb(0,"ion-header",0),l.Lb(1,"ion-toolbar",1),l.Lb(2,"ion-buttons",2),l.Lb(3,"ion-button",3),l.Tb("click",(function(){return o.exitApp()})),l.Jb(4,"ion-icon",4),l.Kb(),l.Kb(),l.Lb(5,"ion-title"),l.ic(6,"Collectathon - Inicia sesi\xf3n"),l.Kb(),l.Kb(),l.Kb(),l.Lb(7,"ion-content"),l.Lb(8,"form",5),l.Lb(9,"ion-segment",6),l.Tb("ionChange",(function(i){return o.segmentChanged(i)})),l.Lb(10,"ion-segment-button",7),l.Lb(11,"ion-label"),l.ic(12,"Iniciar sesi\xf3n"),l.Kb(),l.Kb(),l.Lb(13,"ion-segment-button",8),l.Lb(14,"ion-label"),l.ic(15,"Crear cuenta"),l.Kb(),l.Kb(),l.Kb(),l.Lb(16,"ion-item",9),l.Lb(17,"ion-label",10),l.ic(18,"Email"),l.Kb(),l.Jb(19,"ion-input",11,12),l.Kb(),l.Lb(21,"ion-item",9),l.Lb(22,"ion-label",10),l.ic(23,"Contrase\xf1a"),l.Kb(),l.Jb(24,"ion-input",13,14),l.Kb(),l.Lb(26,"ion-row"),l.Lb(27,"ion-col",15),l.Lb(28,"div",16),l.hc(29,c,2,0,"ion-button",17),l.hc(30,g,2,0,"ion-button",17),l.Lb(31,"ion-button",18),l.Tb("click",(function(){return o.forgotPassword()})),l.ic(32,"\xbfOlvidaste tu contrase\xf1a?"),l.Kb(),l.Kb(),l.Kb(),l.Kb(),l.Kb(),l.Kb()),2&i&&(l.Yb("translucent",!0),l.yb(8),l.Yb("formGroup",o.loginform),l.yb(1),l.Yb("value",o.loginform.segm),l.yb(20),l.Yb("ngIf","login"===o.segm),l.yb(1),l.Yb("ngIf","register"===o.segm))},directives:[r.q,r.P,r.i,r.h,r.r,r.N,r.m,n.o,n.k,n.f,r.H,r.Z,n.j,n.d,r.I,r.z,r.v,r.u,r.ab,n.m,r.F,r.l,t.i],styles:[""]}),i})()}];let h=(()=>{class i{}return i.\u0275mod=l.Gb({type:i}),i.\u0275inj=l.Fb({factory:function(o){return new(o||i)},imports:[[s.i.forChild(m)],s.i]}),i})(),f=(()=>{class i{}return i.\u0275mod=l.Gb({type:i}),i.\u0275inj=l.Fb({factory:function(o){return new(o||i)},imports:[[t.b,n.g,n.l,r.Q,h]]}),i})()}}]);