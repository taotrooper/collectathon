(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{cT6G:function(e,t,i){"use strict";i.r(t),i.d(t,"CreateItemPageModule",(function(){return y}));var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),l=i("mrSG"),c=i("lNOt"),b=i("fXoL"),a=i("Epai");function u(e,t){1&e&&(b.Lb(0,"span",18),b.ic(1," Campo requerido. "),b.Kb())}function m(e,t){if(1&e&&(b.Lb(0,"ion-select-option",11),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.SeriesID),b.yb(1),b.jc(e.SeriesName)}}function p(e,t){if(1&e&&(b.Lb(0,"ion-select-option",11),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.GenreID),b.yb(1),b.kc(" ",e.GenreName," ")}}function h(e,t){if(1&e&&(b.Lb(0,"ion-select-option",11),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.GenreID),b.yb(1),b.kc(" ",e.GenreName," ")}}function d(e,t){if(1&e&&(b.Lb(0,"ion-select-option",11),b.ic(1),b.Kb()),2&e){const e=t.$implicit;b.Yb("value",e.GenreID),b.yb(1),b.kc(" ",e.GenreName," ")}}const f=[{path:"",component:(()=>{class e{constructor(e,t,i,n,r,s){this.http=e,this.navCtrl=t,this.modalController=i,this.route=n,this.router=r,this.formBuilder=s,this.NewSeries=null,this.isSubmitted=!1,this.type=this.route.snapshot.params.type,this.typeName=this.http.getItemTypeName(this.type),this.getSeriesList(),this.getGenreList(),this.newitem=new o.e({ItemName:new o.b,SeriesID:new o.b,GenreID1:new o.b,GenreID2:new o.b,GenreID3:new o.b}),this.SeriesID=null,this.ItemType=this.http.getItemType(this.type)}getSeriesList(){this.http.getSeriesList().subscribe(e=>{this.series=e.body,this.series=this.series.filter(e=>e.CreatorUserID>0),console.log("Series:",this.series)},e=>{console.error(e)})}getGenreList(){console.log("busco g\xe9neros de ",this.type),this.http.getGenreList(this.type).subscribe(e=>{this.genres=e.body,console.log("G\xe9neros ",this.genres)},e=>{console.error(e)})}ngOnInit(){this.newitem=this.formBuilder.group({ItemName:[null,o.n.required],SeriesID:[null],GenreID1:[null],GenreID2:[null],GenreID3:[null]})}goToNewSeries(){return Object(l.a)(this,void 0,void 0,(function*(){console.log("P\xe1gina modal");const e=yield this.modalController.create({component:c.a,componentProps:{paramID:123,paramTitle:"Test Title"}});return e.onDidDismiss().then(e=>{null!=e&&(this.series=[],this.NewSeries=e,console.log("New Series: ",this.NewSeries),this.getSeriesList())}),yield e.present()}))}submitForm(){if(this.isSubmitted=!0,!this.newitem.valid)return console.log("Please provide all the required values!"),!1;this.newitem.value.ItemType=this.ItemType,console.log(this.newitem.value),this.ItemID=this.http.createItem(this.newitem.value),console.log(this.ItemID)}get errorControl(){return this.newitem.controls}compareFn(e,t){return e&&t?e.id===t.id:e===t}}return e.\u0275fac=function(t){return new(t||e)(b.Ib(a.a),b.Ib(r.U),b.Ib(r.T),b.Ib(s.a),b.Ib(s.g),b.Ib(o.a))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-create-item"]],decls:41,vars:11,consts:[["color","primary"],["slot","start"],["defaultHref","/home"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],["placeholder","Nombre","formControlName","ItemName","type","text","required",""],["class","error ion-padding",4,"ngIf"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","SeriesID","type","text"],["SeriesID",""],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["small","",3,"click"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID1","type","text"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID2"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","GenreID3"],["expand","block","shape","round","color","primary","type","submit"],[1,"error","ion-padding"]],template:function(e,t){1&e&&(b.Lb(0,"ion-header"),b.Lb(1,"ion-toolbar",0),b.Lb(2,"ion-buttons",1),b.Jb(3,"ion-back-button",2),b.Kb(),b.Lb(4,"ion-title"),b.ic(5,"Crear item"),b.Kb(),b.Kb(),b.Kb(),b.Lb(6,"ion-content",3),b.Lb(7,"form",4),b.Tb("ngSubmit",(function(){return t.submitForm()})),b.Lb(8,"ion-list"),b.Lb(9,"ion-item",5),b.Lb(10,"ion-label",6),b.ic(11,"Nombre del item"),b.Kb(),b.Jb(12,"ion-input",7),b.hc(13,u,2,0,"span",8),b.Kb(),b.Lb(14,"ion-item",5),b.Lb(15,"ion-label",6),b.ic(16,"Serie"),b.Kb(),b.Lb(17,"ion-select",9,10),b.Lb(19,"ion-select-option",11),b.ic(20,"Ninguna"),b.Kb(),b.hc(21,m,2,2,"ion-select-option",12),b.Kb(),b.Lb(22,"ion-button",13),b.Tb("click",(function(){return t.goToNewSeries()})),b.ic(23,"Nueva serie..."),b.Kb(),b.Kb(),b.Lb(24,"ion-item",5),b.Lb(25,"ion-label",6),b.ic(26,"G\xe9neros (elige hasta 3)"),b.Kb(),b.Lb(27,"ion-select",14),b.Lb(28,"ion-select-option",11),b.ic(29,"Ninguno"),b.Kb(),b.hc(30,p,2,2,"ion-select-option",12),b.Kb(),b.Lb(31,"ion-select",15),b.Lb(32,"ion-select-option",11),b.ic(33,"Ninguno"),b.Kb(),b.hc(34,h,2,2,"ion-select-option",12),b.Kb(),b.Lb(35,"ion-select",16),b.Lb(36,"ion-select-option",11),b.ic(37,"Ninguno"),b.Kb(),b.hc(38,d,2,2,"ion-select-option",12),b.Kb(),b.Kb(),b.Kb(),b.Lb(39,"ion-button",17),b.ic(40,"Siguiente >"),b.Kb(),b.Kb(),b.Kb()),2&e&&(b.yb(6),b.Yb("fullscreen",!0),b.yb(1),b.Yb("formGroup",t.newitem),b.yb(6),b.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.ItemName.errors?null:t.errorControl.ItemName.errors.required)),b.yb(6),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.series),b.yb(7),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.genres),b.yb(2),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.genres),b.yb(2),b.Yb("value",null),b.yb(2),b.Yb("ngForOf",t.genres))},directives:[r.q,r.P,r.i,r.f,r.g,r.N,r.m,o.o,o.k,o.f,r.A,r.v,r.z,r.u,r.ab,o.j,o.d,o.m,n.i,r.J,r.Z,r.K,n.h,r.h],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(f)],s.i]}),e})();var I=i("wk2u");let y=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(t){return new(t||e)},imports:[[n.b,o.g,o.l,r.Q,g,I.CreateSeriesPageModule]]}),e})()}}]);