{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{j1ZV:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ComponentsModule}));var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"ofXK\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"TEn/\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\");let ComponentsModule=(()=>{class ComponentsModule{}return ComponentsModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Gb({type:ComponentsModule}),ComponentsModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Fb({factory:function(t){return new(t||ComponentsModule)},imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_0__.b,_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Q]]}),ComponentsModule})()},kitD:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"SeriesPageModule\",(function(){return series_module_SeriesPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),core=__webpack_require__(\"fXoL\"),api_rest_service=__webpack_require__(\"Epai\");function SeriesPage_span_17_Template(rf,ctx){1&rf&&(core.Lb(0,\"span\"),core.ic(1,\"no\"),core.Kb())}function SeriesPage_ion_button_21_Template(rf,ctx){if(1&rf){const _r6=core.Mb();core.Lb(0,\"ion-button\",11),core.Tb(\"click\",(function(){return core.ec(_r6),core.Vb().goToEditSeries()})),core.ic(1,\"Editar serie\"),core.Kb()}}function SeriesPage_ion_button_22_Template(rf,ctx){if(1&rf){const _r8=core.Mb();core.Lb(0,\"ion-button\",12),core.Tb(\"click\",(function(){return core.ec(_r8),core.Vb().deleteSeries()})),core.ic(1,\"Eliminar serie\"),core.Kb()}}function SeriesPage_ion_item_sliding_23_Template(rf,ctx){1&rf&&(core.Lb(0,\"ion-item-sliding\"),core.Lb(1,\"ion-label\",6),core.ic(2,\"No existen ediciones para esta serie.\"),core.Kb(),core.Kb())}function SeriesPage_ion_item_sliding_24_Template(rf,ctx){if(1&rf){const _r11=core.Mb();core.Lb(0,\"ion-item-sliding\"),core.Lb(1,\"ion-item\",13),core.Tb(\"click\",(function(){core.ec(_r11);const i_r9=ctx.$implicit;return core.Vb().goToItem(i_r9.ItemID,i_r9.ItemType)})),core.Jb(2,\"ion-icon\",14),core.Lb(3,\"ion-label\",6),core.ic(4),core.Kb(),core.Kb(),core.Kb()}if(2&rf){const i_r9=ctx.$implicit,ctx_r4=core.Vb();core.yb(2),core.Zb(\"name\",ctx_r4.http.getItemTypeIcon(i_r9.ItemType)),core.yb(2),core.jc(i_r9.ItemSummary)}}const routes=[{path:\"\",component:(()=>{class SeriesPage{constructor(http,navCtrl,route,router,alertCtrl){this.http=http,this.navCtrl=navCtrl,this.route=route,this.router=router,this.alertCtrl=alertCtrl,this.itemCount=0,this.id=this.route.snapshot.params.id,console.log(this.id),this.getItemsInSeries(),this.getSeries(),this.user=this.http.getUserID(),console.log(this.items)}ngOnInit(){}getItemsInSeries(){this.items=[],this.http.getItemsInSeries(this.id).subscribe(res=>{this.items=res.body,this.items&&(this.itemCount=this.items.length),console.log(\"res: \",this.items)},error=>{console.error(error)})}getSeries(){this.http.getSeries(this.id).subscribe(res=>{this.name=res.SeriesName,this.creatorUser=res.CreatorUserID,this.finished=res.Finished},error=>{console.error(error)})}goToItem(id,type){this.navCtrl.navigateForward(\"/item/\"+this.http.getItemTypeURL(type)+\"/\"+id)}goToEditSeries(){this.navCtrl.navigateForward(\"/edit-series/\"+this.id)}deleteSeries(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const alert=yield this.alertCtrl.create({header:\"Confirmar\",message:\"¿Estás seguro que deseas eliminar la serie?\",buttons:[{text:\"Cancelar\",role:\"cancelar\",cssClass:\"secondary\",handler:()=>{console.log(\"Confirm Cancel\")}},{text:\"Aceptar\",handler:()=>{console.log(\"Confirm Okay\"),this.http.deleteSeries(this.id)}}]});yield alert.present(),this.navCtrl.navigateForward(\"/allseries\")}))}}return SeriesPage.ɵfac=function(t){return new(t||SeriesPage)(core.Ib(api_rest_service.a),core.Ib(ionic_angular.U),core.Ib(router.a),core.Ib(router.g),core.Ib(ionic_angular.b))},SeriesPage.ɵcmp=core.Cb({type:SeriesPage,selectors:[[\"app-series\"]],decls:25,vars:9,consts:[[3,\"translucent\"],[\"color\",\"primary\"],[\"slot\",\"start\"],[\"defaultHref\",\"allseries\"],[\"slot\",\"end\"],[3,\"fullscreen\"],[1,\"ion-text-wrap\",2,\"margin-left\",\"5px\"],[4,\"ngIf\"],[3,\"click\",4,\"ngIf\"],[\"color\",\"danger\",3,\"click\",4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"],[3,\"click\"],[\"color\",\"danger\",3,\"click\"],[\"detail\",\"\",3,\"click\"],[\"top\",\"\",3,\"name\"]],template:function(rf,ctx){1&rf&&(core.Lb(0,\"ion-header\",0),core.Lb(1,\"ion-toolbar\",1),core.Lb(2,\"ion-buttons\",2),core.Jb(3,\"ion-back-button\",3),core.Kb(),core.Lb(4,\"ion-buttons\",4),core.Jb(5,\"ion-menu-button\"),core.Kb(),core.Lb(6,\"ion-title\"),core.ic(7),core.Kb(),core.Kb(),core.Kb(),core.Lb(8,\"ion-content\",5),core.Lb(9,\"ion-list\"),core.Lb(10,\"ion-item\"),core.Lb(11,\"h1\"),core.ic(12),core.Kb(),core.Kb(),core.Lb(13,\"ion-item-sliding\"),core.Lb(14,\"ion-label\",6),core.Lb(15,\"small\"),core.ic(16,\"Esta serie está marcada como \"),core.hc(17,SeriesPage_span_17_Template,2,0,\"span\",7),core.ic(18,\" terminada.\"),core.Kb(),core.Kb(),core.Lb(19,\"ion-grid\"),core.Lb(20,\"ion-row\"),core.hc(21,SeriesPage_ion_button_21_Template,2,0,\"ion-button\",8),core.hc(22,SeriesPage_ion_button_22_Template,2,0,\"ion-button\",9),core.Kb(),core.Kb(),core.Kb(),core.hc(23,SeriesPage_ion_item_sliding_23_Template,3,0,\"ion-item-sliding\",7),core.hc(24,SeriesPage_ion_item_sliding_24_Template,5,2,\"ion-item-sliding\",10),core.Kb(),core.Kb()),2&rf&&(core.Yb(\"translucent\",!0),core.yb(7),core.jc(ctx.name),core.yb(1),core.Yb(\"fullscreen\",!0),core.yb(4),core.jc(ctx.name),core.yb(5),core.Yb(\"ngIf\",0==ctx.finished),core.yb(4),core.Yb(\"ngIf\",ctx.creatorUser==ctx.user),core.yb(1),core.Yb(\"ngIf\",ctx.creatorUser==ctx.user&&0==ctx.itemCount),core.yb(1),core.Yb(\"ngIf\",ctx.itemCount<=0),core.yb(1),core.Yb(\"ngForOf\",ctx.items))},directives:[ionic_angular.q,ionic_angular.P,ionic_angular.i,ionic_angular.f,ionic_angular.g,ionic_angular.C,ionic_angular.N,ionic_angular.m,ionic_angular.A,ionic_angular.v,ionic_angular.y,ionic_angular.z,common.i,ionic_angular.p,ionic_angular.F,common.h,ionic_angular.h,ionic_angular.r],styles:[\"\"]}),SeriesPage})()}];let series_routing_module_SeriesPageRoutingModule=(()=>{class SeriesPageRoutingModule{}return SeriesPageRoutingModule.ɵmod=core.Gb({type:SeriesPageRoutingModule}),SeriesPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||SeriesPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),SeriesPageRoutingModule})();var components_module=__webpack_require__(\"j1ZV\");let series_module_SeriesPageModule=(()=>{class SeriesPageModule{}return SeriesPageModule.ɵmod=core.Gb({type:SeriesPageModule}),SeriesPageModule.ɵinj=core.Fb({factory:function(t){return new(t||SeriesPageModule)},imports:[[common.b,fesm2015_forms.g,ionic_angular.Q,series_routing_module_SeriesPageRoutingModule,components_module.a]]}),SeriesPageModule})()}}]);","extractedComments":[]}