{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{EJUz:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"MymusicPageModule\",(function(){return mymusic_module_MymusicPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),fesm2015_router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),debounceTime=__webpack_require__(\"Kj3r\"),core=__webpack_require__(\"fXoL\"),api_rest_service=__webpack_require__(\"Epai\"),filter_service=__webpack_require__(\"3KOY\"),edition_list_component=__webpack_require__(\"2bnu\");function MymusicPage_ion_list_13_ion_item_sliding_1_Template(rf,ctx){if(1&rf){const _r5=core.Mb();core.Lb(0,\"ion-item-sliding\"),core.Lb(1,\"ion-item-options\",11),core.Lb(2,\"ion-item-option\",12),core.Tb(\"click\",(function(){core.ec(_r5);const ed_r3=ctx.$implicit;return core.Vb(2).removeEditionFromUser(ed_r3.EditionID)})),core.Jb(3,\"ion-icon\",13),core.Kb(),core.Kb(),core.Jb(4,\"app-edition-list\",14),core.Kb()}if(2&rf){const ed_r3=ctx.$implicit;core.yb(4),core.Yb(\"ed\",ed_r3)}}function MymusicPage_ion_list_13_Template(rf,ctx){if(1&rf&&(core.Lb(0,\"ion-list\"),core.hc(1,MymusicPage_ion_list_13_ion_item_sliding_1_Template,5,1,\"ion-item-sliding\",10),core.Kb()),2&rf){const ctx_r0=core.Vb();core.yb(1),core.Yb(\"ngForOf\",ctx_r0.ediciones)}}function MymusicPage_ion_list_14_ion_item_sliding_1_Template(rf,ctx){if(1&rf&&(core.Lb(0,\"ion-item-sliding\"),core.Jb(1,\"app-edition-list\",14),core.Kb()),2&rf){const ed_r7=ctx.$implicit;core.yb(1),core.Yb(\"ed\",ed_r7)}}function MymusicPage_ion_list_14_Template(rf,ctx){if(1&rf&&(core.Lb(0,\"ion-list\"),core.hc(1,MymusicPage_ion_list_14_ion_item_sliding_1_Template,2,1,\"ion-item-sliding\",10),core.Kb()),2&rf){const ctx_r1=core.Vb();core.yb(1),core.Yb(\"ngForOf\",ctx_r1.items)}}const routes=[{path:\"\",component:(()=>{class MymusicPage{constructor(http,navCtrl,router,filterServ,alertController){this.http=http,this.navCtrl=navCtrl,this.router=router,this.filterServ=filterServ,this.alertController=alertController,this.searchControl=new fesm2015_forms.b}getEditions(){this.http.getMusic().subscribe(res=>{this.ediciones=res.body},error=>{console.error(error)})}goToEdition(id,type){this.navCtrl.navigateForward(\"/edition/\"+this.http.getItemTypeURL(type)+\"/\"+id)}goToAddMusic(){this.navCtrl.navigateForward(\"/add-music\")}ngOnInit(){this.getEditions(),this.setFilteredList(null),this.searchControl.valueChanges.pipe(Object(debounceTime.a)(700)).subscribe(search=>{this.setFilteredList(search)})}setFilteredList(searchTerm){this.items=this.filterServ.filterByEdition(searchTerm,this.ediciones)}removeEditionFromUser(editionID){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){console.log(\"holita \",editionID);const alert=yield this.alertController.create({header:\"Confirmar\",message:\"¿Estás seguro que deseas borrar la edición de tus items? Esto no eliminará la edición de la base de datos.\",buttons:[{text:\"Cancelar\",role:\"cancelar\",cssClass:\"secondary\",handler:()=>{console.log(\"Confirm Cancel\")}},{text:\"Aceptar\",handler:()=>{console.log(\"Confirm Okay\"),this.http.removeEditionFromUser(editionID).subscribe(data=>{this.http.presentToast(data.body.Message),200==data.status&&this.getEditions()},error=>(console.log(error),error))}}]});yield alert.present()}))}}return MymusicPage.ɵfac=function(t){return new(t||MymusicPage)(core.Ib(api_rest_service.a),core.Ib(ionic_angular.U),core.Ib(fesm2015_router.g),core.Ib(filter_service.a),core.Ib(ionic_angular.b))},MymusicPage.ɵcmp=core.Cb({type:MymusicPage,selectors:[[\"app-mymusic\"]],decls:18,vars:5,consts:[[3,\"translucent\"],[\"color\",\"primary\"],[\"slot\",\"start\"],[\"defaultHref\",\"/home\"],[\"slot\",\"end\"],[3,\"fullscreen\"],[\"placeholder\",\"Buscar...\",3,\"formControl\"],[4,\"ngIf\"],[\"horizontal\",\"end\",\"vertical\",\"bottom\",\"slot\",\"fixed\"],[\"name\",\"add\",3,\"click\"],[4,\"ngFor\",\"ngForOf\"],[\"side\",\"start\"],[\"color\",\"danger\",3,\"click\"],[\"name\",\"trash\"],[3,\"ed\"]],template:function(rf,ctx){1&rf&&(core.Lb(0,\"ion-header\",0),core.Lb(1,\"ion-toolbar\",1),core.Lb(2,\"ion-buttons\",2),core.Jb(3,\"ion-back-button\",3),core.Kb(),core.Lb(4,\"ion-buttons\",4),core.Jb(5,\"ion-menu-button\"),core.Kb(),core.Lb(6,\"ion-title\"),core.ic(7,\" Mi música \"),core.Kb(),core.Kb(),core.Kb(),core.Lb(8,\"ion-content\",5),core.Jb(9,\"ion-searchbar\",6),core.Lb(10,\"ion-item\"),core.Lb(11,\"small\"),core.ic(12,\"Arrastrar a la derecha para ver opciones.\"),core.Kb(),core.Kb(),core.hc(13,MymusicPage_ion_list_13_Template,2,1,\"ion-list\",7),core.hc(14,MymusicPage_ion_list_14_Template,2,1,\"ion-list\",7),core.Lb(15,\"ion-fab\",8),core.Lb(16,\"ion-fab-button\",1),core.Lb(17,\"ion-icon\",9),core.Tb(\"click\",(function(){return ctx.goToAddMusic()})),core.Kb(),core.Kb(),core.Kb(),core.Kb()),2&rf&&(core.Yb(\"translucent\",!0),core.yb(8),core.Yb(\"fullscreen\",!0),core.yb(1),core.Yb(\"formControl\",ctx.searchControl),core.yb(4),core.Yb(\"ngIf\",!ctx.items),core.yb(1),core.Yb(\"ngIf\",ctx.items))},directives:[ionic_angular.q,ionic_angular.P,ionic_angular.i,ionic_angular.f,ionic_angular.g,ionic_angular.C,ionic_angular.N,ionic_angular.m,ionic_angular.G,ionic_angular.ab,fesm2015_forms.j,fesm2015_forms.c,ionic_angular.v,common.i,ionic_angular.n,ionic_angular.o,ionic_angular.r,ionic_angular.A,common.h,ionic_angular.y,ionic_angular.x,ionic_angular.w,edition_list_component.a],styles:[\"\"]}),MymusicPage})()}];let mymusic_routing_module_MymusicPageRoutingModule=(()=>{class MymusicPageRoutingModule{}return MymusicPageRoutingModule.ɵmod=core.Gb({type:MymusicPageRoutingModule}),MymusicPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||MymusicPageRoutingModule)},imports:[[fesm2015_router.i.forChild(routes)],fesm2015_router.i]}),MymusicPageRoutingModule})();var components_module=__webpack_require__(\"j1ZV\");let mymusic_module_MymusicPageModule=(()=>{class MymusicPageModule{}return MymusicPageModule.ɵmod=core.Gb({type:MymusicPageModule}),MymusicPageModule.ɵinj=core.Fb({factory:function(t){return new(t||MymusicPageModule)},imports:[[common.b,fesm2015_forms.g,fesm2015_forms.l,ionic_angular.Q,components_module.a,mymusic_routing_module_MymusicPageRoutingModule]]}),MymusicPageModule})()},j1ZV:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ComponentsModule}));var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"ofXK\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"TEn/\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\");let ComponentsModule=(()=>{class ComponentsModule{}return ComponentsModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Gb({type:ComponentsModule}),ComponentsModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Fb({factory:function(t){return new(t||ComponentsModule)},imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_0__.b,_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Q]]}),ComponentsModule})()}}]);","extractedComments":[]}