{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{cT6G:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"CreateItemPageModule\",(function(){return create_item_module_CreateItemPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),fesm2015_router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),create_series_page=__webpack_require__(\"lNOt\"),core=__webpack_require__(\"fXoL\"),api_rest_service=__webpack_require__(\"Epai\");function CreateItemPage_span_13_Template(rf,ctx){1&rf&&(core.Lb(0,\"span\",18),core.ic(1,\" Campo requerido. \"),core.Kb())}function CreateItemPage_ion_select_option_21_Template(rf,ctx){if(1&rf&&(core.Lb(0,\"ion-select-option\",11),core.ic(1),core.Kb()),2&rf){const s_r6=ctx.$implicit;core.Yb(\"value\",s_r6.SeriesID),core.yb(1),core.jc(s_r6.SeriesName)}}function CreateItemPage_ion_select_option_30_Template(rf,ctx){if(1&rf&&(core.Lb(0,\"ion-select-option\",11),core.ic(1),core.Kb()),2&rf){const g_r7=ctx.$implicit;core.Yb(\"value\",g_r7.GenreID),core.yb(1),core.kc(\" \",g_r7.GenreName,\" \")}}function CreateItemPage_ion_select_option_34_Template(rf,ctx){if(1&rf&&(core.Lb(0,\"ion-select-option\",11),core.ic(1),core.Kb()),2&rf){const g_r8=ctx.$implicit;core.Yb(\"value\",g_r8.GenreID),core.yb(1),core.kc(\" \",g_r8.GenreName,\" \")}}function CreateItemPage_ion_select_option_38_Template(rf,ctx){if(1&rf&&(core.Lb(0,\"ion-select-option\",11),core.ic(1),core.Kb()),2&rf){const g_r9=ctx.$implicit;core.Yb(\"value\",g_r9.GenreID),core.yb(1),core.kc(\" \",g_r9.GenreName,\" \")}}const routes=[{path:\"\",component:(()=>{class CreateItemPage{constructor(http,navCtrl,modalController,route,router,formBuilder){this.http=http,this.navCtrl=navCtrl,this.modalController=modalController,this.route=route,this.router=router,this.formBuilder=formBuilder,this.NewSeries=null,this.isSubmitted=!1,this.type=this.route.snapshot.params.type,this.typeName=this.http.getItemTypeName(this.type),this.getSeriesList(),this.getGenreList(),this.newitem=new fesm2015_forms.e({ItemName:new fesm2015_forms.b,SeriesID:new fesm2015_forms.b,GenreID1:new fesm2015_forms.b,GenreID2:new fesm2015_forms.b,GenreID3:new fesm2015_forms.b}),this.SeriesID=null,this.ItemType=this.http.getItemType(this.type)}getSeriesList(){this.http.getSeriesList().subscribe(res=>{this.series=res.body,this.series=this.series.filter(o=>o.CreatorUserID>0),console.log(\"Series:\",this.series)},error=>{console.error(error)})}getGenreList(){console.log(\"busco géneros de \",this.type),this.http.getGenreList(this.type).subscribe(res=>{this.genres=res.body,console.log(\"Géneros \",this.genres)},error=>{console.error(error)})}ngOnInit(){this.newitem=this.formBuilder.group({ItemName:[null,fesm2015_forms.n.required],SeriesID:[null],GenreID1:[null],GenreID2:[null],GenreID3:[null]})}goToNewSeries(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){console.log(\"Página modal\");const modal=yield this.modalController.create({component:create_series_page.a,componentProps:{paramID:123,paramTitle:\"Test Title\"}});return modal.onDidDismiss().then(dataReturned=>{null!=dataReturned&&(this.series=[],this.NewSeries=dataReturned,console.log(\"New Series: \",this.NewSeries),this.getSeriesList())}),yield modal.present()}))}submitForm(){if(this.isSubmitted=!0,!this.newitem.valid)return console.log(\"Please provide all the required values!\"),!1;this.newitem.value.ItemType=this.ItemType,console.log(this.newitem.value),this.ItemID=this.http.createItem(this.newitem.value),console.log(this.ItemID)}get errorControl(){return this.newitem.controls}compareFn(e1,e2){return e1&&e2?e1.id===e2.id:e1===e2}}return CreateItemPage.ɵfac=function(t){return new(t||CreateItemPage)(core.Ib(api_rest_service.a),core.Ib(ionic_angular.U),core.Ib(ionic_angular.T),core.Ib(fesm2015_router.a),core.Ib(fesm2015_router.g),core.Ib(fesm2015_forms.a))},CreateItemPage.ɵcmp=core.Cb({type:CreateItemPage,selectors:[[\"app-create-item\"]],decls:41,vars:11,consts:[[\"color\",\"primary\"],[\"slot\",\"start\"],[\"defaultHref\",\"/home\"],[\"padding\",\"\",3,\"fullscreen\"],[\"novalidate\",\"\",3,\"formGroup\",\"ngSubmit\"],[\"lines\",\"full\"],[\"position\",\"stacked\"],[\"placeholder\",\"Nombre\",\"formControlName\",\"ItemName\",\"type\",\"text\",\"required\",\"\"],[\"class\",\"error ion-padding\",4,\"ngIf\"],[\"okText\",\"Aceptar\",\"cancelText\",\"Cancelar\",\"interface\",\"alert\",\"placeholder\",\"Seleccionar\",\"formControlName\",\"SeriesID\",\"type\",\"text\"],[\"SeriesID\",\"\"],[3,\"value\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"small\",\"\",3,\"click\"],[\"okText\",\"Aceptar\",\"cancelText\",\"Cancelar\",\"interface\",\"alert\",\"placeholder\",\"Seleccionar\",\"formControlName\",\"GenreID1\",\"type\",\"text\"],[\"okText\",\"Aceptar\",\"cancelText\",\"Cancelar\",\"interface\",\"alert\",\"placeholder\",\"Seleccionar\",\"formControlName\",\"GenreID2\"],[\"okText\",\"Aceptar\",\"cancelText\",\"Cancelar\",\"interface\",\"alert\",\"placeholder\",\"Seleccionar\",\"formControlName\",\"GenreID3\"],[\"expand\",\"block\",\"shape\",\"round\",\"color\",\"primary\",\"type\",\"submit\"],[1,\"error\",\"ion-padding\"]],template:function(rf,ctx){1&rf&&(core.Lb(0,\"ion-header\"),core.Lb(1,\"ion-toolbar\",0),core.Lb(2,\"ion-buttons\",1),core.Jb(3,\"ion-back-button\",2),core.Kb(),core.Lb(4,\"ion-title\"),core.ic(5,\"Crear item\"),core.Kb(),core.Kb(),core.Kb(),core.Lb(6,\"ion-content\",3),core.Lb(7,\"form\",4),core.Tb(\"ngSubmit\",(function(){return ctx.submitForm()})),core.Lb(8,\"ion-list\"),core.Lb(9,\"ion-item\",5),core.Lb(10,\"ion-label\",6),core.ic(11,\"Nombre del item\"),core.Kb(),core.Jb(12,\"ion-input\",7),core.hc(13,CreateItemPage_span_13_Template,2,0,\"span\",8),core.Kb(),core.Lb(14,\"ion-item\",5),core.Lb(15,\"ion-label\",6),core.ic(16,\"Serie\"),core.Kb(),core.Lb(17,\"ion-select\",9,10),core.Lb(19,\"ion-select-option\",11),core.ic(20,\"Ninguna\"),core.Kb(),core.hc(21,CreateItemPage_ion_select_option_21_Template,2,2,\"ion-select-option\",12),core.Kb(),core.Lb(22,\"ion-button\",13),core.Tb(\"click\",(function(){return ctx.goToNewSeries()})),core.ic(23,\"Nueva serie...\"),core.Kb(),core.Kb(),core.Lb(24,\"ion-item\",5),core.Lb(25,\"ion-label\",6),core.ic(26,\"Géneros (elige hasta 3)\"),core.Kb(),core.Lb(27,\"ion-select\",14),core.Lb(28,\"ion-select-option\",11),core.ic(29,\"Ninguno\"),core.Kb(),core.hc(30,CreateItemPage_ion_select_option_30_Template,2,2,\"ion-select-option\",12),core.Kb(),core.Lb(31,\"ion-select\",15),core.Lb(32,\"ion-select-option\",11),core.ic(33,\"Ninguno\"),core.Kb(),core.hc(34,CreateItemPage_ion_select_option_34_Template,2,2,\"ion-select-option\",12),core.Kb(),core.Lb(35,\"ion-select\",16),core.Lb(36,\"ion-select-option\",11),core.ic(37,\"Ninguno\"),core.Kb(),core.hc(38,CreateItemPage_ion_select_option_38_Template,2,2,\"ion-select-option\",12),core.Kb(),core.Kb(),core.Kb(),core.Lb(39,\"ion-button\",17),core.ic(40,\"Siguiente >\"),core.Kb(),core.Kb(),core.Kb()),2&rf&&(core.yb(6),core.Yb(\"fullscreen\",!0),core.yb(1),core.Yb(\"formGroup\",ctx.newitem),core.yb(6),core.Yb(\"ngIf\",ctx.isSubmitted&&(null==ctx.errorControl.ItemName.errors?null:ctx.errorControl.ItemName.errors.required)),core.yb(6),core.Yb(\"value\",null),core.yb(2),core.Yb(\"ngForOf\",ctx.series),core.yb(7),core.Yb(\"value\",null),core.yb(2),core.Yb(\"ngForOf\",ctx.genres),core.yb(2),core.Yb(\"value\",null),core.yb(2),core.Yb(\"ngForOf\",ctx.genres),core.yb(2),core.Yb(\"value\",null),core.yb(2),core.Yb(\"ngForOf\",ctx.genres))},directives:[ionic_angular.q,ionic_angular.P,ionic_angular.i,ionic_angular.f,ionic_angular.g,ionic_angular.N,ionic_angular.m,fesm2015_forms.o,fesm2015_forms.k,fesm2015_forms.f,ionic_angular.A,ionic_angular.v,ionic_angular.z,ionic_angular.u,ionic_angular.ab,fesm2015_forms.j,fesm2015_forms.d,fesm2015_forms.m,common.i,ionic_angular.J,ionic_angular.Z,ionic_angular.K,common.h,ionic_angular.h],styles:[\"\"]}),CreateItemPage})()}];let create_item_routing_module_CreateItemPageRoutingModule=(()=>{class CreateItemPageRoutingModule{}return CreateItemPageRoutingModule.ɵmod=core.Gb({type:CreateItemPageRoutingModule}),CreateItemPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||CreateItemPageRoutingModule)},imports:[[fesm2015_router.i.forChild(routes)],fesm2015_router.i]}),CreateItemPageRoutingModule})();var create_series_module=__webpack_require__(\"wk2u\");let create_item_module_CreateItemPageModule=(()=>{class CreateItemPageModule{}return CreateItemPageModule.ɵmod=core.Gb({type:CreateItemPageModule}),CreateItemPageModule.ɵinj=core.Fb({factory:function(t){return new(t||CreateItemPageModule)},imports:[[common.b,fesm2015_forms.g,fesm2015_forms.l,ionic_angular.Q,create_item_routing_module_CreateItemPageRoutingModule,create_series_module.CreateSeriesPageModule]]}),CreateItemPageModule})()}}]);","extractedComments":[]}