{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{j1ZV:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ComponentsModule}));var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"ofXK\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"TEn/\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\");let ComponentsModule=(()=>{class ComponentsModule{}return ComponentsModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Gb({type:ComponentsModule}),ComponentsModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Fb({factory:function(t){return new(t||ComponentsModule)},imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_0__.b,_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Q]]}),ComponentsModule})()},q2xJ:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"CollectionsPageModule\",(function(){return collections_module_CollectionsPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),api_rest_service=__webpack_require__(\"Epai\"),create_collection_page=__webpack_require__(\"cPwO\"),core=__webpack_require__(\"fXoL\");function CollectionsPage_ion_item_10_Template(rf,ctx){1&rf&&(core.Lb(0,\"ion-item\"),core.Lb(1,\"small\"),core.ic(2,\"Aún no tienes colecciones. Añade alguna presionando el ícono de la parte inferior.\"),core.Kb(),core.Kb())}function CollectionsPage_ion_item_11_Template(rf,ctx){1&rf&&(core.Lb(0,\"ion-item\"),core.Lb(1,\"small\"),core.ic(2,\"Arrastrar a la derecha para ver opciones.\"),core.Kb(),core.Kb())}function CollectionsPage_ion_item_sliding_16_Template(rf,ctx){if(1&rf){const _r5=core.Mb();core.Lb(0,\"ion-item-sliding\"),core.Lb(1,\"ion-item-options\",13),core.Lb(2,\"ion-item-option\",14),core.Tb(\"click\",(function(){core.ec(_r5);const col_r3=ctx.$implicit;return core.Vb().deleteCollection(col_r3.CollectionID)})),core.Jb(3,\"ion-icon\",15),core.Kb(),core.Kb(),core.Lb(4,\"ion-item\",7),core.Tb(\"click\",(function(){core.ec(_r5);const col_r3=ctx.$implicit;return core.Vb().goToCollection(col_r3.CollectionID)})),core.Jb(5,\"ion-icon\",16),core.Lb(6,\"div\",17),core.ic(7),core.Kb(),core.Kb(),core.Kb()}if(2&rf){const col_r3=ctx.$implicit;core.yb(7),core.jc(col_r3.CollectionName)}}const routes=[{path:\"\",component:(()=>{class CollectionsPage{constructor(http,navCtrl,modalController,route,router,alertController,changeRef){this.http=http,this.navCtrl=navCtrl,this.modalController=modalController,this.route=route,this.router=router,this.alertController=alertController,this.changeRef=changeRef,this.getCollections()}getCollections(){this.colecciones=[],this.http.getCollections().subscribe(res=>{this.colecciones=res.body,console.log(\"colecciones: \",this.colecciones)},error=>{console.error(error)}),console.log(this.colecciones)}goToCollection(id){console.log(\"id \",id),this.navCtrl.navigateForward(\"/collection/\"+id)}goToWishlist(){this.navCtrl.navigateForward(\"/wishlist\")}ngOnInit(){}goToNewCollection(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){console.log(\"Página modal\");const modal=yield this.modalController.create({component:create_collection_page.a});return modal.onDidDismiss().then(dataReturned=>{null!=dataReturned&&(this.colecciones=[],this.newCol=dataReturned,console.log(\"New Collection: \",this.newCol),this.getCollections(),this.changeRef.detectChanges())}),yield modal.present()}))}deleteCollection(id){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const alert=yield this.alertController.create({header:\"Confirmar\",message:\"¿Estás seguro que deseas eliminar la colección?\",buttons:[{text:\"Cancelar\",role:\"cancelar\",cssClass:\"secondary\",handler:()=>{console.log(\"Confirm Cancel\")}},{text:\"Aceptar\",handler:()=>{console.log(\"Confirm Okay\"),this.http.deleteCollection(id).subscribe(data=>{this.http.presentToast(data.body.Message),200==data.status&&this.getCollections()},error=>(console.log(error),error))}}]});yield alert.present()}))}}return CollectionsPage.ɵfac=function(t){return new(t||CollectionsPage)(core.Ib(api_rest_service.a),core.Ib(ionic_angular.U),core.Ib(ionic_angular.T),core.Ib(router.a),core.Ib(router.g),core.Ib(ionic_angular.b),core.Ib(core.h))},CollectionsPage.ɵcmp=core.Cb({type:CollectionsPage,selectors:[[\"app-collections\"]],features:[core.xb([api_rest_service.a])],decls:20,vars:5,consts:[[3,\"translucent\"],[\"color\",\"primary\"],[\"slot\",\"start\"],[\"defaultHref\",\"home\"],[\"slot\",\"end\"],[3,\"fullscreen\"],[4,\"ngIf\"],[\"detail\",\"\",\"button\",\"\",3,\"click\"],[\"name\",\"heart-outline\"],[2,\"margin-left\",\"5px\"],[4,\"ngFor\",\"ngForOf\"],[\"horizontal\",\"end\",\"vertical\",\"bottom\",\"slot\",\"fixed\"],[\"name\",\"add\",3,\"click\"],[\"side\",\"start\"],[\"color\",\"danger\",3,\"click\"],[\"name\",\"trash\"],[\"name\",\"albums\"],[1,\"ion-text-wrap\",2,\"margin-left\",\"5px\"]],template:function(rf,ctx){1&rf&&(core.Lb(0,\"ion-header\",0),core.Lb(1,\"ion-toolbar\",1),core.Lb(2,\"ion-buttons\",2),core.Jb(3,\"ion-back-button\",3),core.Kb(),core.Lb(4,\"ion-buttons\",4),core.Jb(5,\"ion-menu-button\"),core.Kb(),core.Lb(6,\"ion-title\"),core.ic(7,\" Mis colecciones \"),core.Kb(),core.Kb(),core.Kb(),core.Lb(8,\"ion-content\",5),core.Lb(9,\"ion-list\"),core.hc(10,CollectionsPage_ion_item_10_Template,3,0,\"ion-item\",6),core.hc(11,CollectionsPage_ion_item_11_Template,3,0,\"ion-item\",6),core.Lb(12,\"ion-item\",7),core.Tb(\"click\",(function(){return ctx.goToWishlist()})),core.Jb(13,\"ion-icon\",8),core.Lb(14,\"div\",9),core.ic(15,\"Lista de deseos\"),core.Kb(),core.Kb(),core.hc(16,CollectionsPage_ion_item_sliding_16_Template,8,1,\"ion-item-sliding\",10),core.Kb(),core.Lb(17,\"ion-fab\",11),core.Lb(18,\"ion-fab-button\",1),core.Lb(19,\"ion-icon\",12),core.Tb(\"click\",(function(){return ctx.goToNewCollection()})),core.Kb(),core.Kb(),core.Kb(),core.Kb()),2&rf&&(core.Yb(\"translucent\",!0),core.yb(8),core.Yb(\"fullscreen\",!0),core.yb(2),core.Yb(\"ngIf\",0==ctx.colecciones.length),core.yb(1),core.Yb(\"ngIf\",ctx.colecciones.length>0),core.yb(5),core.Yb(\"ngForOf\",ctx.colecciones))},directives:[ionic_angular.q,ionic_angular.P,ionic_angular.i,ionic_angular.f,ionic_angular.g,ionic_angular.C,ionic_angular.N,ionic_angular.m,ionic_angular.A,common.i,ionic_angular.v,ionic_angular.r,common.h,ionic_angular.n,ionic_angular.o,ionic_angular.y,ionic_angular.x,ionic_angular.w],styles:[\"\"]}),CollectionsPage})()}];let collections_routing_module_CollectionsPageRoutingModule=(()=>{class CollectionsPageRoutingModule{}return CollectionsPageRoutingModule.ɵmod=core.Gb({type:CollectionsPageRoutingModule}),CollectionsPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||CollectionsPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),CollectionsPageRoutingModule})();var create_collection_module=__webpack_require__(\"IoVM\"),components_module=__webpack_require__(\"j1ZV\");let collections_module_CollectionsPageModule=(()=>{class CollectionsPageModule{}return CollectionsPageModule.ɵmod=core.Gb({type:CollectionsPageModule}),CollectionsPageModule.ɵinj=core.Fb({factory:function(t){return new(t||CollectionsPageModule)},imports:[[common.b,fesm2015_forms.g,ionic_angular.Q,components_module.a,collections_routing_module_CollectionsPageRoutingModule,create_collection_module.CreateCollectionPageModule]]}),CollectionsPageModule})()}}]);","extractedComments":[]}