{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{X3zk:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"LoginPageModule\",(function(){return login_module_LoginPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),fesm2015_router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),api_rest_service=__webpack_require__(\"Epai\"),angular_fire_auth=__webpack_require__(\"UbJi\"),auth_service=__webpack_require__(\"ccyI\");function LoginPage_ion_button_29_Template(rf,ctx){if(1&rf){const _r5=core.Mb();core.Lb(0,\"ion-button\",19),core.Tb(\"click\",(function(){core.ec(_r5);const ctx_r4=core.Vb();return ctx_r4.login(ctx_r4.loginform.email,ctx_r4.loginform.password)})),core.ic(1,\"Iniciar sesión\"),core.Kb()}}function LoginPage_ion_button_30_Template(rf,ctx){if(1&rf){const _r7=core.Mb();core.Lb(0,\"ion-button\",19),core.Tb(\"click\",(function(){core.ec(_r7);const ctx_r6=core.Vb();return ctx_r6.signin(ctx_r6.loginform.email,ctx_r6.loginform.password)})),core.ic(1,\"Registrarse\"),core.Kb()}}const routes=[{path:\"\",component:(()=>{class LoginPage{constructor(http,router,ngFireAuth,navCtrl,auth,alertCtrl,formBuilder){this.http=http,this.router=router,this.ngFireAuth=ngFireAuth,this.navCtrl=navCtrl,this.auth=auth,this.alertCtrl=alertCtrl,this.formBuilder=formBuilder,this.user={email:\"\",password:\"\"},this.loginform=null,this.segm=\"login\",this.isSubmitted=!1,this.loginform=new fesm2015_forms.e({email:new fesm2015_forms.b,password:new fesm2015_forms.b,segm:new fesm2015_forms.b}),this.ngFireAuth.onAuthStateChanged(user=>{user&&this.router.navigate([\"home\"])})}ngOnInit(){this.loginform=this.formBuilder.group({email:[null,fesm2015_forms.n.required],password:[null,fesm2015_forms.n.required],segm:[this.segm]})}ionViewDidLoad(){console.log(\"ionViewDidLoad LoginPage\")}signin(email,password){if(this.isSubmitted=!0,!this.loginform.valid)return console.log(\"Please provide all the required values!\"),!1;console.log(this.loginform.value),this.auth.registerUser(this.loginform.value.email,this.loginform.value.password).then(user=>{this.auth.setUser(),this.router.navigate([\"home\"])}).catch(err=>{window.alert(\"signin error: \"+err.message)})}login(email,password){if(this.isSubmitted=!0,!this.loginform.valid)return console.log(\"Please provide all the required values!\"),!1;console.log(this.loginform.value),this.auth.loginUser(this.loginform.value.email,this.loginform.value.password).then(user=>{this.auth.setUser(),this.router.navigate([\"home\"])}).catch(err=>{window.alert(\"login error: \"+err.message),console.log(err)})}loginGoogle(){console.log(\"Estoy en login logingoogle\"),this.auth.loginGoogle().then(user=>{this.auth.setUser(),this.router.navigate([\"home\"])}).catch(err=>{window.alert(\"login error: \"+err.message),console.log(err)})}forgotPassword(){if(this.isSubmitted=!0,!this.loginform.value.email)return this.http.presentToast(\"Asegúrate de escribir tu correo en el formulario.\"),!1;this.auth.SendPasswordReset(this.loginform.value.email)}segmentChanged(event){this.segm=this.loginform.value.segm,console.log()}exitApp(){navigator.app.exitApp()}}return LoginPage.ɵfac=function(t){return new(t||LoginPage)(core.Ib(api_rest_service.a),core.Ib(fesm2015_router.g),core.Ib(angular_fire_auth.a),core.Ib(ionic_angular.U),core.Ib(auth_service.a),core.Ib(ionic_angular.b),core.Ib(fesm2015_forms.a))},LoginPage.ɵcmp=core.Cb({type:LoginPage,selectors:[[\"app-login\"]],decls:33,vars:5,consts:[[3,\"translucent\"],[\"color\",\"primary\"],[\"slot\",\"end\"],[3,\"click\"],[\"name\",\"close\"],[3,\"formGroup\"],[\"formControlName\",\"segm\",3,\"value\",\"ionChange\"],[\"value\",\"login\"],[\"value\",\"register\"],[\"lines\",\"full\"],[\"position\",\"floating\"],[\"type\",\"email\",\"formControlName\",\"email\",\"required\",\"\"],[\"email\",\"\"],[\"type\",\"password\",\"formControlName\",\"password\",\"required\",\"\"],[\"password\",\"\"],[2,\"text-align\",\"center\"],[\"padding\",\"\"],[\"type\",\"submit\",\"color\",\"primary\",\"block\",\"\",3,\"click\",4,\"ngIf\"],[\"fill\",\"clear\",3,\"click\"],[\"type\",\"submit\",\"color\",\"primary\",\"block\",\"\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Lb(0,\"ion-header\",0),core.Lb(1,\"ion-toolbar\",1),core.Lb(2,\"ion-buttons\",2),core.Lb(3,\"ion-button\",3),core.Tb(\"click\",(function(){return ctx.exitApp()})),core.Jb(4,\"ion-icon\",4),core.Kb(),core.Kb(),core.Lb(5,\"ion-title\"),core.ic(6,\"Collectathon - Inicia sesión\"),core.Kb(),core.Kb(),core.Kb(),core.Lb(7,\"ion-content\"),core.Lb(8,\"form\",5),core.Lb(9,\"ion-segment\",6),core.Tb(\"ionChange\",(function($event){return ctx.segmentChanged($event)})),core.Lb(10,\"ion-segment-button\",7),core.Lb(11,\"ion-label\"),core.ic(12,\"Iniciar sesión\"),core.Kb(),core.Kb(),core.Lb(13,\"ion-segment-button\",8),core.Lb(14,\"ion-label\"),core.ic(15,\"Crear cuenta\"),core.Kb(),core.Kb(),core.Kb(),core.Lb(16,\"ion-item\",9),core.Lb(17,\"ion-label\",10),core.ic(18,\"Email\"),core.Kb(),core.Jb(19,\"ion-input\",11,12),core.Kb(),core.Lb(21,\"ion-item\",9),core.Lb(22,\"ion-label\",10),core.ic(23,\"Contraseña\"),core.Kb(),core.Jb(24,\"ion-input\",13,14),core.Kb(),core.Lb(26,\"ion-row\"),core.Lb(27,\"ion-col\",15),core.Lb(28,\"div\",16),core.hc(29,LoginPage_ion_button_29_Template,2,0,\"ion-button\",17),core.hc(30,LoginPage_ion_button_30_Template,2,0,\"ion-button\",17),core.Lb(31,\"ion-button\",18),core.Tb(\"click\",(function(){return ctx.forgotPassword()})),core.ic(32,\"¿Olvidaste tu contraseña?\"),core.Kb(),core.Kb(),core.Kb(),core.Kb(),core.Kb(),core.Kb()),2&rf&&(core.Yb(\"translucent\",!0),core.yb(8),core.Yb(\"formGroup\",ctx.loginform),core.yb(1),core.Yb(\"value\",ctx.loginform.segm),core.yb(20),core.Yb(\"ngIf\",\"login\"===ctx.segm),core.yb(1),core.Yb(\"ngIf\",\"register\"===ctx.segm))},directives:[ionic_angular.q,ionic_angular.P,ionic_angular.i,ionic_angular.h,ionic_angular.r,ionic_angular.N,ionic_angular.m,fesm2015_forms.o,fesm2015_forms.k,fesm2015_forms.f,ionic_angular.H,ionic_angular.Z,fesm2015_forms.j,fesm2015_forms.d,ionic_angular.I,ionic_angular.z,ionic_angular.v,ionic_angular.u,ionic_angular.ab,fesm2015_forms.m,ionic_angular.F,ionic_angular.l,common.i],styles:[\"\"]}),LoginPage})()}];let login_routing_module_LoginPageRoutingModule=(()=>{class LoginPageRoutingModule{}return LoginPageRoutingModule.ɵmod=core.Gb({type:LoginPageRoutingModule}),LoginPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||LoginPageRoutingModule)},imports:[[fesm2015_router.i.forChild(routes)],fesm2015_router.i]}),LoginPageRoutingModule})(),login_module_LoginPageModule=(()=>{class LoginPageModule{}return LoginPageModule.ɵmod=core.Gb({type:LoginPageModule}),LoginPageModule.ɵinj=core.Fb({factory:function(t){return new(t||LoginPageModule)},imports:[[common.b,fesm2015_forms.g,fesm2015_forms.l,ionic_angular.Q,login_routing_module_LoginPageRoutingModule]]}),LoginPageModule})()}}]);","extractedComments":[]}