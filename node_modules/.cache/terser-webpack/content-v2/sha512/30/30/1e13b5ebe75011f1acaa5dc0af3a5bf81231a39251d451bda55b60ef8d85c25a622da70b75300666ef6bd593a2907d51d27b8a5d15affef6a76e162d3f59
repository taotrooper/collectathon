{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[12,43],{\"0Gmn\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return EditWebsitePage}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"3Pt+\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"TEn/\"),_api_rest_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"Epai\"),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"tyNb\"),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"ofXK\");function EditWebsitePage_span_14_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(0,\"span\",12),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(1,\" Campo requerido. \"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb())}function EditWebsitePage_span_21_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(0,\"span\",12),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(1,\" Campo requerido. \"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb())}let EditWebsitePage=(()=>{class EditWebsitePage{constructor(modalController,navParams,http,navCtrl,route,router,formBuilder){this.modalController=modalController,this.navParams=navParams,this.http=http,this.navCtrl=navCtrl,this.route=route,this.router=router,this.formBuilder=formBuilder,this.web=null,this.isSubmitted=!1,this.web=new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.e({URL:new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.b,Text:new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.b})}ngOnInit(){this.id=this.navParams.data.id,this.getWebsite()}getWebsite(){this.http.getWebsite(this.id).subscribe(res=>{this.web=this.formBuilder.group({URL:[res.URL,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.n.required],Text:[res.Text,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.n.required]}),console.log(\"res: \",res)},error=>{console.error(error)})}submitForm(){if(this.isSubmitted=!0,!this.web.valid)return console.log(\"Please provide all the required values!\"),!1;this.web.value.WebsiteID=this.id,console.log(this.web.value),this.http.updateWebsite(this.web.value).subscribe(data=>{console.log(\"Web \"+data.body),this.WebsiteID=data.body.WebsiteID,console.log(\"antes de cerrar modal \",this.WebsiteID),this.closeModal()},error=>{console.log(error)})}get errorControl(){return this.web.controls}closeModal(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){yield this.modalController.dismiss(this.WebsiteID)}))}}return EditWebsitePage.ɵfac=function(t){return new(t||EditWebsitePage)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.T),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.V),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_api_rest_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.U),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_angular_router__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_angular_router__WEBPACK_IMPORTED_MODULE_5__.g),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_angular_forms__WEBPACK_IMPORTED_MODULE_1__.a))},EditWebsitePage.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Cb({type:EditWebsitePage,selectors:[[\"app-edit-website\"]],decls:30,vars:6,consts:[[\"color\",\"primary\"],[\"slot\",\"start\"],[\"padding\",\"\",3,\"fullscreen\"],[\"novalidate\",\"\",3,\"formGroup\",\"ngSubmit\"],[\"lines\",\"full\"],[\"position\",\"stacked\"],[2,\"color\",\"red\"],[\"placeholder\",\"http://www.ejemplo.com/pagina\",\"formControlName\",\"URL\",\"type\",\"url\",\"required\",\"\",3,\"value\"],[\"class\",\"error ion-padding\",4,\"ngIf\"],[\"placeholder\",\"Ejemplo: Amazon, Wikipedia, IMDB, etc.\",\"formControlName\",\"Text\",\"type\",\"text\",\"required\",\"\",3,\"value\"],[\"small\",\"\",\"expand\",\"inline\",\"shape\",\"round\",\"color\",\"primary\",\"type\",\"submit\"],[\"small\",\"\",\"expand\",\"inline\",\"shape\",\"round\",\"color\",\"primary\",3,\"click\"],[1,\"error\",\"ion-padding\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(0,\"ion-header\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(1,\"ion-toolbar\",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Jb(2,\"ion-buttons\",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(3,\"ion-title\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(4,\"Editar página web\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(5,\"ion-content\",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(6,\"form\",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Tb(\"ngSubmit\",(function(){return ctx.submitForm()})),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(7,\"ion-list\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(8,\"ion-item\",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(9,\"ion-label\",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(10,\"span\",6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(11,\"*\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(12,\"URL/Dirección\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Jb(13,\"ion-input\",7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.hc(14,EditWebsitePage_span_14_Template,2,0,\"span\",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(15,\"ion-item\",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(16,\"ion-label\",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(17,\"span\",6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(18,\"*\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(19,\"Texto del enlace\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Jb(20,\"ion-input\",9),_angular_core__WEBPACK_IMPORTED_MODULE_2__.hc(21,EditWebsitePage_span_21_Template,2,0,\"span\",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(22,\"ion-grid\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(23,\"ion-row\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(24,\"ion-col\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(25,\"ion-button\",10),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(26,\"Enviar\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(27,\"ion-col\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(28,\"ion-button\",11),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Tb(\"click\",(function(){return ctx.closeModal()})),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(29,\"Cancelar\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"fullscreen\",!0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"formGroup\",ctx.web),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"value\",ctx.web.URL),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"ngIf\",ctx.isSubmitted&&(null==ctx.errorControl.URL.errors?null:ctx.errorControl.URL.errors.required)),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"value\",ctx.web.Text),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"ngIf\",ctx.isSubmitted&&(null==ctx.errorControl.Text.errors?null:ctx.errorControl.Text.errors.required)))},directives:[_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.q,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.P,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.i,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.N,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.m,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.o,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.k,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.f,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.A,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.v,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.z,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.u,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.ab,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.j,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.d,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.m,_angular_common__WEBPACK_IMPORTED_MODULE_6__.i,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.p,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.F,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.l,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.h],styles:[\"\"]}),EditWebsitePage})()},fj2Z:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"PersonPageModule\",(function(){return person_module_PersonPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),core=__webpack_require__(\"fXoL\"),api_rest_service=__webpack_require__(\"Epai\"),website_list_component=__webpack_require__(\"rgD0\");function PersonPage_ion_item_sliding_15_Template(rf,ctx){1&rf&&(core.Lb(0,\"ion-item-sliding\"),core.Lb(1,\"ion-label\",11),core.ic(2,\"No existen items para esta persona.\"),core.Kb(),core.Kb())}function PersonPage_ion_item_sliding_16_Template(rf,ctx){if(1&rf){const _r6=core.Mb();core.Lb(0,\"ion-item-sliding\"),core.Lb(1,\"ion-item\",12),core.Tb(\"click\",(function(){core.ec(_r6);const i_r4=ctx.$implicit;return core.Vb().goToItem(i_r4.ItemID,i_r4.ItemType)})),core.Jb(2,\"ion-icon\",13),core.Lb(3,\"ion-label\",11),core.ic(4),core.Kb(),core.Kb(),core.Kb()}if(2&rf){const i_r4=ctx.$implicit,ctx_r1=core.Vb();core.yb(2),core.Zb(\"name\",ctx_r1.http.getItemTypeIcon(i_r4.ItemType)),core.yb(2),core.jc(i_r4.ItemSummary)}}function PersonPage_ion_button_19_Template(rf,ctx){if(1&rf){const _r8=core.Mb();core.Lb(0,\"ion-button\",14),core.Tb(\"click\",(function(){return core.ec(_r8),core.Vb().goToEditPerson()})),core.ic(1,\"Editar persona\"),core.Kb()}}function PersonPage_ion_button_20_Template(rf,ctx){if(1&rf){const _r10=core.Mb();core.Lb(0,\"ion-button\",15),core.Tb(\"click\",(function(){return core.ec(_r10),core.Vb().deletePerson()})),core.ic(1,\"Eliminar persona\"),core.Kb()}}const routes=[{path:\"\",component:(()=>{class PersonPage{constructor(http,navCtrl,alertCtrl,route,router){this.http=http,this.navCtrl=navCtrl,this.alertCtrl=alertCtrl,this.route=route,this.router=router,this.itemCount=0,this.id=this.route.snapshot.params.id,console.log(this.id),this.getItemsByPerson(),this.getPerson(),this.user=this.http.getUserID(),console.log(\"usuarios: \",this.user,\" \",this.creatoruser),console.log(this.items)}ngOnInit(){}getItemsByPerson(){this.items=[],this.http.getItemsByPerson(this.id).subscribe(res=>{this.items=res.body,this.items&&(this.itemCount=this.items.length),console.log(\"res: \",this.items)},error=>{console.error(error)})}getPerson(){this.http.getPerson(this.id).subscribe(res=>{this.names=res.Names,this.lastnames=res.LastNames,this.creatoruser=res.CreatorUserID,console.log(\"persona: \",res)},error=>{console.error(error)})}goToItem(id,type){this.navCtrl.navigateForward(\"/item/\"+this.http.getItemTypeURL(type)+\"/\"+id)}goToEditPerson(){this.navCtrl.navigateForward(\"/edit-person/\"+this.id)}deletePerson(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const alert=yield this.alertCtrl.create({header:\"Confirmar\",message:\"¿Estás seguro que deseas eliminar la persona?\",buttons:[{text:\"Cancelar\",role:\"cancelar\",cssClass:\"secondary\",handler:()=>{console.log(\"Confirm Cancel\")}},{text:\"Aceptar\",handler:()=>{console.log(\"Confirm Okay\"),this.http.deletePerson(this.id)}}]});yield alert.present(),this.navCtrl.navigateForward(\"/allpeople\")}))}}return PersonPage.ɵfac=function(t){return new(t||PersonPage)(core.Ib(api_rest_service.a),core.Ib(ionic_angular.U),core.Ib(ionic_angular.b),core.Ib(router.a),core.Ib(router.g))},PersonPage.ɵcmp=core.Cb({type:PersonPage,selectors:[[\"app-person\"]],decls:21,vars:11,consts:[[3,\"translucent\"],[\"color\",\"primary\"],[\"slot\",\"start\"],[\"defaultHref\",\"allpeople\"],[\"slot\",\"end\"],[3,\"fullscreen\"],[\"type\",\"person\",3,\"id\"],[4,\"ngIf\"],[4,\"ngFor\",\"ngForOf\"],[3,\"click\",4,\"ngIf\"],[\"color\",\"danger\",3,\"click\",4,\"ngIf\"],[1,\"ion-text-wrap\",2,\"margin-left\",\"5px\"],[\"detail\",\"\",3,\"click\"],[\"top\",\"\",3,\"name\"],[3,\"click\"],[\"color\",\"danger\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Lb(0,\"ion-header\",0),core.Lb(1,\"ion-toolbar\",1),core.Lb(2,\"ion-buttons\",2),core.Jb(3,\"ion-back-button\",3),core.Kb(),core.Lb(4,\"ion-buttons\",4),core.Jb(5,\"ion-menu-button\"),core.Kb(),core.Lb(6,\"ion-title\"),core.ic(7),core.Kb(),core.Kb(),core.Kb(),core.Lb(8,\"ion-content\",5),core.Lb(9,\"ion-item\"),core.Lb(10,\"h1\"),core.ic(11),core.Kb(),core.Kb(),core.Lb(12,\"ion-item\"),core.Jb(13,\"app-website-list\",6),core.Kb(),core.Lb(14,\"ion-list\"),core.hc(15,PersonPage_ion_item_sliding_15_Template,3,0,\"ion-item-sliding\",7),core.hc(16,PersonPage_ion_item_sliding_16_Template,5,2,\"ion-item-sliding\",8),core.Kb(),core.Lb(17,\"ion-grid\"),core.Lb(18,\"ion-row\"),core.hc(19,PersonPage_ion_button_19_Template,2,0,\"ion-button\",9),core.hc(20,PersonPage_ion_button_20_Template,2,0,\"ion-button\",10),core.Kb(),core.Kb(),core.Kb()),2&rf&&(core.Yb(\"translucent\",!0),core.yb(7),core.lc(\"\",ctx.names,\" \",ctx.lastnames,\"\"),core.yb(1),core.Yb(\"fullscreen\",!0),core.yb(3),core.lc(\"\",ctx.names,\" \",ctx.lastnames,\"\"),core.yb(2),core.Yb(\"id\",ctx.id),core.yb(2),core.Yb(\"ngIf\",ctx.itemCount<=0),core.yb(1),core.Yb(\"ngForOf\",ctx.items),core.yb(3),core.Yb(\"ngIf\",ctx.creatoruser==ctx.user),core.yb(1),core.Yb(\"ngIf\",ctx.creatoruser==ctx.user&&0==ctx.itemCount))},directives:[ionic_angular.q,ionic_angular.P,ionic_angular.i,ionic_angular.f,ionic_angular.g,ionic_angular.C,ionic_angular.N,ionic_angular.m,ionic_angular.v,website_list_component.a,ionic_angular.A,common.i,common.h,ionic_angular.p,ionic_angular.F,ionic_angular.y,ionic_angular.z,ionic_angular.r,ionic_angular.h],styles:[\"\"]}),PersonPage})()}];let person_routing_module_PersonPageRoutingModule=(()=>{class PersonPageRoutingModule{}return PersonPageRoutingModule.ɵmod=core.Gb({type:PersonPageRoutingModule}),PersonPageRoutingModule.ɵinj=core.Fb({factory:function(t){return new(t||PersonPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),PersonPageRoutingModule})();var components_module=__webpack_require__(\"j1ZV\");let person_module_PersonPageModule=(()=>{class PersonPageModule{}return PersonPageModule.ɵmod=core.Gb({type:PersonPageModule}),PersonPageModule.ɵinj=core.Fb({factory:function(t){return new(t||PersonPageModule)},imports:[[common.b,fesm2015_forms.g,fesm2015_forms.l,ionic_angular.Q,components_module.a,person_routing_module_PersonPageRoutingModule]]}),PersonPageModule})()},j1ZV:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ComponentsModule}));var _angular_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"ofXK\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"TEn/\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\");let ComponentsModule=(()=>{class ComponentsModule{}return ComponentsModule.ɵmod=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Gb({type:ComponentsModule}),ComponentsModule.ɵinj=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Fb({factory:function(t){return new(t||ComponentsModule)},imports:[[_angular_common__WEBPACK_IMPORTED_MODULE_0__.b,_ionic_angular__WEBPACK_IMPORTED_MODULE_1__.Q]]}),ComponentsModule})()},rgD0:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return WebsiteListComponent}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_create_website_create_website_page__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"xM1R\"),_edit_website_edit_website_page__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"0Gmn\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"fXoL\"),_api_rest_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"Epai\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"TEn/\"),_angular_router__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"tyNb\"),_angular_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(\"ofXK\");function WebsiteListComponent_ion_chip_0_div_5_Template(rf,ctx){if(1&rf){const _r5=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Mb();_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(0,\"div\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(1,\"ion-icon\",6),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Tb(\"click\",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_3__.ec(_r5);const w_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vb().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Vb().goToEditWebsite(w_r1.WebsiteID)})),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(2,\"ion-icon\",7),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Tb(\"click\",(function(){_angular_core__WEBPACK_IMPORTED_MODULE_3__.ec(_r5);const w_r1=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vb().$implicit;return _angular_core__WEBPACK_IMPORTED_MODULE_3__.Vb().deleteWebsite(w_r1.WebsiteID)})),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb()}}function WebsiteListComponent_ion_chip_0_Template(rf,ctx){if(1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(0,\"ion-chip\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Jb(1,\"ion-icon\",3),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(2,\"ion-label\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(3,\"a\",4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ic(4),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.hc(5,WebsiteListComponent_ion_chip_0_div_5_Template,3,0,\"div\",5),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb()),2&rf){const w_r1=ctx.$implicit,ctx_r0=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Vb();_angular_core__WEBPACK_IMPORTED_MODULE_3__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Yb(\"name\",ctx_r0.getIcon(w_r1.URL)),_angular_core__WEBPACK_IMPORTED_MODULE_3__.yb(2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Zb(\"href\",w_r1.URL,_angular_core__WEBPACK_IMPORTED_MODULE_3__.fc),_angular_core__WEBPACK_IMPORTED_MODULE_3__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.jc(w_r1.Text),_angular_core__WEBPACK_IMPORTED_MODULE_3__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Yb(\"ngIf\",w_r1.CreatorUserID==ctx_r0.user)}}let WebsiteListComponent=(()=>{class WebsiteListComponent{constructor(http,navCtrl,route,router,alertCtrl,modalController){this.http=http,this.navCtrl=navCtrl,this.route=route,this.router=router,this.alertCtrl=alertCtrl,this.modalController=modalController}ngOnInit(){this.getWebsites(),this.user=this.http.getUserID(),console.log(\"user: \",this.user)}getWebsites(){this.webs=[],this.http.getWebsitesForObject(this.id,this.type).subscribe(res=>{this.webs=res.body,console.log(\"webs \",this.webs)},error=>{console.error(error)})}goToNewWebsite(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){console.log(\"Página modal\");const modal=yield this.modalController.create({component:_create_website_create_website_page__WEBPACK_IMPORTED_MODULE_1__.a,componentProps:{id:this.id,type:this.type}});return modal.onDidDismiss().then(dataReturned=>{null!=dataReturned&&(this.webs=[],this.newWeb=dataReturned,console.log(\"New Web: \",this.newWeb),this.getWebsites())}),yield modal.present()}))}deleteWebsite(webid){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){const alert=yield this.alertCtrl.create({header:\"Confirmar\",message:\"¿Seguro que deseas eliminar permanentemente la página web?\",buttons:[{text:\"Aceptar\",handler:()=>{this.http.deleteWebsite(webid),this.webs=[],this.getWebsites()}},{text:\"Cancelar\",role:\"cancel\",handler:()=>{console.log(\"Cancelar\")}}]});yield alert.present()}))}goToEditWebsite(webid){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){console.log(\"Edit website \",webid);const modal=yield this.modalController.create({component:_edit_website_edit_website_page__WEBPACK_IMPORTED_MODULE_2__.a,componentProps:{id:webid}});return modal.onDidDismiss().then(dataReturned=>{null!=dataReturned&&(this.webs=[],console.log(\"Edit Web: \",dataReturned),this.getWebsites())}),yield modal.present()}))}getIcon(url){var icon=\"compass-outline\";return url.indexOf(\"amazon.\")>0?icon=\"logo-amazon\":url.indexOf(\"facebook.com\")>0?icon=\"logo-facebook\":url.indexOf(\"twitter.com\")>0?icon=\"logo-twitter\":url.indexOf(\"instagram.com\")>0?icon=\"logo-instagram\":url.indexOf(\"playstation.com\")>0?icon=\"logo-playstation\":url.indexOf(\"steampowered.com\")>0?icon=\"icon-steam\":url.indexOf(\"xbox.com\")>0?icon=\"logo-xbox\":url.indexOf(\"youtube.com\")>0&&(icon=\"logo-youtube\"),icon}}return WebsiteListComponent.ɵfac=function(t){return new(t||WebsiteListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Ib(_api_rest_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_5__.U),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Ib(_angular_router__WEBPACK_IMPORTED_MODULE_6__.a),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Ib(_angular_router__WEBPACK_IMPORTED_MODULE_6__.g),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_5__.b),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_5__.T))},WebsiteListComponent.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_3__.Cb({type:WebsiteListComponent,selectors:[[\"app-website-list\"]],inputs:{id:\"id\",type:\"type\"},decls:5,vars:1,consts:[[4,\"ngFor\",\"ngForOf\"],[3,\"click\"],[\"name\",\"add\"],[3,\"name\"],[1,\"chiplink\",3,\"href\"],[4,\"ngIf\"],[\"name\",\"pencil\",3,\"click\"],[\"name\",\"close\",3,\"click\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_3__.hc(0,WebsiteListComponent_ion_chip_0_Template,6,4,\"ion-chip\",0),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(1,\"ion-chip\",1),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Tb(\"click\",(function(){return ctx.goToNewWebsite()})),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Jb(2,\"ion-icon\",2),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Lb(3,\"ion-label\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.ic(4,\"web\"),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_3__.Kb()),2&rf&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.Yb(\"ngForOf\",ctx.webs)},directives:[_angular_common__WEBPACK_IMPORTED_MODULE_7__.h,_ionic_angular__WEBPACK_IMPORTED_MODULE_5__.k,_ionic_angular__WEBPACK_IMPORTED_MODULE_5__.r,_ionic_angular__WEBPACK_IMPORTED_MODULE_5__.z,_angular_common__WEBPACK_IMPORTED_MODULE_7__.i],styles:[\"\"]}),WebsiteListComponent})()},xM1R:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return CreateWebsitePage}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_forms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"3Pt+\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"fXoL\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(\"TEn/\"),_api_rest_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(\"Epai\"),_angular_router__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(\"tyNb\"),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(\"ofXK\");function CreateWebsitePage_span_14_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(0,\"span\",12),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(1,\" Campo requerido. \"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb())}function CreateWebsitePage_span_21_Template(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(0,\"span\",12),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(1,\" Campo requerido. \"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb())}let CreateWebsitePage=(()=>{class CreateWebsitePage{constructor(modalController,navParams,http,navCtrl,route,router,formBuilder){this.modalController=modalController,this.navParams=navParams,this.http=http,this.navCtrl=navCtrl,this.route=route,this.router=router,this.formBuilder=formBuilder,this.isSubmitted=!1,this.newweb=new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.e({URL:new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.b,Text:new _angular_forms__WEBPACK_IMPORTED_MODULE_1__.b})}ngOnInit(){this.id=this.navParams.data.id,this.type=this.navParams.data.type,this.newweb=this.formBuilder.group({URL:[null,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.n.compose([_angular_forms__WEBPACK_IMPORTED_MODULE_1__.n.required,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.n.pattern(\"(?:(?:(?:ht|f)tp)s?://)?[\\\\w_-]+(?:\\\\.[\\\\w_-]+)+([\\\\w.,@?^=%&:/~+#-]*[\\\\w@?^=%&/~+#-])?\")])],Text:[null,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.n.required]})}submitForm(){if(this.isSubmitted=!0,!this.newweb.valid)return console.log(\"Please provide all the required values!\"),!1;console.log(this.newweb.value),this.http.createWebsite(this.newweb.value,this.id,this.type).subscribe(data=>{console.log(\"Web \"+data.body),this.WebsiteID=data.body.WebsiteID,console.log(\"antes de cerrar modal \",this.WebsiteID),this.closeModal()},error=>{console.log(error)})}get errorControl(){return this.newweb.controls}closeModal(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){yield this.modalController.dismiss(this.WebsiteID)}))}}return CreateWebsitePage.ɵfac=function(t){return new(t||CreateWebsitePage)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.T),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.V),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_api_rest_service__WEBPACK_IMPORTED_MODULE_4__.a),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.U),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_angular_router__WEBPACK_IMPORTED_MODULE_5__.a),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_angular_router__WEBPACK_IMPORTED_MODULE_5__.g),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Ib(_angular_forms__WEBPACK_IMPORTED_MODULE_1__.a))},CreateWebsitePage.ɵcmp=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Cb({type:CreateWebsitePage,selectors:[[\"app-create-website\"]],decls:30,vars:4,consts:[[\"color\",\"primary\"],[\"slot\",\"start\"],[\"padding\",\"\",3,\"fullscreen\"],[\"novalidate\",\"\",3,\"formGroup\",\"ngSubmit\"],[\"lines\",\"full\"],[\"position\",\"stacked\"],[2,\"color\",\"red\"],[\"placeholder\",\"http://www.ejemplo.com/pagina\",\"formControlName\",\"URL\",\"type\",\"text\",\"required\",\"\"],[\"class\",\"error ion-padding\",4,\"ngIf\"],[\"placeholder\",\"Ejemplo: Amazon, Wikipedia, IMDB, etc.\",\"formControlName\",\"Text\",\"type\",\"text\",\"required\",\"\"],[\"small\",\"\",\"expand\",\"inline\",\"shape\",\"round\",\"color\",\"primary\",\"type\",\"submit\"],[\"small\",\"\",\"expand\",\"inline\",\"shape\",\"round\",\"color\",\"primary\",3,\"click\"],[1,\"error\",\"ion-padding\"]],template:function(rf,ctx){1&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(0,\"ion-header\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(1,\"ion-toolbar\",0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Jb(2,\"ion-buttons\",1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(3,\"ion-title\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(4,\"Crear página web\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(5,\"ion-content\",2),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(6,\"form\",3),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Tb(\"ngSubmit\",(function(){return ctx.submitForm()})),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(7,\"ion-list\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(8,\"ion-item\",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(9,\"ion-label\",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(10,\"span\",6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(11,\"*\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(12,\"URL/Dirección\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Jb(13,\"ion-input\",7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.hc(14,CreateWebsitePage_span_14_Template,2,0,\"span\",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(15,\"ion-item\",4),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(16,\"ion-label\",5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(17,\"span\",6),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(18,\"*\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(19,\"Texto del enlace\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Jb(20,\"ion-input\",9),_angular_core__WEBPACK_IMPORTED_MODULE_2__.hc(21,CreateWebsitePage_span_21_Template,2,0,\"span\",8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(22,\"ion-grid\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(23,\"ion-row\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(24,\"ion-col\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(25,\"ion-button\",10),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(26,\"Enviar\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(27,\"ion-col\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Lb(28,\"ion-button\",11),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Tb(\"click\",(function(){return ctx.closeModal()})),_angular_core__WEBPACK_IMPORTED_MODULE_2__.ic(29,\"Cancelar\"),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb(),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Kb()),2&rf&&(_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(5),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"fullscreen\",!0),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(1),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"formGroup\",ctx.newweb),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(8),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"ngIf\",ctx.isSubmitted&&(null==ctx.errorControl.URL.errors?null:ctx.errorControl.URL.errors.required)),_angular_core__WEBPACK_IMPORTED_MODULE_2__.yb(7),_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yb(\"ngIf\",ctx.isSubmitted&&(null==ctx.errorControl.Text.errors?null:ctx.errorControl.Text.errors.required)))},directives:[_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.q,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.P,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.i,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.N,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.m,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.o,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.k,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.f,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.A,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.v,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.z,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.u,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.ab,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.j,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.d,_angular_forms__WEBPACK_IMPORTED_MODULE_1__.m,_angular_common__WEBPACK_IMPORTED_MODULE_6__.i,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.p,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.F,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.l,_ionic_angular__WEBPACK_IMPORTED_MODULE_3__.h],styles:[\"\"]}),CreateWebsitePage})()}}]);","extractedComments":[]}