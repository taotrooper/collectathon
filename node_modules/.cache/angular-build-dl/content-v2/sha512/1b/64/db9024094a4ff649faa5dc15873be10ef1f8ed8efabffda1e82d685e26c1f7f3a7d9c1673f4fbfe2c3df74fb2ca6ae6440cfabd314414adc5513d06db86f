!function(){function i(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function o(i,o){for(var n=0;n<o.length;n++){var e=o[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{X3zk:function(n,e,t){"use strict";t.r(e),t.d(e,"LoginPageModule",(function(){return y}));var r=t("ofXK"),l=t("3Pt+"),a=t("TEn/"),s=t("tyNb"),u=t("fXoL"),c=t("Epai"),b=t("UbJi"),g=t("ccyI");function f(i,o){if(1&i){var n=u.Mb();u.Lb(0,"ion-button",19),u.Tb("click",(function(){u.ec(n);var i=u.Vb();return i.login(i.loginform.email,i.loginform.password)})),u.ic(1,"Iniciar sesi\xf3n"),u.Kb()}}function m(i,o){if(1&i){var n=u.Mb();u.Lb(0,"ion-button",19),u.Tb("click",(function(){u.ec(n);var i=u.Vb();return i.signin(i.loginform.email,i.loginform.password)})),u.ic(1,"Registrarse"),u.Kb()}}var h,d,p,v=[{path:"",component:(h=function(){function n(o,e,t,r,a,s,u){var c=this;i(this,n),this.http=o,this.router=e,this.ngFireAuth=t,this.navCtrl=r,this.auth=a,this.alertCtrl=s,this.formBuilder=u,this.user={email:"",password:""},this.loginform=null,this.segm="login",this.isSubmitted=!1,this.loginform=new l.e({email:new l.b,password:new l.b,segm:new l.b}),this.ngFireAuth.onAuthStateChanged((function(i){i&&c.router.navigate(["home"])}))}var e,t,r;return e=n,(t=[{key:"ngOnInit",value:function(){this.loginform=this.formBuilder.group({email:[null,l.n.required],password:[null,l.n.required],segm:[this.segm]})}},{key:"ionViewDidLoad",value:function(){console.log("ionViewDidLoad LoginPage")}},{key:"signin",value:function(i,o){var n=this;if(this.isSubmitted=!0,!this.loginform.valid)return console.log("Please provide all the required values!"),!1;console.log(this.loginform.value),this.auth.registerUser(this.loginform.value.email,this.loginform.value.password).then((function(i){n.auth.setUser(),n.router.navigate(["home"])})).catch((function(i){window.alert("signin error: "+i.message)}))}},{key:"login",value:function(i,o){var n=this;if(this.isSubmitted=!0,!this.loginform.valid)return console.log("Please provide all the required values!"),!1;console.log(this.loginform.value),this.auth.loginUser(this.loginform.value.email,this.loginform.value.password).then((function(i){n.auth.setUser(),n.router.navigate(["home"])})).catch((function(i){window.alert("login error: "+i.message),console.log(i)}))}},{key:"loginGoogle",value:function(){var i=this;console.log("Estoy en login logingoogle"),this.auth.loginGoogle().then((function(o){i.auth.setUser(),i.router.navigate(["home"])})).catch((function(i){window.alert("login error: "+i.message),console.log(i)}))}},{key:"forgotPassword",value:function(){if(this.isSubmitted=!0,!this.loginform.value.email)return this.http.presentToast("Aseg\xfarate de escribir tu correo en el formulario."),!1;this.auth.SendPasswordReset(this.loginform.value.email)}},{key:"segmentChanged",value:function(i){this.segm=this.loginform.value.segm,console.log()}},{key:"exitApp",value:function(){navigator.app.exitApp()}}])&&o(e.prototype,t),r&&o(e,r),n}(),h.\u0275fac=function(i){return new(i||h)(u.Ib(c.a),u.Ib(s.g),u.Ib(b.a),u.Ib(a.U),u.Ib(g.a),u.Ib(a.b),u.Ib(l.a))},h.\u0275cmp=u.Cb({type:h,selectors:[["app-login"]],decls:33,vars:5,consts:[[3,"translucent"],["color","primary"],["slot","end"],[3,"click"],["name","close"],[3,"formGroup"],["formControlName","segm",3,"value","ionChange"],["value","login"],["value","register"],["lines","full"],["position","floating"],["type","email","formControlName","email","required",""],["email",""],["type","password","formControlName","password","required",""],["password",""],[2,"text-align","center"],["padding",""],["type","submit","color","primary","block","",3,"click",4,"ngIf"],["fill","clear",3,"click"],["type","submit","color","primary","block","",3,"click"]],template:function(i,o){1&i&&(u.Lb(0,"ion-header",0),u.Lb(1,"ion-toolbar",1),u.Lb(2,"ion-buttons",2),u.Lb(3,"ion-button",3),u.Tb("click",(function(){return o.exitApp()})),u.Jb(4,"ion-icon",4),u.Kb(),u.Kb(),u.Lb(5,"ion-title"),u.ic(6,"Collectathon - Inicia sesi\xf3n"),u.Kb(),u.Kb(),u.Kb(),u.Lb(7,"ion-content"),u.Lb(8,"form",5),u.Lb(9,"ion-segment",6),u.Tb("ionChange",(function(i){return o.segmentChanged(i)})),u.Lb(10,"ion-segment-button",7),u.Lb(11,"ion-label"),u.ic(12,"Iniciar sesi\xf3n"),u.Kb(),u.Kb(),u.Lb(13,"ion-segment-button",8),u.Lb(14,"ion-label"),u.ic(15,"Crear cuenta"),u.Kb(),u.Kb(),u.Kb(),u.Lb(16,"ion-item",9),u.Lb(17,"ion-label",10),u.ic(18,"Email"),u.Kb(),u.Jb(19,"ion-input",11,12),u.Kb(),u.Lb(21,"ion-item",9),u.Lb(22,"ion-label",10),u.ic(23,"Contrase\xf1a"),u.Kb(),u.Jb(24,"ion-input",13,14),u.Kb(),u.Lb(26,"ion-row"),u.Lb(27,"ion-col",15),u.Lb(28,"div",16),u.hc(29,f,2,0,"ion-button",17),u.hc(30,m,2,0,"ion-button",17),u.Lb(31,"ion-button",18),u.Tb("click",(function(){return o.forgotPassword()})),u.ic(32,"\xbfOlvidaste tu contrase\xf1a?"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.Kb()),2&i&&(u.Yb("translucent",!0),u.yb(8),u.Yb("formGroup",o.loginform),u.yb(1),u.Yb("value",o.loginform.segm),u.yb(20),u.Yb("ngIf","login"===o.segm),u.yb(1),u.Yb("ngIf","register"===o.segm))},directives:[a.q,a.P,a.i,a.h,a.r,a.N,a.m,l.o,l.k,l.f,a.H,a.Z,l.j,l.d,a.I,a.z,a.v,a.u,a.ab,l.m,a.F,a.l,r.i],styles:[""]}),h)}],w=((p=function o(){i(this,o)}).\u0275mod=u.Gb({type:p}),p.\u0275inj=u.Fb({factory:function(i){return new(i||p)},imports:[[s.i.forChild(v)],s.i]}),p),y=((d=function o(){i(this,o)}).\u0275mod=u.Gb({type:d}),d.\u0275inj=u.Fb({factory:function(i){return new(i||d)},imports:[[r.b,l.g,l.l,a.Q,w]]}),d)}}])}();