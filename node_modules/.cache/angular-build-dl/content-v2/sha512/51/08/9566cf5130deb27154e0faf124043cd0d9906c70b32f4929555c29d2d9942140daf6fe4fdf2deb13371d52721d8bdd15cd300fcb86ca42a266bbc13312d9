(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{RmqX:function(i,o,e){"use strict";e.r(o),e.d(o,"SearchPageModule",(function(){return C}));var t=e("ofXK"),n=e("3Pt+"),r=e("TEn/"),c=e("tyNb"),a=e("fXoL"),l=e("Epai"),b=e("2bnu");function s(i,o){1&i&&(a.Lb(0,"div"),a.Lb(1,"ion-select-option",24),a.ic(2,"ISBN"),a.Kb(),a.Lb(3,"ion-select-option",25),a.ic(4,"Editorial"),a.Kb(),a.Lb(5,"ion-select-option",26),a.ic(6,"Idioma"),a.Kb(),a.Lb(7,"ion-select-option",27),a.ic(8,"Tipo (bolsillo, tapa dura, ebook...)"),a.Kb(),a.Kb())}function u(i,o){1&i&&(a.Lb(0,"div"),a.Lb(1,"ion-select-option",28),a.ic(2,"Formato (CD, vinilo, digital...)"),a.Kb(),a.Lb(3,"ion-select-option",29),a.ic(4,"Sello"),a.Kb(),a.Kb())}function p(i,o){1&i&&(a.Lb(0,"div"),a.Lb(1,"ion-select-option",30),a.ic(2,"Formato (DVD, Bluray...)"),a.Kb(),a.Lb(3,"ion-select-option",31),a.ic(4,"Tipo (Pel\xedcula, serie...)"),a.Kb(),a.Lb(5,"ion-select-option",32),a.ic(6,"Sistema (PAL, NTSC...)"),a.Kb(),a.Lb(7,"ion-select-option",33),a.ic(8,"Regi\xf3n"),a.Kb(),a.Lb(9,"ion-select-option",34),a.ic(10,"Temporada"),a.Kb(),a.Kb())}function m(i,o){1&i&&(a.Lb(0,"div"),a.Lb(1,"ion-select-option",35),a.ic(2,"Plataforma/consola"),a.Kb(),a.Lb(3,"ion-select-option",36),a.ic(4,"Formato (f\xedsico/digital...)"),a.Kb(),a.Lb(5,"ion-select-option",37),a.ic(6,"Regi\xf3n"),a.Kb(),a.Lb(7,"ion-select-option",38),a.ic(8,"Distribuidora"),a.Kb(),a.Lb(9,"ion-select-option",39),a.ic(10,"Estudio"),a.Kb(),a.Kb())}function d(i,o){1&i&&(a.Lb(0,"div"),a.Lb(1,"ion-select-option",40),a.ic(2,"Tipo (grapas, tomo, omnibus)"),a.Kb(),a.Lb(3,"ion-select-option",41),a.ic(4,"Origen (norteamericano, manga, europeo..."),a.Kb(),a.Lb(5,"ion-select-option",42),a.ic(6,"ISBN"),a.Kb(),a.Lb(7,"ion-select-option",43),a.ic(8,"Editorial"),a.Kb(),a.Lb(9,"ion-select-option",44),a.ic(10,"Idioma"),a.Kb(),a.Lb(11,"ion-select-option",45),a.ic(12,"Formato (f\xedsico/digital)"),a.Kb(),a.Lb(13,"ion-select-option",46),a.ic(14,"N\xfamero"),a.Kb(),a.Kb())}function f(i,o){1&i&&(a.Lb(0,"ion-item",6),a.ic(1,"No hay criterios de b\xfasqueda."),a.Kb())}function v(i,o){if(1&i){const i=a.Mb();a.Lb(0,"ion-chip"),a.ic(1),a.Lb(2,"button",48),a.Tb("click",(function(){a.ec(i);const e=o.$implicit;return a.Vb(2).removeCriteria(e)})),a.ic(3,"x"),a.Kb(),a.Kb()}if(2&i){const i=o.$implicit;a.yb(1),a.lc("",i.campo," = ",i.valor,"")}}function h(i,o){if(1&i&&(a.Lb(0,"ion-item",6),a.hc(1,v,4,2,"ion-chip",47),a.Kb()),2&i){const i=a.Vb();a.yb(1),a.Yb("ngForOf",i.criteria)}}function L(i,o){if(1&i&&(a.Lb(0,"ion-item-sliding"),a.Jb(1,"app-edition-list",49),a.Kb()),2&i){const i=o.$implicit;a.yb(1),a.Yb("ed",i)}}function K(i,o){if(1&i&&(a.Lb(0,"ion-list"),a.Lb(1,"ion-item",6),a.Lb(2,"small"),a.ic(3),a.Kb(),a.Kb(),a.hc(4,L,2,1,"ion-item-sliding",47),a.Kb()),2&i){const i=a.Vb();a.yb(3),a.kc("Mostrando ",i.numres," resultados."),a.yb(1),a.Yb("ngForOf",i.items)}}const g=[{path:"",component:(()=>{class i{constructor(i,o,e,t,r){this.http=i,this.navCtrl=o,this.route=e,this.router=t,this.formBuilder=r,this.criteria=[],this.numres=null,this.isSubmitted=!1,this.formcriteria=null,this.formcriteria=new n.e({tipo:new n.b,campo:new n.b,valor:new n.b})}ngOnInit(){this.formcriteria=this.formBuilder.group({tipo:[null],campo:[null,n.n.required],valor:[null,n.n.required]})}addCriteria(){if(this.isSubmitted=!0,!this.formcriteria.valid)return console.log("Please provide all the required values!"),!1;if(this.formcriteria.value.valor){var i=this.criteria.find(i=>i.campo===this.formcriteria.value.campo);i?i.valor=this.formcriteria.value.valor:this.criteria.push({campo:this.formcriteria.value.campo,valor:this.formcriteria.value.valor}),console.log("criteria:"+this.criteria)}}removeCriteria(i){this.criteria.splice(this.criteria.findIndex(o=>o===i),1),console.log("people:"+this.criteria)}changeType(){if(this.criteria.find(i=>"ItemType"===i.campo)&&this.criteria.splice(this.criteria.findIndex(i=>"ItemType"===i.campo),1),"all"!==this.formcriteria.value.tipo){var i={campo:"ItemType",valor:this.http.getItemType(this.formcriteria.value.tipo)};this.criteria.push(i)}}get errorControl(){return this.formcriteria.controls}compareFn(i,o){return i&&o?i.id===o.id:i===o}process(){var i={body:this.criteria};console.log("c ",i),this.http.searchEditions(i).subscribe(i=>{this.items=i.body.body,this.numres=i.itemCount||i.body.itemCount,console.log(this.numres)},i=>{console.error(i),this.numres=0})}}return i.\u0275fac=function(o){return new(o||i)(a.Ib(l.a),a.Ib(r.U),a.Ib(c.a),a.Ib(c.g),a.Ib(n.a))},i.\u0275cmp=a.Cb({type:i,selectors:[["app-search"]],decls:51,vars:10,consts:[["color","primary"],["slot","start"],["defaultHref","explore"],["slot","end"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Seleccionar","formControlName","tipo","type","text",3,"ionChange"],["value","all"],["value","book"],["value","music"],["value","video"],["value","game"],["value","comic"],["okText","Aceptar","cancelText","Cancelar","interface","alert","placeholder","Campo","formControlName","campo","type","text"],["value","ItemName"],["value","Year"],["value","EAN13"],[4,"ngIf"],["placeholder","Valor","formControlName","valor","type","text"],["shape","round","color","primary","type","submit"],["lines","full",4,"ngIf"],["expand","block","shape","round","color","primary",3,"click"],["value","ISBN"],["value","Editorial"],["value","Idioma"],["value","Tipo"],["value","Formato"],["value","Sello"],["value","FormatoVideo"],["value","TipoVideo"],["value","Sistema"],["value","RegionVideo"],["value","Temporada"],["value","Plataforma"],["value","FormatoJuego"],["value","RegionJuego"],["value","Distribuidora"],["value","Estudio"],["value","TipoComic"],["value","Origen"],["value","ISBNComic"],["value","EditorialComic"],["value","IdiomaComic"],["value","FormatoComic"],["value","NroComic"],[4,"ngFor","ngForOf"],["ion-button","",3,"click"],[3,"ed"]],template:function(i,o){1&i&&(a.Lb(0,"ion-header"),a.Lb(1,"ion-toolbar",0),a.Lb(2,"ion-buttons",1),a.Jb(3,"ion-back-button",2),a.Kb(),a.Lb(4,"ion-buttons",3),a.Jb(5,"ion-menu-button"),a.Kb(),a.Lb(6,"ion-title"),a.ic(7,"B\xfasqueda avanzada"),a.Kb(),a.Kb(),a.Kb(),a.Lb(8,"ion-content",4),a.Lb(9,"form",5),a.Tb("ngSubmit",(function(){return o.addCriteria()})),a.Lb(10,"ion-list"),a.Lb(11,"ion-item",6),a.Lb(12,"ion-label",7),a.ic(13,"Selecciona tipo de \xedtem"),a.Kb(),a.Lb(14,"ion-select",8),a.Tb("ionChange",(function(){return o.changeType()})),a.Lb(15,"ion-select-option",9),a.ic(16,"Todos"),a.Kb(),a.Lb(17,"ion-select-option",10),a.ic(18,"Libro"),a.Kb(),a.Lb(19,"ion-select-option",11),a.ic(20,"M\xfasica"),a.Kb(),a.Lb(21,"ion-select-option",12),a.ic(22,"V\xeddeo"),a.Kb(),a.Lb(23,"ion-select-option",13),a.ic(24,"Videojuego"),a.Kb(),a.Lb(25,"ion-select-option",14),a.ic(26,"Comic"),a.Kb(),a.Kb(),a.Kb(),a.Lb(27,"ion-item",6),a.Lb(28,"small"),a.ic(29,"Asigna al menos un criterio de b\xfasqueda:"),a.Kb(),a.Kb(),a.Lb(30,"ion-item",6),a.Lb(31,"ion-select",15),a.Lb(32,"ion-select-option",16),a.ic(33,"T\xedtulo"),a.Kb(),a.Lb(34,"ion-select-option",17),a.ic(35,"A\xf1o de edici\xf3n"),a.Kb(),a.Lb(36,"ion-select-option",18),a.ic(37,"EAN13"),a.Kb(),a.hc(38,s,9,0,"div",19),a.hc(39,u,5,0,"div",19),a.hc(40,p,11,0,"div",19),a.hc(41,m,11,0,"div",19),a.hc(42,d,15,0,"div",19),a.Kb(),a.Jb(43,"ion-input",20),a.Lb(44,"ion-button",21),a.ic(45,"A\xf1adir"),a.Kb(),a.Kb(),a.hc(46,f,2,0,"ion-item",22),a.hc(47,h,2,1,"ion-item",22),a.Kb(),a.Lb(48,"ion-button",23),a.Tb("click",(function(){return o.process()})),a.ic(49,"Aceptar"),a.Kb(),a.hc(50,K,5,2,"ion-list",19),a.Kb(),a.Kb()),2&i&&(a.yb(8),a.Yb("fullscreen",!0),a.yb(1),a.Yb("formGroup",o.formcriteria),a.yb(29),a.Yb("ngIf","book"==o.formcriteria.value.tipo),a.yb(1),a.Yb("ngIf","music"==o.formcriteria.value.tipo),a.yb(1),a.Yb("ngIf","video"==o.formcriteria.value.tipo),a.yb(1),a.Yb("ngIf","game"==o.formcriteria.value.tipo),a.yb(1),a.Yb("ngIf","comic"==o.formcriteria.value.tipo),a.yb(4),a.Yb("ngIf",o.criteria.length<1),a.yb(1),a.Yb("ngIf",o.criteria.length>=1),a.yb(3),a.Yb("ngIf",null!==o.numres))},directives:[r.q,r.P,r.i,r.f,r.g,r.C,r.N,r.m,n.o,n.k,n.f,r.A,r.v,r.z,r.J,r.Z,n.j,n.d,r.K,t.i,r.u,r.ab,r.h,t.h,r.k,r.y,b.a],styles:[""]}),i})()}];let y=(()=>{class i{}return i.\u0275mod=a.Gb({type:i}),i.\u0275inj=a.Fb({factory:function(o){return new(o||i)},imports:[[c.i.forChild(g)],c.i]}),i})();var I=e("j1ZV");let C=(()=>{class i{}return i.\u0275mod=a.Gb({type:i}),i.\u0275inj=a.Fb({factory:function(o){return new(o||i)},imports:[[t.b,n.g,n.l,r.Q,I.a,y]]}),i})()},j1ZV:function(i,o,e){"use strict";e.d(o,"a",(function(){return c}));var t=e("ofXK"),n=e("TEn/"),r=e("fXoL");let c=(()=>{class i{}return i.\u0275mod=r.Gb({type:i}),i.\u0275inj=r.Fb({factory:function(o){return new(o||i)},imports:[[t.b,n.Q]]}),i})()}}]);