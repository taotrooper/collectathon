(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{bzNi:function(i,e,t){"use strict";t.r(e),t.d(e,"ItemPageModule",(function(){return j}));var n=t("ofXK"),o=t("3Pt+"),b=t("TEn/"),c=t("tyNb"),r=t("mrSG"),s=t("fXoL"),a=t("Epai"),l=t("rgD0"),d=t("cLkV"),h=t("SXrq"),p=t("qKCK"),m=t("Tjrf"),g=t("z0C6"),f=t("/WS/");function u(i,e){if(1&i){const i=s.Mb();s.Lb(0,"ion-button",17),s.Tb("click",(function(){return s.ec(i),s.Vb().goToEditItem()})),s.ic(1,"Editar"),s.Kb()}}function y(i,e){if(1&i){const i=s.Mb();s.Lb(0,"ion-button",18),s.Tb("click",(function(){return s.ec(i),s.Vb().deleteItem()})),s.ic(1,"Eliminar"),s.Kb()}}function I(i,e){if(1&i){const i=s.Mb();s.Lb(0,"ion-chip"),s.Jb(1,"ion-icon",19),s.Lb(2,"a",20),s.Jb(3,"app-persona",21),s.Kb(),s.Lb(4,"ion-icon",22),s.Tb("click",(function(){s.ec(i);const t=e.$implicit;return s.Vb().removePerson(t.PersonID,t.Role)})),s.Kb(),s.Kb()}if(2&i){const i=e.$implicit;s.yb(2),s.ac("href","/person/",i.PersonID,"",s.fc),s.yb(1),s.Zb("Names",i.Names),s.Zb("LastNames",i.LastNames),s.Zb("Role",i.Role)}}function L(i,e){if(1&i&&(s.Lb(0,"ion-chip"),s.Jb(1,"ion-icon",23),s.Lb(2,"ion-label"),s.Lb(3,"strong"),s.ic(4,"Serie: "),s.Kb(),s.Lb(5,"a",20),s.ic(6),s.Kb(),s.Kb(),s.Kb()),2&i){const i=s.Vb();s.yb(5),s.ac("href","/series/",i.series,"",s.fc),s.yb(1),s.jc(i.seriesName)}}function K(i,e){if(1&i&&(s.Lb(0,"ion-chip"),s.Jb(1,"ion-icon",24),s.Lb(2,"ion-label"),s.Jb(3,"strong"),s.Lb(4,"a",20),s.ic(5),s.Kb(),s.Kb(),s.Kb()),2&i){const i=s.Vb();s.yb(4),s.ac("href","/genre/",i.genreID1,"",s.fc),s.yb(1),s.jc(i.genreName1)}}function D(i,e){if(1&i&&(s.Lb(0,"ion-chip"),s.Jb(1,"ion-icon",24),s.Lb(2,"ion-label"),s.Jb(3,"strong"),s.Lb(4,"a",20),s.ic(5),s.Kb(),s.Kb(),s.Kb()),2&i){const i=s.Vb();s.yb(4),s.ac("href","/genre/",i.genreID2,"",s.fc),s.yb(1),s.jc(i.genreName2)}}function N(i,e){if(1&i&&(s.Lb(0,"ion-chip"),s.Jb(1,"ion-icon",24),s.Lb(2,"ion-label"),s.Jb(3,"strong"),s.Lb(4,"a",20),s.ic(5),s.Kb(),s.Kb(),s.Kb()),2&i){const i=s.Vb();s.yb(4),s.ac("href","/genre/",i.genreID3,"",s.fc),s.yb(1),s.jc(i.genreName3)}}function v(i,e){1&i&&(s.Lb(0,"ion-item-sliding"),s.Lb(1,"ion-label"),s.ic(2,"No existen ediciones para este \xedtem."),s.Kb(),s.Kb())}function k(i,e){if(1&i&&(s.Lb(0,"ion-col"),s.Lb(1,"div"),s.Lb(2,"ion-button",25),s.ic(3,"Ver detalle"),s.Kb(),s.Kb(),s.Jb(4,"app-detail-book",26),s.Kb()),2&i){const i=s.Vb().$implicit;s.yb(2),s.ac("href","/edition/book/",i.EditionID,""),s.yb(2),s.Yb("id",i.EditionID)}}function E(i,e){if(1&i&&(s.Lb(0,"ion-col"),s.Lb(1,"div"),s.Lb(2,"ion-button",25),s.ic(3,"Ver detalle"),s.Kb(),s.Kb(),s.Jb(4,"app-detail-music",26),s.Kb()),2&i){const i=s.Vb().$implicit;s.yb(2),s.ac("href","/edition/music/",i.EditionID,""),s.yb(2),s.Yb("id",i.EditionID)}}function w(i,e){if(1&i&&(s.Lb(0,"ion-col"),s.Lb(1,"div"),s.Lb(2,"ion-button",25),s.ic(3,"Ver detalle"),s.Kb(),s.Kb(),s.Jb(4,"app-detail-video",26),s.Kb()),2&i){const i=s.Vb().$implicit;s.yb(2),s.ac("href","/edition/video/",i.EditionID,""),s.yb(2),s.Yb("id",i.EditionID)}}function C(i,e){if(1&i&&(s.Lb(0,"ion-col"),s.Lb(1,"div"),s.Lb(2,"ion-button",25),s.ic(3,"Ver detalle"),s.Kb(),s.Kb(),s.Jb(4,"app-detail-game",26),s.Kb()),2&i){const i=s.Vb().$implicit;s.yb(2),s.ac("href","/edition/game/",i.EditionID,""),s.yb(2),s.Yb("id",i.EditionID)}}function Y(i,e){if(1&i&&(s.Lb(0,"ion-col"),s.Lb(1,"div"),s.Lb(2,"ion-button",25),s.ic(3,"Ver detalle"),s.Kb(),s.Kb(),s.Jb(4,"app-detail-comic",26),s.Kb()),2&i){const i=s.Vb().$implicit;s.yb(2),s.ac("href","/edition/comic/",i.EditionID,""),s.yb(2),s.Yb("id",i.EditionID)}}function J(i,e){if(1&i&&(s.Lb(0,"ion-item-sliding"),s.Lb(1,"ion-item",6),s.Lb(2,"ion-grid"),s.Lb(3,"ion-row"),s.hc(4,k,5,2,"ion-col",14),s.hc(5,E,5,2,"ion-col",14),s.hc(6,w,5,2,"ion-col",14),s.hc(7,C,5,2,"ion-col",14),s.hc(8,Y,5,2,"ion-col",14),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&i){const i=s.Vb();s.yb(4),s.Yb("ngIf","book"===i.type),s.yb(1),s.Yb("ngIf","music"===i.type),s.yb(1),s.Yb("ngIf","video"===i.type),s.yb(1),s.Yb("ngIf","game"===i.type),s.yb(1),s.Yb("ngIf","comic"===i.type)}}const V=[{path:"",component:(()=>{class i{constructor(i,e,t,n,o,b){this.http=i,this.navCtrl=e,this.route=t,this.router=n,this.alertCtrl=o,this.modalController=b,this.id=this.route.snapshot.params.id,this.type=this.route.snapshot.params.type,this.userID=i.getUserID(),this.getItem(),this.getEditions(),console.log("id: "+this.id+", type: "+this.type+", userID: "+this.userID)}getItem(){this.http.getItem(this.id).subscribe(i=>{this.item=i,console.log(this.item),this.typeName=this.http.getItemTypeName(this.type),this.typeIcon=this.http.getItemTypeIcon(i.ItemType),console.log(this.typeIcon),this.itemName=i.ItemName,this.series=i.SeriesID,this.seriesName=i.SeriesName,this.genreID1=i.GenreID1,this.genreName1=i.GenreName1,this.genreID2=i.GenreID2,this.genreName2=i.GenreName2,this.genreID3=i.GenreID3,this.genreName3=i.GenreName3,this.people=i.People,this.creatorUser=i.CreatorUserID,console.log("creator user:",this.creatorUser)},i=>{console.error(i)})}getEditions(){this.ediciones=[],this.http.getEditionsOfItem(this.id,this.type).subscribe(i=>{this.ediciones=i.body,this.itemCount=i.itemCount,console.log("ediciones ",this.ediciones)},i=>{console.error(i),this.itemCount=0})}goToEditItem(){this.navCtrl.navigateForward("/edit-item/"+this.id)}goToEditEdition(i){this.navCtrl.navigateForward("/edit-"+this.type+"/"+i)}goToNewEdition(){this.navCtrl.navigateForward("/create-"+this.type+"/"+this.id)}deleteItem(){return Object(r.a)(this,void 0,void 0,(function*(){const i=yield this.alertCtrl.create({header:"Confirmar",message:"\xbfSeguro que deseas eliminar permanentemente el item y todas sus ediciones?",buttons:[{text:"Aceptar",handler:()=>{this.http.deleteItem(this.id,this.type)}},{text:"Cancelar",role:"cancel",handler:()=>{console.log("Cancelar")}}]});yield i.present()}))}addPerson(){console.log("A\xf1adir persona"),this.navCtrl.navigateForward("/add-person/"+this.type+"/"+this.id)}removePerson(i,e){console.log("Borrar persona ",i),this.http.removePersonToItem(i,this.id,e).subscribe(i=>{this.http.presentToast(i.body.Message),200==i.status&&(this.people=[],this.getItem())},i=>(console.log(i),i))}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(s.Ib(a.a),s.Ib(b.U),s.Ib(c.a),s.Ib(c.g),s.Ib(b.b),s.Ib(b.T))},i.\u0275cmp=s.Cb({type:i,selectors:[["app-item"]],decls:40,vars:15,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/myitems"],["slot","end"],[3,"fullscreen"],[1,"ion-card"],[1,"ion-text-wrap",2,"margin-left","5px"],[2,"margin","0 5px",3,"name"],["top","","expand","inline",3,"click",4,"ngIf"],["top","","expand","inline","color","danger",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"],["name","person-add"],[4,"ngIf"],["type","item",3,"id"],["expand","full",3,"click"],["top","","expand","inline",3,"click"],["top","","expand","inline","color","danger",3,"click"],["name","person"],[1,"chiplink",3,"href"],[3,"Names","LastNames","Role"],["name","close",3,"click"],["name","pricetag"],["name","bookmark"],[3,"href"],[3,"id"]],template:function(i,e){1&i&&(s.Lb(0,"ion-header",0),s.Lb(1,"ion-toolbar",1),s.Lb(2,"ion-buttons",2),s.Jb(3,"ion-back-button",3),s.Kb(),s.Lb(4,"ion-buttons",4),s.Jb(5,"ion-menu-button"),s.Kb(),s.Lb(6,"ion-title"),s.ic(7),s.Kb(),s.Kb(),s.Kb(),s.Lb(8,"ion-content",5),s.Lb(9,"ion-list"),s.Lb(10,"ion-item-sliding"),s.Lb(11,"ion-item",6),s.Lb(12,"ion-grid"),s.Lb(13,"ion-row"),s.Lb(14,"ion-label",7),s.Lb(15,"h1"),s.Jb(16,"ion-icon",8),s.Lb(17,"strong"),s.ic(18),s.Kb(),s.Kb(),s.Lb(19,"div"),s.hc(20,u,2,0,"ion-button",9),s.hc(21,y,2,0,"ion-button",10),s.Kb(),s.Kb(),s.Kb(),s.Lb(22,"ion-row"),s.hc(23,I,5,4,"ion-chip",11),s.Lb(24,"ion-chip",12),s.Tb("click",(function(){return e.addPerson()})),s.Jb(25,"ion-icon",13),s.Lb(26,"ion-label"),s.ic(27,"Agregar"),s.Kb(),s.Kb(),s.Kb(),s.Lb(28,"ion-row"),s.hc(29,L,7,2,"ion-chip",14),s.hc(30,K,6,2,"ion-chip",14),s.hc(31,D,6,2,"ion-chip",14),s.hc(32,N,6,2,"ion-chip",14),s.Kb(),s.Lb(33,"ion-row"),s.Jb(34,"app-website-list",15),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.hc(35,v,3,0,"ion-item-sliding",14),s.hc(36,J,9,5,"ion-item-sliding",11),s.Lb(37,"ion-item-sliding"),s.Lb(38,"ion-button",16),s.Tb("click",(function(){return e.goToNewEdition()})),s.ic(39,"Nueva edici\xf3n"),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&i&&(s.Yb("translucent",!0),s.yb(7),s.jc(e.itemName),s.yb(1),s.Yb("fullscreen",!0),s.yb(8),s.Zb("name",e.typeIcon),s.yb(2),s.jc(e.itemName),s.yb(2),s.Yb("ngIf",e.userID==e.creatorUser),s.yb(1),s.Yb("ngIf",e.userID==e.creatorUser),s.yb(2),s.Yb("ngForOf",e.people),s.yb(6),s.Yb("ngIf",e.series>0),s.yb(1),s.Yb("ngIf",e.genreID1>0),s.yb(1),s.Yb("ngIf",e.genreID2>0),s.yb(1),s.Yb("ngIf",e.genreID3>0),s.yb(2),s.Yb("id",e.id),s.yb(1),s.Yb("ngIf",e.itemCount<=0),s.yb(1),s.Yb("ngForOf",e.ediciones))},directives:[b.q,b.P,b.i,b.f,b.g,b.C,b.N,b.m,b.A,b.y,b.v,b.p,b.F,b.z,b.r,n.i,n.h,b.k,l.a,b.h,d.a,b.l,h.a,p.a,m.a,g.a,f.a],styles:[""]}),i})()}];let T=(()=>{class i{}return i.\u0275mod=s.Gb({type:i}),i.\u0275inj=s.Fb({factory:function(e){return new(e||i)},imports:[[c.i.forChild(V)],c.i]}),i})();var F=t("F5SU"),P=t("j1ZV");let j=(()=>{class i{}return i.\u0275mod=s.Gb({type:i}),i.\u0275inj=s.Fb({factory:function(e){return new(e||i)},imports:[[n.b,o.g,b.Q,T,F.CreateWebsitePageModule,P.a]]}),i})()}}]);