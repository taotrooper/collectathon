{"version":3,"sources":["webpack:///src/app/edit-website/edit-website.page.html","webpack:///src/app/edit-website/edit-website-routing.module.ts","webpack:///src/app/edit-website/edit-website.module.ts","webpack:///src/app/edit-website/edit-website.page.scss","webpack:///src/app/edit-website/edit-website.page.ts"],"names":["routes","path","component","EditWebsitePageRoutingModule","imports","forChild","exports","EditWebsitePageModule","declarations","EditWebsitePage","modalController","navParams","http","navCtrl","route","router","formBuilder","web","isSubmitted","URL","Text","id","data","getWebsite","subscribe","res","group","required","console","log","error","valid","value","WebsiteID","updateWebsite","closeModal","dismiss","controls","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,4BAA4B;AAAA;AAAA,O;;AAA5BA,kCAA4B,6DAJxC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIwC,GAA5BH,4BAA4B,CAA5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCIAI,qBAAqB;AAAA;AAAA,O;;AAArBA,2BAAqB,6DAVjC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,kEAHO,EAIP,0DAJO,EAKP,yFALO,CADD;AAQRI,oBAAY,EAAE,CAAC,kEAAD;AARN,OAAT,CAUiC,GAArBD,qBAAqB,CAArB;;;;;;;;;;;;;;;;ACpBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCYFE,eAAe;AAW1B,iCAAoBC,eAApB,EAA8DC,SAA9D,EAA2FC,IAA3F,EACUC,OADV,EAC0CC,KAD1C,EACyEC,MADzE,EAEUC,WAFV,EAEoC;AAAA;;AAFhB,eAAAN,eAAA,GAAAA,eAAA;AAA0C,eAAAC,SAAA,GAAAA,SAAA;AAA6B,eAAAC,IAAA,GAAAA,IAAA;AACjF,eAAAC,OAAA,GAAAA,OAAA;AAAgC,eAAAC,KAAA,GAAAA,KAAA;AAA+B,eAAAC,MAAA,GAAAA,MAAA;AAC/D,eAAAC,WAAA,GAAAA,WAAA;AANV,eAAAC;AAAG;AAAH,YAAqB,IAArB;AAEA,eAAAC,WAAA,GAAc,KAAd;AAKI,eAAKD,GAAL,GAAW,IAAI,wDAAJ,CAAc;AACvBE,eAAG,EAAE,IAAI,0DAAJ,EADkB;AAEvBC,gBAAI,EAAE,IAAI,0DAAJ;AAFiB,WAAd,CAAX;AAIA;;AAlBsB;AAAA;AAAA,qCAoBf;AACT,iBAAKC,EAAL,GAAU,KAAKV,SAAL,CAAeW,IAAf,CAAoBD,EAA9B;AACA,iBAAKE,UAAL;AACD;AAvByB;AAAA;AAAA,uCAyBb;AAAA;;AACX,iBAAKX,IAAL,CAAUW,UAAV,CAAqB,KAAKF,EAA1B,EAA8BG,SAA9B,CACE,UAACC,GAAD,EAAS;AACP,mBAAI,CAACR,GAAL,GAAW,KAAI,CAACD,WAAL,CAAiBU,KAAjB,CAAuB;AAChC,uBAAQ,CAACD,GAAG,CAAC,KAAD,CAAJ,EAAa,0DAAWE,QAAxB,CADwB;AAEhC,wBAAS,CAACF,GAAG,CAAC,MAAD,CAAJ,EAAc,0DAAWE,QAAzB;AAFuB,eAAvB,CAAX;AAIAC,qBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,GAArB;AACD,aAPH,EAQE,UAACK,KAAD,EAAU;AACRF,qBAAO,CAACE,KAAR,CAAcA,KAAd;AACD,aAVH;AAYD;AAtCyB;AAAA;AAAA,uCAwCb;AAAA;;AACX,iBAAKZ,WAAL,GAAmB,IAAnB;;AACA,gBAAI,CAAC,KAAKD,GAAL,CAASc,KAAd,EAAqB;AACnBH,qBAAO,CAACC,GAAR,CAAY,yCAAZ;AACA,qBAAO,KAAP;AACD,aAHD,MAGO;AACL,mBAAKZ,GAAL,CAASe,KAAT,CAAeC,SAAf,GAA2B,KAAKZ,EAAhC;AACAO,qBAAO,CAACC,GAAR,CAAY,KAAKZ,GAAL,CAASe,KAArB;AACA,mBAAKpB,IAAL,CAAUsB,aAAV,CAAwB,KAAKjB,GAAL,CAASe,KAAjC,EAAwCR,SAAxC,CAAkD,UAAAF,IAAI,EAAI;AACxDM,uBAAO,CAACC,GAAR,CAAY,SAAOP,IAAI,CAAC,MAAD,CAAvB;AACA,sBAAI,CAACW,SAAL,GAAiBX,IAAI,CAAC,MAAD,CAAJ,CAAa,WAAb,CAAjB;AACAM,uBAAO,CAACC,GAAR,CAAY,wBAAZ,EAAqC,MAAI,CAACI,SAA1C;;AACA,sBAAI,CAACE,UAAL;AACA,eALF,EAKI,UAAAL,KAAK,EAAI;AACXF,uBAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,eAPD;AAQD;AACF;AAzDyB;AAAA;AAAA,uCA+DP;;;;;;;AACjB,6BAAM,KAAKpB,eAAL,CAAqB0B,OAArB,CAA6B,KAAKH,SAAlC,CAAN;;;;;;;;;AACD;AAjEyB;AAAA;AAAA,8BA2DP;AACjB,mBAAO,KAAKhB,GAAL,CAASoB,QAAhB;AACD;AA7DyB;;AAAA;AAAA,S;;;;gBAXnB;;gBAAiB;;gBAGjB;;gBADA;;gBADQ;;gBAAR;;gBAGwB;;;;AAOpB5B,qBAAe,6DAL3B,gEAAU;AACT6B,gBAAQ,EAAE,kBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,0GAFS;;;;AAAA,OAAV,CAK2B,GAAf9B,eAAe,CAAf","file":"edit-website-edit-website-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n    </ion-buttons>\\n    <ion-title>Editar página web</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding [fullscreen]=\\\"true\\\">\\n  <form [formGroup]=\\\"web\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>\\n    <ion-list>\\n      <ion-item lines=\\\"full\\\">\\n        <ion-label position=\\\"stacked\\\"><span style=\\\"color: red\\\">*</span>URL/Dirección</ion-label>\\n        <ion-input placeholder=\\\"http://www.ejemplo.com/pagina\\\" formControlName=\\\"URL\\\" type=\\\"url\\\" \\n        [value]=\\\"web.URL\\\" required></ion-input>\\n        <span class=\\\"error ion-padding\\\" *ngIf=\\\"isSubmitted && errorControl.URL.errors?.required\\\">\\n          Campo requerido.\\n        </span>\\n      </ion-item>\\n      <ion-item lines=\\\"full\\\">\\n        <ion-label position=\\\"stacked\\\"><span style=\\\"color: red\\\">*</span>Texto del enlace</ion-label>\\n        <ion-input placeholder=\\\"Ejemplo: Amazon, Wikipedia, IMDB, etc.\\\" formControlName=\\\"Text\\\" \\n        [value]=\\\"web.Text\\\" type=\\\"text\\\" required></ion-input>\\n        <span class=\\\"error ion-padding\\\" *ngIf=\\\"isSubmitted && errorControl.Text.errors?.required\\\">\\n          Campo requerido.\\n        </span>\\n      </ion-item>\\n    </ion-list>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button small expand=\\\"inline\\\" shape=\\\"round\\\" color=\\\"primary\\\" type=\\\"submit\\\">Enviar</ion-button>\\n        </ion-col>\\n        <ion-col>\\n          <ion-button small expand=\\\"inline\\\" shape=\\\"round\\\" color=\\\"primary\\\" (click)=\\\"closeModal()\\\">Cancelar</ion-button>\\n        </ion-col>\\n      </ion-row>\\n      </ion-grid>\\n  </form>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditWebsitePage } from './edit-website.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditWebsitePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditWebsitePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditWebsitePageRoutingModule } from './edit-website-routing.module';\n\nimport { EditWebsitePage } from './edit-website.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    EditWebsitePageRoutingModule\n  ],\n  declarations: [EditWebsitePage]\n})\nexport class EditWebsitePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VkaXQtd2Vic2l0ZS9lZGl0LXdlYnNpdGUucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController, NavParams } from '@ionic/angular';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiRestService } from '../api-rest.service';\nimport { FormGroup, FormControl, FormBuilder, Validators } from \"@angular/forms\";\n\n@Component({\n  selector: 'app-edit-website',\n  templateUrl: './edit-website.page.html',\n  styleUrls: ['./edit-website.page.scss'],\n})\nexport class EditWebsitePage implements OnInit {\n\n  id: any;\n  type: any;\n  SiteURL: string;\n  SiteText: boolean;\n  WebsiteID: any;\n  web/*: FormGroup*/ = null;\n\n  isSubmitted = false;\n\n  constructor(private modalController: ModalController, private navParams: NavParams, public http: ApiRestService, \n    private navCtrl: NavController, private route: ActivatedRoute, private router: Router, \n    private formBuilder: FormBuilder) {\n      this.web = new FormGroup({\n        URL: new FormControl(),\n        Text: new FormControl()\n     });\n     }\n\n  ngOnInit() {\n    this.id = this.navParams.data.id;\n    this.getWebsite();\n  }\n\n  getWebsite() {\n    this.http.getWebsite(this.id).subscribe(\n      (res) => { \n        this.web = this.formBuilder.group({\n          'URL' : [res['URL'], Validators.required],\n          'Text' : [res['Text'], Validators.required]\n        });\n        console.log(\"res: \", res)\n      },\n      (error) =>{\n        console.error(error);\n      }\n    )\n  }\n\n  submitForm() {\n    this.isSubmitted = true;\n    if (!this.web.valid) {\n      console.log('Please provide all the required values!')\n      return false;\n    } else {\n      this.web.value.WebsiteID = this.id;\n      console.log(this.web.value);\n      this.http.updateWebsite(this.web.value).subscribe(data => {\n        console.log(\"Web \"+data['body']);\n        this.WebsiteID = data['body']['WebsiteID'];\n        console.log(\"antes de cerrar modal \",this.WebsiteID);\n        this.closeModal();\n       }, error => {\n        console.log(error);\n      });\n    }\n  }\n\n  get errorControl() {\n    return this.web.controls;\n  }\n\n  async closeModal() {\n    await this.modalController.dismiss(this.WebsiteID);\n  }\n\n}\n"]}