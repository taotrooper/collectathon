(window.webpackJsonp=window.webpackJsonp||[]).push([[12,43],{"0Gmn":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var o=i("mrSG"),n=i("3Pt+"),r=i("fXoL"),s=i("TEn/"),b=i("Epai"),l=i("tyNb"),a=i("ofXK");function c(e,t){1&e&&(r.Lb(0,"span",12),r.ic(1," Campo requerido. "),r.Kb())}function u(e,t){1&e&&(r.Lb(0,"span",12),r.ic(1," Campo requerido. "),r.Kb())}let d=(()=>{class e{constructor(e,t,i,o,r,s,b){this.modalController=e,this.navParams=t,this.http=i,this.navCtrl=o,this.route=r,this.router=s,this.formBuilder=b,this.web=null,this.isSubmitted=!1,this.web=new n.e({URL:new n.b,Text:new n.b})}ngOnInit(){this.id=this.navParams.data.id,this.getWebsite()}getWebsite(){this.http.getWebsite(this.id).subscribe(e=>{this.web=this.formBuilder.group({URL:[e.URL,n.n.required],Text:[e.Text,n.n.required]}),console.log("res: ",e)},e=>{console.error(e)})}submitForm(){if(this.isSubmitted=!0,!this.web.valid)return console.log("Please provide all the required values!"),!1;this.web.value.WebsiteID=this.id,console.log(this.web.value),this.http.updateWebsite(this.web.value).subscribe(e=>{console.log("Web "+e.body),this.WebsiteID=e.body.WebsiteID,console.log("antes de cerrar modal ",this.WebsiteID),this.closeModal()},e=>{console.log(e)})}get errorControl(){return this.web.controls}closeModal(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.modalController.dismiss(this.WebsiteID)}))}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(s.T),r.Ib(s.V),r.Ib(b.a),r.Ib(s.U),r.Ib(l.a),r.Ib(l.g),r.Ib(n.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-edit-website"]],decls:30,vars:6,consts:[["color","primary"],["slot","start"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],[2,"color","red"],["placeholder","http://www.ejemplo.com/pagina","formControlName","URL","type","url","required","",3,"value"],["class","error ion-padding",4,"ngIf"],["placeholder","Ejemplo: Amazon, Wikipedia, IMDB, etc.","formControlName","Text","type","text","required","",3,"value"],["small","","expand","inline","shape","round","color","primary","type","submit"],["small","","expand","inline","shape","round","color","primary",3,"click"],[1,"error","ion-padding"]],template:function(e,t){1&e&&(r.Lb(0,"ion-header"),r.Lb(1,"ion-toolbar",0),r.Jb(2,"ion-buttons",1),r.Lb(3,"ion-title"),r.ic(4,"Editar p\xe1gina web"),r.Kb(),r.Kb(),r.Kb(),r.Lb(5,"ion-content",2),r.Lb(6,"form",3),r.Tb("ngSubmit",(function(){return t.submitForm()})),r.Lb(7,"ion-list"),r.Lb(8,"ion-item",4),r.Lb(9,"ion-label",5),r.Lb(10,"span",6),r.ic(11,"*"),r.Kb(),r.ic(12,"URL/Direcci\xf3n"),r.Kb(),r.Jb(13,"ion-input",7),r.hc(14,c,2,0,"span",8),r.Kb(),r.Lb(15,"ion-item",4),r.Lb(16,"ion-label",5),r.Lb(17,"span",6),r.ic(18,"*"),r.Kb(),r.ic(19,"Texto del enlace"),r.Kb(),r.Jb(20,"ion-input",9),r.hc(21,u,2,0,"span",8),r.Kb(),r.Kb(),r.Lb(22,"ion-grid"),r.Lb(23,"ion-row"),r.Lb(24,"ion-col"),r.Lb(25,"ion-button",10),r.ic(26,"Enviar"),r.Kb(),r.Kb(),r.Lb(27,"ion-col"),r.Lb(28,"ion-button",11),r.Tb("click",(function(){return t.closeModal()})),r.ic(29,"Cancelar"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.yb(5),r.Yb("fullscreen",!0),r.yb(1),r.Yb("formGroup",t.web),r.yb(7),r.Yb("value",t.web.URL),r.yb(1),r.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.URL.errors?null:t.errorControl.URL.errors.required)),r.yb(6),r.Yb("value",t.web.Text),r.yb(1),r.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.Text.errors?null:t.errorControl.Text.errors.required)))},directives:[s.q,s.P,s.i,s.N,s.m,n.o,n.k,n.f,s.A,s.v,s.z,s.u,s.ab,n.j,n.d,n.m,a.i,s.p,s.F,s.l,s.h],styles:[""]}),e})()},fj2Z:function(e,t,i){"use strict";i.r(t),i.d(t,"PersonPageModule",(function(){return y}));var o=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),b=i("mrSG"),l=i("fXoL"),a=i("Epai"),c=i("rgD0");function u(e,t){1&e&&(l.Lb(0,"ion-item-sliding"),l.Lb(1,"ion-label",11),l.ic(2,"No existen items para esta persona."),l.Kb(),l.Kb())}function d(e,t){if(1&e){const e=l.Mb();l.Lb(0,"ion-item-sliding"),l.Lb(1,"ion-item",12),l.Tb("click",(function(){l.ec(e);const i=t.$implicit;return l.Vb().goToItem(i.ItemID,i.ItemType)})),l.Jb(2,"ion-icon",13),l.Lb(3,"ion-label",11),l.ic(4),l.Kb(),l.Kb(),l.Kb()}if(2&e){const e=t.$implicit,i=l.Vb();l.yb(2),l.Zb("name",i.http.getItemTypeIcon(e.ItemType)),l.yb(2),l.jc(e.ItemSummary)}}function h(e,t){if(1&e){const e=l.Mb();l.Lb(0,"ion-button",14),l.Tb("click",(function(){return l.ec(e),l.Vb().goToEditPerson()})),l.ic(1,"Editar persona"),l.Kb()}}function m(e,t){if(1&e){const e=l.Mb();l.Lb(0,"ion-button",15),l.Tb("click",(function(){return l.ec(e),l.Vb().deletePerson()})),l.ic(1,"Eliminar persona"),l.Kb()}}const p=[{path:"",component:(()=>{class e{constructor(e,t,i,o,n){this.http=e,this.navCtrl=t,this.alertCtrl=i,this.route=o,this.router=n,this.itemCount=0,this.id=this.route.snapshot.params.id,console.log(this.id),this.getItemsByPerson(),this.getPerson(),this.user=this.http.getUserID(),console.log("usuarios: ",this.user," ",this.creatoruser),console.log(this.items)}ngOnInit(){}getItemsByPerson(){this.items=[],this.http.getItemsByPerson(this.id).subscribe(e=>{this.items=e.body,this.items&&(this.itemCount=this.items.length),console.log("res: ",this.items)},e=>{console.error(e)})}getPerson(){this.http.getPerson(this.id).subscribe(e=>{this.names=e.Names,this.lastnames=e.LastNames,this.creatoruser=e.CreatorUserID,console.log("persona: ",e)},e=>{console.error(e)})}goToItem(e,t){this.navCtrl.navigateForward("/item/"+this.http.getItemTypeURL(t)+"/"+e)}goToEditPerson(){this.navCtrl.navigateForward("/edit-person/"+this.id)}deletePerson(){return Object(b.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:"Confirmar",message:"\xbfEst\xe1s seguro que deseas eliminar la persona?",buttons:[{text:"Cancelar",role:"cancelar",cssClass:"secondary",handler:()=>{console.log("Confirm Cancel")}},{text:"Aceptar",handler:()=>{console.log("Confirm Okay"),this.http.deletePerson(this.id)}}]});yield e.present(),this.navCtrl.navigateForward("/allpeople")}))}}return e.\u0275fac=function(t){return new(t||e)(l.Ib(a.a),l.Ib(r.U),l.Ib(r.b),l.Ib(s.a),l.Ib(s.g))},e.\u0275cmp=l.Cb({type:e,selectors:[["app-person"]],decls:21,vars:11,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","allpeople"],["slot","end"],[3,"fullscreen"],["type","person",3,"id"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],[1,"ion-text-wrap",2,"margin-left","5px"],["detail","",3,"click"],["top","",3,"name"],[3,"click"],["color","danger",3,"click"]],template:function(e,t){1&e&&(l.Lb(0,"ion-header",0),l.Lb(1,"ion-toolbar",1),l.Lb(2,"ion-buttons",2),l.Jb(3,"ion-back-button",3),l.Kb(),l.Lb(4,"ion-buttons",4),l.Jb(5,"ion-menu-button"),l.Kb(),l.Lb(6,"ion-title"),l.ic(7),l.Kb(),l.Kb(),l.Kb(),l.Lb(8,"ion-content",5),l.Lb(9,"ion-item"),l.Lb(10,"h1"),l.ic(11),l.Kb(),l.Kb(),l.Lb(12,"ion-item"),l.Jb(13,"app-website-list",6),l.Kb(),l.Lb(14,"ion-list"),l.hc(15,u,3,0,"ion-item-sliding",7),l.hc(16,d,5,2,"ion-item-sliding",8),l.Kb(),l.Lb(17,"ion-grid"),l.Lb(18,"ion-row"),l.hc(19,h,2,0,"ion-button",9),l.hc(20,m,2,0,"ion-button",10),l.Kb(),l.Kb(),l.Kb()),2&e&&(l.Yb("translucent",!0),l.yb(7),l.lc("",t.names," ",t.lastnames,""),l.yb(1),l.Yb("fullscreen",!0),l.yb(3),l.lc("",t.names," ",t.lastnames,""),l.yb(2),l.Yb("id",t.id),l.yb(2),l.Yb("ngIf",t.itemCount<=0),l.yb(1),l.Yb("ngForOf",t.items),l.yb(3),l.Yb("ngIf",t.creatoruser==t.user),l.yb(1),l.Yb("ngIf",t.creatoruser==t.user&&0==t.itemCount))},directives:[r.q,r.P,r.i,r.f,r.g,r.C,r.N,r.m,r.v,c.a,r.A,o.i,o.h,r.p,r.F,r.y,r.z,r.r,r.h],styles:[""]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(p)],s.i]}),e})();var g=i("j1ZV");let y=(()=>{class e{}return e.\u0275mod=l.Gb({type:e}),e.\u0275inj=l.Fb({factory:function(t){return new(t||e)},imports:[[o.b,n.g,n.l,r.Q,g.a,f]]}),e})()},j1ZV:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var o=i("ofXK"),n=i("TEn/"),r=i("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(t){return new(t||e)},imports:[[o.b,n.Q]]}),e})()},rgD0:function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var o=i("mrSG"),n=i("xM1R"),r=i("0Gmn"),s=i("fXoL"),b=i("Epai"),l=i("TEn/"),a=i("tyNb"),c=i("ofXK");function u(e,t){if(1&e){const e=s.Mb();s.Lb(0,"div"),s.Lb(1,"ion-icon",6),s.Tb("click",(function(){s.ec(e);const t=s.Vb().$implicit;return s.Vb().goToEditWebsite(t.WebsiteID)})),s.Kb(),s.Lb(2,"ion-icon",7),s.Tb("click",(function(){s.ec(e);const t=s.Vb().$implicit;return s.Vb().deleteWebsite(t.WebsiteID)})),s.Kb(),s.Kb()}}function d(e,t){if(1&e&&(s.Lb(0,"ion-chip"),s.Jb(1,"ion-icon",3),s.Lb(2,"ion-label"),s.Lb(3,"a",4),s.ic(4),s.Kb(),s.Kb(),s.hc(5,u,3,0,"div",5),s.Kb()),2&e){const e=t.$implicit,i=s.Vb();s.yb(1),s.Yb("name",i.getIcon(e.URL)),s.yb(2),s.Zb("href",e.URL,s.fc),s.yb(1),s.jc(e.Text),s.yb(1),s.Yb("ngIf",e.CreatorUserID==i.user)}}let h=(()=>{class e{constructor(e,t,i,o,n,r){this.http=e,this.navCtrl=t,this.route=i,this.router=o,this.alertCtrl=n,this.modalController=r}ngOnInit(){this.getWebsites(),this.user=this.http.getUserID(),console.log("user: ",this.user)}getWebsites(){this.webs=[],this.http.getWebsitesForObject(this.id,this.type).subscribe(e=>{this.webs=e.body,console.log("webs ",this.webs)},e=>{console.error(e)})}goToNewWebsite(){return Object(o.a)(this,void 0,void 0,(function*(){console.log("P\xe1gina modal");const e=yield this.modalController.create({component:n.a,componentProps:{id:this.id,type:this.type}});return e.onDidDismiss().then(e=>{null!=e&&(this.webs=[],this.newWeb=e,console.log("New Web: ",this.newWeb),this.getWebsites())}),yield e.present()}))}deleteWebsite(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({header:"Confirmar",message:"\xbfSeguro que deseas eliminar permanentemente la p\xe1gina web?",buttons:[{text:"Aceptar",handler:()=>{this.http.deleteWebsite(e),this.webs=[],this.getWebsites()}},{text:"Cancelar",role:"cancel",handler:()=>{console.log("Cancelar")}}]});yield t.present()}))}goToEditWebsite(e){return Object(o.a)(this,void 0,void 0,(function*(){console.log("Edit website ",e);const t=yield this.modalController.create({component:r.a,componentProps:{id:e}});return t.onDidDismiss().then(e=>{null!=e&&(this.webs=[],console.log("Edit Web: ",e),this.getWebsites())}),yield t.present()}))}getIcon(e){var t="compass-outline";return e.indexOf("amazon.")>0?t="logo-amazon":e.indexOf("facebook.com")>0?t="logo-facebook":e.indexOf("twitter.com")>0?t="logo-twitter":e.indexOf("instagram.com")>0?t="logo-instagram":e.indexOf("playstation.com")>0?t="logo-playstation":e.indexOf("steampowered.com")>0?t="icon-steam":e.indexOf("xbox.com")>0?t="logo-xbox":e.indexOf("youtube.com")>0&&(t="logo-youtube"),t}}return e.\u0275fac=function(t){return new(t||e)(s.Ib(b.a),s.Ib(l.U),s.Ib(a.a),s.Ib(a.g),s.Ib(l.b),s.Ib(l.T))},e.\u0275cmp=s.Cb({type:e,selectors:[["app-website-list"]],inputs:{id:"id",type:"type"},decls:5,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"click"],["name","add"],[3,"name"],[1,"chiplink",3,"href"],[4,"ngIf"],["name","pencil",3,"click"],["name","close",3,"click"]],template:function(e,t){1&e&&(s.hc(0,d,6,4,"ion-chip",0),s.Lb(1,"ion-chip",1),s.Tb("click",(function(){return t.goToNewWebsite()})),s.Jb(2,"ion-icon",2),s.Lb(3,"ion-label"),s.ic(4,"web"),s.Kb(),s.Kb()),2&e&&s.Yb("ngForOf",t.webs)},directives:[c.h,l.k,l.r,l.z,c.i],styles:[""]}),e})()},xM1R:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var o=i("mrSG"),n=i("3Pt+"),r=i("fXoL"),s=i("TEn/"),b=i("Epai"),l=i("tyNb"),a=i("ofXK");function c(e,t){1&e&&(r.Lb(0,"span",12),r.ic(1," Campo requerido. "),r.Kb())}function u(e,t){1&e&&(r.Lb(0,"span",12),r.ic(1," Campo requerido. "),r.Kb())}let d=(()=>{class e{constructor(e,t,i,o,r,s,b){this.modalController=e,this.navParams=t,this.http=i,this.navCtrl=o,this.route=r,this.router=s,this.formBuilder=b,this.isSubmitted=!1,this.newweb=new n.e({URL:new n.b,Text:new n.b})}ngOnInit(){this.id=this.navParams.data.id,this.type=this.navParams.data.type,this.newweb=this.formBuilder.group({URL:[null,n.n.compose([n.n.required,n.n.pattern("(?:(?:(?:ht|f)tp)s?://)?[\\w_-]+(?:\\.[\\w_-]+)+([\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])?")])],Text:[null,n.n.required]})}submitForm(){if(this.isSubmitted=!0,!this.newweb.valid)return console.log("Please provide all the required values!"),!1;console.log(this.newweb.value),this.http.createWebsite(this.newweb.value,this.id,this.type).subscribe(e=>{console.log("Web "+e.body),this.WebsiteID=e.body.WebsiteID,console.log("antes de cerrar modal ",this.WebsiteID),this.closeModal()},e=>{console.log(e)})}get errorControl(){return this.newweb.controls}closeModal(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.modalController.dismiss(this.WebsiteID)}))}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(s.T),r.Ib(s.V),r.Ib(b.a),r.Ib(s.U),r.Ib(l.a),r.Ib(l.g),r.Ib(n.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-create-website"]],decls:30,vars:4,consts:[["color","primary"],["slot","start"],["padding","",3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["lines","full"],["position","stacked"],[2,"color","red"],["placeholder","http://www.ejemplo.com/pagina","formControlName","URL","type","text","required",""],["class","error ion-padding",4,"ngIf"],["placeholder","Ejemplo: Amazon, Wikipedia, IMDB, etc.","formControlName","Text","type","text","required",""],["small","","expand","inline","shape","round","color","primary","type","submit"],["small","","expand","inline","shape","round","color","primary",3,"click"],[1,"error","ion-padding"]],template:function(e,t){1&e&&(r.Lb(0,"ion-header"),r.Lb(1,"ion-toolbar",0),r.Jb(2,"ion-buttons",1),r.Lb(3,"ion-title"),r.ic(4,"Crear p\xe1gina web"),r.Kb(),r.Kb(),r.Kb(),r.Lb(5,"ion-content",2),r.Lb(6,"form",3),r.Tb("ngSubmit",(function(){return t.submitForm()})),r.Lb(7,"ion-list"),r.Lb(8,"ion-item",4),r.Lb(9,"ion-label",5),r.Lb(10,"span",6),r.ic(11,"*"),r.Kb(),r.ic(12,"URL/Direcci\xf3n"),r.Kb(),r.Jb(13,"ion-input",7),r.hc(14,c,2,0,"span",8),r.Kb(),r.Lb(15,"ion-item",4),r.Lb(16,"ion-label",5),r.Lb(17,"span",6),r.ic(18,"*"),r.Kb(),r.ic(19,"Texto del enlace"),r.Kb(),r.Jb(20,"ion-input",9),r.hc(21,u,2,0,"span",8),r.Kb(),r.Kb(),r.Lb(22,"ion-grid"),r.Lb(23,"ion-row"),r.Lb(24,"ion-col"),r.Lb(25,"ion-button",10),r.ic(26,"Enviar"),r.Kb(),r.Kb(),r.Lb(27,"ion-col"),r.Lb(28,"ion-button",11),r.Tb("click",(function(){return t.closeModal()})),r.ic(29,"Cancelar"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&e&&(r.yb(5),r.Yb("fullscreen",!0),r.yb(1),r.Yb("formGroup",t.newweb),r.yb(8),r.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.URL.errors?null:t.errorControl.URL.errors.required)),r.yb(7),r.Yb("ngIf",t.isSubmitted&&(null==t.errorControl.Text.errors?null:t.errorControl.Text.errors.required)))},directives:[s.q,s.P,s.i,s.N,s.m,n.o,n.k,n.f,s.A,s.v,s.z,s.u,s.ab,n.j,n.d,n.m,a.i,s.p,s.F,s.l,s.h],styles:[""]}),e})()}}]);