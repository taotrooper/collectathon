{"version":3,"sources":["webpack:///src/app/collections/collections.page.html","webpack:///src/app/api-rest.service.ts","webpack:///src/app/collections/collections-routing.module.ts","webpack:///src/app/collections/collections.module.ts","webpack:///src/app/collections/collections.page.scss","webpack:///src/app/collections/collections.page.ts"],"names":["httpOptions","headers","ApiRestService","httpClient","navCtrl","toast","path","ItemTypeIcon","ItemTypeURL","ItemTypeNameEs","setUserID","UserID","operation","result","error","console","get","subscribe","data","localStorage","setItem","JSON","stringify","log","msg","create","message","duration","present","type","y","typeURL","Object","keys","find","key","email","uid","u","post","observe","getUserNickname","CollectionID","page","num","SeriesID","PersonID","GenreID","ItemID","ItemType","EditionID","e","getEditionOwned","id","item","CreatorUserID","Headers","append","navigateForward","getItemTypeURL","edition","series","col","p","Names","person","addPersonToItem","web","EntityID","EntityType","getUserID","owned","isEditionOwned","ed","name","presentToast","c","role","editionID","params","providedIn","routes","component","CollectionsPageRoutingModule","imports","forChild","exports","CollectionsPageModule","declarations","CollectionsPage","http","modalController","route","router","alertController","getCollections","colecciones","res","header","buttons","text","cssClass","handler","deleteCollection","status","alert","selector","template","providers"],"mappings":"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","file":"collections-collections-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Mis colecciones\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <ion-list>\\n    <ion-item detail button (click)='goToWishlist()'>\\n      <ion-icon name=\\\"heart-outline\\\"></ion-icon>\\n      <div style=\\\"margin-left: 5px;\\\">Lista de deseos</div>\\n    </ion-item>\\n    <ion-item-sliding *ngFor=\\\"let col of colecciones\\\">\\n      <ion-item-options side=\\\"start\\\">\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteCollection(col.CollectionID)\\\">\\n          <ion-icon name=\\\"trash\\\"></ion-icon>\\n        </ion-item-option>\\n      </ion-item-options>\\n      <ion-item detail button (click)='goToCollection(col.CollectionID)'>\\n        <ion-icon name=\\\"albums\\\"></ion-icon> \\n        <div style=\\\"margin-left: 5px;\\\" class=\\\"ion-text-wrap\\\">{{ col.CollectionName }}</div>\\n      </ion-item>\\n    </ion-item-sliding>\\n  </ion-list>\\n\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"primary\\\">\\n      <ion-icon name=\\\"add\\\" (click)=\\\"goToNewCollection()\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";","import { Injectable } from '@angular/core';\nimport { NavController, ToastController } from '@ionic/angular';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from  '@angular/common/http';\nimport { Observable, of, throwError } from 'rxjs';\n\nconst httpOptions = {\n  headers: new HttpHeaders({'Content-Type': 'application/json'})\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiRestService {\n\n  /*path:string = \"http://localhost:8081/api\";*/\n  /*path:string = \"http://www.mercury-retrograde.net/tfm/api\";*/\n  path:string = \"http://91.117.92.244:8081/api\";\n  user: any;\n  UserID: number;\n\n  ItemTypeIcon: {[key: number]: string} = {\n    1: \"book\",\n    2: \"musical-notes\",\n    3: \"film\",\n    4: \"game-controller\",\n    5: \"chatbubbles\"\n  }\n\n  ItemTypeURL: {[key: number]: string} = {\n    1: \"book\",\n    2: \"music\",\n    3: \"video\",\n    4: \"game\",\n    5: \"comic\"\n  }\n\n  ItemTypeNameEs: {[key: string]: string} = {\n    \"book\": \"Libro\",\n    \"music\": \"Álbum\",\n    \"video\": \"Vídeo\",\n    \"game\": \"Videojuego\",\n    \"comic\": \"Cómic\"\n  }\n\n  constructor(private httpClient : HttpClient, private navCtrl: NavController, private toast: ToastController) {\n      this.setUserID();\n   }\n\n   private setUserID() {\n     /*this.UserID = parseInt(localStorage.getItem('UserID'));*/\n     this.UserID = 1;\n   }\n\n  private handleError<T>(operation = 'operation', result?: T) {\n    return (error: any): Observable<T> => {\n      console.error(error); // log to console instead\n      return of(result as T);\n    };\n  }\n\n  public getUserID() {\n    return this.UserID;\n  }\n\n  public getUserNickname() {\n    this.httpClient.get(this.path + \"/user/read.php?UserID=\" + this.UserID)\n    .subscribe(data => {\n      localStorage.setItem('Nickname', JSON.stringify(data['Nickname']));\n     }, error => {\n      console.log(error);\n    });\n  }\n\n  async presentToast(msg: string) {\n    const toast = await this.toast.create({\n      message: msg,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  getItemTypeIcon(type: any) {\n    return this.ItemTypeIcon[type];\n  }\n\n  getItemTypeURL(type: any) {\n    var y: number = +type;\n    return this.ItemTypeURL[y];\n  }\n\n  getItemTypeName(type: any) {\n    return this.ItemTypeNameEs[type];\n  }\n\n  getItemType(typeURL: string) {\n    return Object.keys(this.ItemTypeURL).find(key => this.ItemTypeURL[key] === typeURL);\n  }\n\n  login(email: string, uid: string) {\n    console.log(\"Estoy en API login\");\n    var u = {\n      'Email': email,\n      'FirebaseID': uid\n    };\n    this.httpClient.post(this.path + \"/user/login.php\", u,{observe: 'response'})\n       .subscribe(data => {\n         console.log(\"data body: \",data['body']['UserID']);\n         localStorage.setItem('UserID', data['body']['UserID']);\n         this.setUserID();\n         this.getUserNickname();\n        }, error => {\n         console.log(error);\n       }\n    );\n  }\n\n  getCollections():Observable<any> {\n    return this.httpClient.get(this.path + \"/collection/read.php?user=\" + this.UserID);\n  }\n\n  getCollection(CollectionID: string):Observable<any> {\n    return this.httpClient.get(this.path + \"/collection/single-read.php?CollectionID=\" + CollectionID);\n  }\n\n  getWishlist():Observable<any> {\n    return this.httpClient.get(this.path + \"/edition/read-wishlist.php?user=\" + this.UserID);\n  }\n\n  getRandomCollections():Observable<any> {\n    return this.httpClient.get(this.path + \"/collection/read-random.php?user=\" + this.UserID);\n  }\n\n  getEditions():Observable<any> {\n    return this.httpClient.get(this.path + \"/edition/read-summed.php?user=\" + this.UserID);\n  }\n\n  getEditionsPaginated(page: number, num: number):Observable<any> {\n    return this.httpClient.get(this.path + \"/edition/read-summed.php?user=\" + this.UserID\n    + \"&page=\" + page + \"&num=\" + num);\n  }\n\n  getEditionsInCollection(CollectionID : string):Observable<any> {\n    return this.httpClient.get(this.path + \"/edition/read-collection.php?collection=\" + CollectionID);\n  }\n\n  getItemsInSeries(SeriesID: string):Observable<any> {\n    return this.httpClient.get(this.path + \"/item/read-series.php?series=\" + SeriesID);\n  }\n\n  getItemsByPerson(PersonID: string):Observable<any> {\n    return this.httpClient.get(this.path + \"/item/read-person.php?person=\" + PersonID);\n  }\n\n  getItemsByGenre(GenreID: string):Observable<any> {\n    return this.httpClient.get(this.path + \"/item/read-genre.php?genre=\" + GenreID);\n  }\n\n  getItem(ItemID : number):Observable<any> {\n    return this.httpClient.get(this.path + '/item/single-read.php?ItemID=' + ItemID);\n  }\n\n  getBooks():Observable<any> {\n    return this.httpClient.get(this.path + \"/book/read-summed.php?user=\" + this.UserID);\n  }\n\n  getMusic():Observable<any> {\n    return this.httpClient.get(this.path + \"/music/read-summed.php?user=\" + this.UserID);\n  }\n\n  getVideos():Observable<any> {\n    return this.httpClient.get(this.path + \"/video/read-summed.php?user=\" + this.UserID);\n  }\n\n  getGames():Observable<any> {\n    return this.httpClient.get(this.path + \"/game/read-summed.php?user=\" + this.UserID);\n  }\n\n  getComics():Observable<any> {\n    return this.httpClient.get(this.path + \"/comic/read-summed.php?user=\" + this.UserID);\n  }\n\n  getItems(ItemType: number):Observable<any> {\n    return this.httpClient.get(this.path + \"/item/read-summed.php?type=\" + ItemType);\n  }\n\n  getEditionsOfItem(ItemID: number, ItemType: string):Observable<any> {\n    return this.httpClient.get(this.path + \"/\"+ItemType+\"/read.php?item=\" + ItemID);\n  }\n\n  getEdition(EditionID: number, ItemType: string):Observable<any> {\n    return this.httpClient.get(this.path + \"/\"+ItemType+\"/single-read.php?EditionID=\" + EditionID);\n  }\n\n  getEditionOwned(EditionID: number):Observable<any> {\n    return this.httpClient.get(this.path + \"/edition/read-owned.php?user=\" + this.UserID \n    + \"&edition=\" + EditionID);\n  }\n\n  isEditionOwned(EditionID: number) {\n    var e = this.getEditionOwned(EditionID);\n    return e['ItemCount'] > 0;\n  }\n\n  getSeries(SeriesID: number):Observable<any> {\n    return this.httpClient.get(this.path + \"/series/single-read.php?SeriesID=\" + SeriesID);\n  }\n\n  getSeriesList():Observable<any> {\n    return this.httpClient.get(this.path + \"/series/read.php\");\n  }\n\n  getPerson(PersonID: number):Observable<any> {\n    return this.httpClient.get(this.path + \"/person/single-read.php?PersonID=\" + PersonID);\n  }\n\n  getPersonList():Observable<any> {\n    return this.httpClient.get(this.path + \"/person/read.php\");\n  }\n\n  getGenre(GenreID: number):Observable<any> {\n    return this.httpClient.get(this.path + \"/genre/single-read.php?GenreID=\" + GenreID);\n  }\n\n  getAllGenreList():Observable<any> {\n    return this.httpClient.get(this.path + \"/genre/read.php\");\n  }\n\n  getGenreList(type: string):Observable<any> {\n    return this.httpClient.get(this.path + \"/genre/read.php?type=\" + type);\n  }\n\n  getWebsite(id: number) {\n    return this.httpClient.get(this.path + \"/website/single-read.php?WebsiteID=\" + id);\n  }\n\n  getWebsitesForObject(id: number, type: string) {\n    return this.httpClient.get(this.path + \"/website/read.php?id=\" + id + \"&type=\" + type);\n  }\n\n  // creates\n\n  createItem(item: any) {\n    item.CreatorUserID = this.UserID;\n    console.log(\"createItem: \",item);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     this.httpClient.post(this.path + \"/item/create.php\", item,{observe: 'response'})\n       .subscribe(data => {\n         console.log(\"data body: \",data['body']['ItemID']);\n         /*this.navCtrl.navigateForward(\"/create-item-next/\"+\n         this.getItemTypeURL(item.ItemType)+\"/\"+data['body']['ItemID']);*/\n         this.navCtrl.navigateForward(\"/item/\"+\n         this.getItemTypeURL(item.ItemType)+\"/\"+data['body']['ItemID']);\n        }, error => {\n         console.log(error);\n       }\n    );\n    /*return this.httpClient.post<any>(this.path, item, httpOptions).pipe(\n      tap((prod: any) => console.log(`Added item ID=${prod.ItemID}`)),\n      catchError(this.handleError<any>('/create-item'))\n    );*/\n  }\n\n  /*createSeries(series: any): Observable<any> {\n    return this.httpClient.post<any>(this.path + \"/series/create.php\", series, httpOptions).pipe(\n      tap((prod: any) => console.log(`Added Series ID=${prod}`)),\n      catchError(this.handleError<any>('/create-series'))\n    );\n  }*/\n\n  createEdition(type: number, item: number, edition: any) {\n    edition.CreatorUserID = this.UserID;\n    edition.ItemID = item;\n    edition.ItemType = type;\n    console.log(\"createEdition: \",edition);\n    var headers = new Headers();\n    headers.append(\"Accept\", 'application/json');\n    headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/\" + this.getItemTypeURL(type) + \"/create.php\", edition,{observe: 'response'});\n  }\n\n  createSeries(series: any) {\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     series.CreatorUserID = this.UserID;\n      console.log(\"createItem: \",series);\n     return this.httpClient.post(this.path + \"/series/create.php\", series,{observe: 'response'});\n  }\n\n  createCollection(col: any) {\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     col.UserID = this.UserID;\n      console.log(\"createItem: \",col);\n     return this.httpClient.post(this.path + \"/collection/create.php\", col,{observe: 'response'});\n  }\n\n  createPerson(p: any) {\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     p.CreatorUserID = this.UserID;\n      console.log(\"createPerson: \",p);\n    if (p.Names != null) {\n     this.httpClient.post(this.path + \"/person/create.php\", p,{observe: 'response'})\n       .subscribe(data => {\n          console.log(\"data body: \",data['body']['PersonID']);\n          return(data['body']['PersonID']);\n        }, error => {\n         console.log(error);\n       }\n      );\n    }\n  }\n\n  createPersonWithItem(p: any, item: any) {\n    console.log(\"createPerson: \",p['Names'],\" \", p['LastNames']);\n    var person = {\n      'Names': p['Names'],\n      'LastNames': p['LastNames'],\n      'CreatorUserID': this.UserID\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     this.httpClient.post(this.path + \"/person/create.php\", person,{observe: 'response'})\n       .subscribe(data => {\n         console.log(\"data body: \",data['body']['PersonID']);\n         p['PersonID'] = data['body']['PersonID'];\n         this.addPersonToItem(p, item);\n        }, error => {\n         console.log(error);\n       }\n    );\n  }\n\n  createWebsite(web: any, id: number, type: string) {\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     web.EntityID = id;\n     web.EntityType = type;\n     web.CreatorUserID = this.getUserID();\n      console.log(\"createWebsite: \",web);\n     return this.httpClient.post(this.path + \"/website/create.php\", web,{observe: 'response'});\n  }\n\n  addPersonToItem(p: any, item: any) {\n    console.log(\"addPerson: \",p['PersonID'],\" \", item, \" \", p['Role']);\n    var person = {\n      'PersonID': p['PersonID'],\n      'ItemID': item,\n      'Role': p['Role']\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     return this.httpClient.post(this.path + \"/person/add-to-item.php\", person,{observe: 'response'});\n  }\n\n  addEditionToUser(id: number, type: string, owned: number) {\n    if(this.isEditionOwned(id)) {\n      console.log(\"El usuario ya tiene la edición \",id);\n      return 1;\n    }\n    var e = {\n      'UserID': this.UserID,\n      'EditionID': id,\n      'IsOwned': owned\n    };\n    console.log(\"e: \", e);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     this.httpClient.post(this.path + \"/edition/add-to-user.php\", e,{observe: 'response'})\n       .subscribe(data => {\n         console.log(\"Added \",e['EditionID'],\" to user\");\n         return data;\n        }, error => {\n         console.log(error);\n         return error;\n       }\n    );\n  }\n\n  addEditionToCollection(id: number, edition: any) {\n    edition[\"CollectionID\"] = id;\n    console.log(\"add edition \",edition);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     this.httpClient.post(this.path + \"/edition/add-to-collection.php\", edition,{observe: 'response'})\n       .subscribe(data => {\n         console.log(\"Added \",edition['EditionID'],\" to collection \", edition['CollectionID']);\n         return data;\n        }, error => {\n         console.log(error);\n         return error;\n       }\n    );\n  }\n\n  updateCollection(col: any, id: any) {\n    col.UserID = this.UserID;\n    col.CollectionID = id;\n    console.log(\"col: \",col);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/collection/update.php\", col, {observe: 'response'});\n  }\n\n  updateItem(item: any, id: any) {\n    item.CreatorUserID = this.UserID;\n    item.ItemID = id;\n    console.log(\"item: \",item);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n\n    this.httpClient.post(this.path + \"/item/update.php\", item, {observe: 'response'})\n    .subscribe(data => {\n      console.log(\"Updated \",item['ItemID']);\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  updateEdition(ed: any, id: any, type: string) {\n    ed.EditionID = id;\n    console.log(\"edition: \",ed);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    this.httpClient.post(this.path + \"/\"+type+\"/update.php\", ed, {observe: 'response'})\n    .subscribe(data => {\n      console.log(\"Updated \",ed['EditionID']);\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  updateSeries(series: any, id: any) {\n    /*series.SeriesID = id;*/\n    console.log(\"series: \",series);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    this.httpClient.post(this.path + \"/series/update.php\", series, {observe: 'response'})\n    .subscribe(data => {\n      console.log(\"Updated \",series['SeriesID']);\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  updatePerson(person: any, id: any) {\n    console.log(\"person: \",person);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    this.httpClient.post(this.path + \"/person/update.php\", person, {observe: 'response'})\n    .subscribe(data => {\n      console.log(\"Updated \",person['PersonID']);\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  updateWebsite(web: any) {\n    console.log(\"website: \",web);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/website/update.php\", web, {observe: 'response'});\n  }\n\n  updateUser(uid: string, email: string, name: string) {\n    var person = {\n      'UserID': this.UserID,\n      'Nickname': name,\n      'FirebaseID': uid,\n      'Email': email\n    }\n    console.log(\"user: \",person);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n\n    this.httpClient.post(this.path + \"/user/update.php\", person, {observe: 'response'})\n    .subscribe(data => {\n      console.log(\"Updated \",person['UserID']);\n      this.presentToast(\"Actualizado el apodo\");\n      localStorage.setItem('Nickname', JSON.stringify(name));\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  deleteCollection(id: number) {\n    var c = {\n      'CollectionID': id\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/collection/delete.php\", c, {observe: 'response'});\n  }\n\n  deleteEdition(id: number, type: string) {\n    var c = {\n      'EditionID': id\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/\"+type+\"/delete.php\", c, {observe: 'response'});\n  }\n\n  deleteItem(id: number, type: string) {\n    var c = {\n      'ItemID': id,\n      \"ItemTypeName\": type\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    this.httpClient.post(this.path + \"/item/delete.php\", c, {observe: 'response'})\n    .subscribe(data => {\n      console.log(data);\n      if (data['body']['otros']!=0) {\n        this.presentToast(data['body']['message'])\n      } else {\n        this.navCtrl.navigateForward(\"/myitems\");\n      }\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  deleteSeries(id: number) {\n    var c = {\n      'SeriesID': id\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    this.httpClient.post(this.path + \"/series/delete.php\", c, {observe: 'response'})\n    .subscribe(data => {\n      console.log(data);\n      console.log(\"Deleted \",c['SeriesID']);\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  deletePerson(id: number) {\n    var c = {\n      'PersonID': id\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    this.httpClient.post(this.path + \"/person/delete.php\", c, {observe: 'response'})\n    .subscribe(data => {\n      console.log(data);\n      console.log(\"Deleted \",c['PersonID']);\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  deleteWebsite(id: number) {\n    var c = {\n      'WebsiteID': id\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    this.httpClient.post(this.path + \"/website/delete.php\", c, {observe: 'response'})\n    .subscribe(data => {\n      console.log(data);\n      console.log(\"Deleted \",c['WebsiteID']);\n      return data;\n     }, error => {\n      console.log(error);\n      return error;\n    });\n  }\n\n  removeEditionFromCollection(CollectionID: number, ItemID: number, EditionID: number) {\n    var c = {\n      'CollectionID': CollectionID,\n      'ItemID': ItemID,\n      'EditionID': EditionID\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/edition/remove-from-collection.php\", c, {observe: 'response'});\n  }\n\n  removePersonToItem(person: number, item: any, role: string) {\n    var p = {\n      'PersonID': person,\n      'ItemID': item,\n      'Role': role\n    };\n    console.log(\"p: \",p);\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/person/remove-from-item.php\", p,{observe: 'response'});\n  }\n\n  removeEditionFromUser(editionID: number) {\n    var c = {\n      'UserID': this.getUserID(),\n      'EditionID': editionID\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/edition/remove-from-user.php\", c, {observe: 'response'});\n  }\n\n  updateEditionToUser(edition: number, owned: number) {\n    var c = {\n      'UserID': this.getUserID(),\n      'EditionID': edition,\n      'IsOwned': owned\n    };\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n    return this.httpClient.post(this.path + \"/edition/update-to-user.php\", c, {observe: 'response'});\n  }\n\n  searchEditions(params: any):Observable<any> {\n    var headers = new Headers();\n     headers.append(\"Accept\", 'application/json');\n     headers.append('Content-Type', 'application/json' );\n     return this.httpClient.post(this.path + \"/edition/search.php\", params,{observe: 'response'});\n  }\n  \n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CollectionsPage } from './collections.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CollectionsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CollectionsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CollectionsPageRoutingModule } from './collections-routing.module';\n\nimport { CollectionsPage } from './collections.page';\n/*import { CreateCollectionPageModule } from '../create-collection/create-collection.module';\nimport { ComponentsModule } from '../components/components.module';*/\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    //ComponentsModule,\n    CollectionsPageRoutingModule,\n    //CreateCollectionPageModule\n  ],\n  declarations: [CollectionsPage]\n})\nexport class CollectionsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbGxlY3Rpb25zL2NvbGxlY3Rpb25zLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { NavController, ModalController, AlertController } from '@ionic/angular';\nimport { ApiRestService } from '../api-rest.service';\n\n//import { CreateCollectionPage } from '../create-collection/create-collection.page';\n\n@Component({\n  selector: 'app-collections',\n  templateUrl: './collections.page.html',\n  styleUrls: ['./collections.page.scss'],\n  providers: [ApiRestService],\n})\nexport class CollectionsPage implements OnInit {\n\n  colecciones : any[];\n  newCol: any;\n\n  constructor(public http: ApiRestService, private navCtrl: NavController, public modalController: ModalController,\n     private route: ActivatedRoute, private router: Router, private alertController: AlertController) {\n    this.getCollections();\n  }\n\n  getCollections(){\n    this.colecciones = [];\n    this.http.getCollections().subscribe(\n      (res) => { \n        this.colecciones = res['body'];\n        console.log(\"colecciones: \",this.colecciones);\n      },\n      (error) =>{\n        console.error(error);\n      }\n    )\n    console.log(this.colecciones);\n  }\n\n  goToCollection(id: string) {\n    console.log('id ', id);\n    this.navCtrl.navigateForward(\"/collection/\"+id);\n  }\n\n  goToWishlist() {\n    this.navCtrl.navigateForward(\"/wishlist\");\n  }\n\n  ngOnInit() {\n  }\n\n  async goToNewCollection() {\n    console.log(\"Página modal\");\n    /*const modal = await this.modalController.create({\n      component: CreateCollectionPage\n    });\n\n    modal.onDidDismiss().then((dataReturned) => {\n      if (dataReturned != null) {\n        this.colecciones = [];\n        this.newCol = dataReturned;\n        console.log(\"New Collection: \",this.newCol);\n        this.getCollections();\n      }\n    });\n\n    return await modal.present();*/\n  }\n\n  async deleteCollection(id: number) {\n    const alert = await this.alertController.create({\n      header: 'Confirmar',\n      message: '¿Estás seguro que deseas eliminar la colección?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancelar',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel');\n          }\n        }, {\n          text: 'Aceptar',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.http.deleteCollection(id).subscribe(data => {\n              this.http.presentToast(data['body']['Message']);\n              if (data.status == 200) {\n                this.getCollections();\n              }\n            }, error => {\n              console.log(error);\n              return error;\n            });\n          }\n        }\n      ]\n    });\n  \n    await alert.present();\n  }\n\n}\n"]}