{"version":3,"sources":["webpack:///src/app/edition/edition.page.html","webpack:///src/app/edition/edition-routing.module.ts","webpack:///src/app/edition/edition.module.ts","webpack:///src/app/edition/edition.page.scss","webpack:///src/app/edition/edition.page.ts"],"names":["routes","path","component","EditionPageRoutingModule","imports","forChild","exports","EditionPageModule","declarations","EditionPage","http","navCtrl","route","router","id","snapshot","params","type","getEdition","getIsEditionOwned","subscribe","res","edicion","console","log","typeName","getItemTypeName","typeIcon","getItemTypeIcon","itemID","itemName","people","seriesID","seriesName","genreID1","genreName1","genreID2","genreName2","genreID3","genreName3","error","getEditionOwned","isOwned","navigateForward","person","role","removePersonToItem","data","presentToast","status","selector","template"],"mappings":"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","file":"edition-edition-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/home\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>{{itemName}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-list>\\n    <ion-item-sliding>\\n      <ion-item class=\\\"ion-card\\\"><ion-grid><ion-row>\\n        <ion-label style=\\\"margin-left: 5px;\\\" class=\\\"ion-text-wrap\\\">\\n          <h1><ion-icon name=\\\"{{typeIcon}}\\\" style=\\\"margin: 0 5px;\\\"></ion-icon>\\n            <strong>{{itemName}}</strong></h1>\\n            <div><ion-button top expand=\\\"inline\\\" (click)=\\\"goToItem()\\\">Ver todas las ediciones</ion-button></div>\\n        </ion-label>\\n      </ion-row>\\n      <ion-row>\\n        <ion-chip *ngFor=\\\"let p of people\\\">\\n          <ion-icon name=\\\"person\\\"></ion-icon> \\n          <a href=\\\"/person/{{p.PersonID}}\\\" class=\\\"chiplink\\\">\\n          <app-persona Names=\\\"{{p.Names}}\\\" LastNames=\\\"{{p.LastNames}}\\\" Role=\\\"{{p.Role}}\\\"></app-persona>\\n          </a>\\n          <ion-icon name=\\\"close\\\" (click)=\\\"removePerson(p.PersonID, p.Role)\\\"></ion-icon>\\n        </ion-chip>\\n        <ion-chip (click)=\\\"addPerson()\\\">\\n          <ion-icon name=\\\"person-add\\\"></ion-icon><ion-label>Agregar</ion-label>\\n        </ion-chip>\\n      </ion-row>\\n      <ion-row>\\n      <ion-chip *ngIf=\\\"seriesID>0\\\">\\n        <ion-icon name=\\\"pricetag\\\"></ion-icon> \\n        <ion-label>\\n          <strong>Serie: </strong> \\n          <a href=\\\"/series/{{seriesID}}\\\" class=\\\"chiplink\\\">{{seriesName}}</a>\\n        </ion-label>\\n      </ion-chip>\\n      <ion-chip *ngIf=\\\"seriesID<=0\\\">\\n        <ion-icon name=\\\"pricetag\\\"></ion-icon>\\n        <ion-label>\\n          <a href=\\\"/edit-item/{{itemID}}\\\" class=\\\"chiplink\\\">Agregar serie <ion-icon name=\\\"add\\\"></ion-icon></a>\\n        </ion-label>\\n      </ion-chip>\\n      <ion-chip *ngIf=\\\"genreID1>0\\\">\\n        <ion-icon name=\\\"bookmark\\\"></ion-icon>\\n        <ion-label>\\n          <strong></strong> \\n          <a href=\\\"/genre/{{genreID1}}\\\" class=\\\"chiplink\\\">{{genreName1}}</a>\\n        </ion-label>\\n      </ion-chip>\\n      <ion-chip *ngIf=\\\"genreID2>0\\\">\\n        <ion-icon name=\\\"bookmark\\\"></ion-icon>\\n        <ion-label>\\n          <strong></strong> \\n          <a href=\\\"/genre/{{genreID2}}\\\" class=\\\"chiplink\\\">{{genreName2}}</a>\\n        </ion-label>\\n      </ion-chip>\\n      <ion-chip *ngIf=\\\"genreID3>0\\\">\\n        <ion-icon name=\\\"bookmark\\\"></ion-icon>\\n        <ion-label>\\n          <strong></strong> \\n          <a href=\\\"/genre/{{genreID3}}\\\" class=\\\"chiplink\\\">{{genreName3}}</a>\\n        </ion-label>\\n      </ion-chip>\\n      </ion-row>\\n      <ion-row>\\n        <app-website-list [id]=\\\"id\\\" type=\\\"edition\\\"></app-website-list>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-item>\\n  </ion-item-sliding>\\n  <ion-item-sliding>\\n    <ion-item class=\\\"ion-card\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col *ngIf=\\\"type === 'book'\\\">\\n            <!--<app-detail-book [book]=\\\"edicion\\\" [id]=\\\"id\\\"></app-detail-book>-->\\n            <app-detail-book [id]=\\\"id\\\"></app-detail-book>\\n          </ion-col>\\n          <ion-col *ngIf=\\\"type === 'music'\\\">\\n            <app-detail-music [id]=\\\"id\\\"></app-detail-music>\\n          </ion-col>\\n          <ion-col *ngIf=\\\"type === 'video'\\\">\\n            <app-detail-video [id]=\\\"id\\\"></app-detail-video>\\n          </ion-col>\\n          <ion-col *ngIf=\\\"type === 'game'\\\">\\n            <app-detail-game [id]=\\\"id\\\"></app-detail-game>\\n          </ion-col>\\n          <ion-col *ngIf=\\\"type === 'comic'\\\">\\n            <app-detail-comic [id]=\\\"id\\\"></app-detail-comic>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-item>\\n    </ion-item-sliding>\\n  </ion-list>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditionPage } from './edition.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditionPageRoutingModule } from './edition-routing.module';\n\nimport { EditionPage } from './edition.page';\nimport { ComponentsModule } from '../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    EditionPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [EditionPage],\n})\nexport class EditionPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2VkaXRpb24vZWRpdGlvbi5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, NavigationExtras } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { ApiRestService } from '../api-rest.service';\n\n@Component({\n  selector: 'app-edition',\n  templateUrl: './edition.page.html',\n  styleUrls: ['./edition.page.scss'],\n})\nexport class EditionPage implements OnInit {\n\n  id: any;\n  type: any;\n  itemName: any;\n  itemID: any;\n  typeName: any;\n  typeIcon: any;\n  isOwned: any;\n  people: any[];\n  seriesID: any;\n  seriesName: any;\n  genreID1: any;\n  genreID2: any;\n  genreID3: any;\n  genreName1: any;\n  genreName2: any;\n  genreName3: any;\n  edicion: any;\n\n  constructor(public http: ApiRestService, private navCtrl: NavController,\n    private route: ActivatedRoute, private router: Router) {\n      this.id = this.route.snapshot.params.id;\n      this.type = this.route.snapshot.params.type;\n      this.getEdition();\n      this.getIsEditionOwned();\n     }\n  \n     getEdition() {\n      this.http.getEdition(this.id, this.type).subscribe(\n        (res) => { \n          this.edicion = res;\n          console.log(res);\n          console.log(\"id: \"+this.id+\", type: \"+this.type);\n          console.log(\"edicion: \"+this.edicion);\n          this.typeName = this.http.getItemTypeName(this.type);\n          this.typeIcon = this.http.getItemTypeIcon(this.edicion['ItemType']);\n          this.itemID = this.edicion['ItemID'];\n          this.itemName = this.edicion['ItemName'];\n          this.people = this.edicion['People'];\n          this.seriesID = this.edicion['SeriesID'];\n          this.seriesName = this.edicion['SeriesName'];\n          this.genreID1 = this.edicion['GenreID1'];\n          this.genreName1 = this.edicion['GenreName1'];\n          this.genreID2 = this.edicion['GenreID2'];\n          this.genreName2 = this.edicion['GenreName2'];\n          this.genreID3 = this.edicion['GenreID3'];\n          this.genreName3 = this.edicion['GenreName3'];\n        },\n        (error) =>{\n          console.error(error);\n        }\n      )\n    }\n\n    getIsEditionOwned() {\n      this.http.getEditionOwned(this.id).subscribe(\n        (res) => { \n          this.isOwned = res['body'][0]['IsOwned'];\n          console.log(\"isOwned:\",this.isOwned);\n        },\n        (error) =>{\n          console.error(error);\n        }\n      )\n    }\n\n    goToEdit() {\n      console.log(\"/edit-\"+this.type+\"/\"+this.id);\n      this.navCtrl.navigateForward(\"/edit-\"+this.type+\"/\"+this.id);\n    }\n\n    goToItem() {\n      this.navCtrl.navigateForward(\"/item/\"+this.type+\"/\"+this.itemID);\n    }\n\n    addPerson() {\n      console.log(\"Añadir persona\");\n      this.navCtrl.navigateForward(\"/add-person/\"+this.type+\"/\"+this.itemID);\n    }\n\n    removePerson(person: number, role: string) {\n      console.log(\"Borrar persona \", person);\n      this.http.removePersonToItem(person, this.itemID, role).subscribe(data => {\n        this.http.presentToast(data['body']['Message']);\n        if (data.status == 200) {\n          this.people = [];\n          this.getEdition();\n        }\n      }, error => {\n        console.log(error);\n        return error;\n      });\n    }\n\n  ngOnInit() {\n  }\n\n}\n"]}