{"version":3,"sources":["webpack:///src/app/login/login.page.html","webpack:///src/app/login/login-routing.module.ts","webpack:///src/app/login/login.module.ts","webpack:///src/app/login/login.page.scss","webpack:///src/app/login/login.page.ts"],"names":["routes","path","component","LoginPageRoutingModule","imports","forChild","exports","LoginPageModule","declarations","LoginPage","http","router","ngFireAuth","navCtrl","auth","alertCtrl","formBuilder","user","email","password","loginform","segm","isSubmitted","onAuthStateChanged","navigate","group","required","console","log","valid","value","registerUser","then","setUser","err","window","alert","message","loginUser","loginGoogle","presentToast","SendPasswordReset","event","navigator","exitApp","selector","template"],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"exitApp()\\\"><ion-icon name=\\\"close\\\"></ion-icon></ion-button>\\n    </ion-buttons>\\n    <ion-title>Collectathon - Inicia sesión</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"loginform\\\">\\n    <ion-segment formControlName=\\\"segm\\\" (ionChange)=\\\"segmentChanged($event)\\\" [value]=\\\"loginform.segm\\\">\\n      <ion-segment-button value=\\\"login\\\">\\n        <ion-label>Iniciar sesión</ion-label>\\n      </ion-segment-button>\\n      <ion-segment-button value=\\\"register\\\">\\n        <ion-label>Crear cuenta</ion-label>\\n      </ion-segment-button>\\n    </ion-segment>\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Email</ion-label>\\n      <ion-input type=\\\"email\\\" #email formControlName=\\\"email\\\" required></ion-input>\\n    </ion-item> \\n\\n    <ion-item lines=\\\"full\\\">\\n      <ion-label position=\\\"floating\\\">Contraseña</ion-label>\\n      <ion-input type=\\\"password\\\" #password formControlName=\\\"password\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-row>\\n      <ion-col style=\\\"text-align: center\\\">\\n      <div padding>\\n        <ion-button (click)=\\\"login(loginform.email, loginform.password)\\\" type=\\\"submit\\\" \\n        color=\\\"primary\\\" block *ngIf=\\\"segm==='login'\\\">Iniciar sesión</ion-button>\\n        <ion-button (click)=\\\"signin(loginform.email, loginform.password)\\\" type=\\\"submit\\\" \\n        color=\\\"primary\\\" block *ngIf=\\\"segm==='register'\\\">Registrarse</ion-button>\\n        <!--<ion-button type=\\\"submit\\\" color=\\\"danger\\\" (click)=\\\"loginGoogle()\\\">\\n          <ion-icon name=\\\"logo-google\\\" style=\\\"margin-right: 5px\\\"></ion-icon>Con cuenta Google\\n        </ion-button>-->\\n        <ion-button fill=\\\"clear\\\" (click)=\\\"forgotPassword()\\\">¿Olvidaste tu contraseña?</ion-button>\\n      </div>\\n      </ion-col>\\n    </ion-row>\\n  </form>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\";","import { Component,OnInit } from '@angular/core';\nimport { Router } from \"@angular/router\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { FormGroup, FormControl, FormBuilder, Validators } from \"@angular/forms\";\nimport { ApiRestService } from '../api-rest.service';\nimport { NavController, AlertController } from '@ionic/angular';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\n\nexport class LoginPage implements OnInit {\n\n/*  user: any;*/\n  user= { email : '', password : ''};\n  loginform/*: FormGroup*/ = null;\n  segm: string = \"login\";\n  isSubmitted = false;\n\n  constructor(\n    public http: ApiRestService,\n    /*public authService: AuthenticationService,*/\n    public router: Router,\n    public ngFireAuth: AngularFireAuth,\n    public navCtrl: NavController, public auth : AuthService, \n    public alertCtrl : AlertController,\n    private formBuilder: FormBuilder) {\n      this.loginform = new FormGroup({\n        email: new FormControl(),\n        password: new FormControl(),\n        segm: new FormControl()\n     });\n    this.ngFireAuth.onAuthStateChanged((user) => {\n      if(user) {\n        this.router.navigate(['home']);\n      }\n    });\n  }\n\n  /*ngOnInit() {\n    this.user = JSON.parse(localStorage.getItem('user'));\n    if (this.user !== null && this.user.emailVerified !== false) {\n      this.router.navigate(['home']);\n    }\n  }\n\n  logIn(email, password) {\n    this.authService.SignIn(email.value, password.value)\n      .then((res) => {\n        /*if(this.authService.isEmailVerified) {*/ //ya estaba note\n          /*this.http.login();\n          this.router.navigate(['home']);*/\n        /*} else { //ya estaba note\n          window.alert('Error: Verifica tu dirección de correo antes')\n          return false;\n        }\n      }).catch((error) => {\n        window.alert(\"logIn error: \"+error.message)\n      })\n  }\n\n  goToRegister() {\n    this.router.navigate(['register']);\n  }*/\n\n  ngOnInit() {\n    this.loginform = this.formBuilder.group({\n      'email' : [null, Validators.required],\n      'password' : [null, Validators.required],\n      'segm' : [this.segm]\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad LoginPage');\n  }\n\n  signin(email: string, password: string){\n    this.isSubmitted = true;\n    if (!this.loginform.valid) {\n      console.log('Please provide all the required values!');\n      return false;\n    } else {\n      console.log(this.loginform.value);\n      this.auth.registerUser(this.loginform.value['email'],this.loginform.value['password'])\n    .then((user) => {\n      this.auth.setUser();\n      this.router.navigate(['home']);\n    })\n    .catch(err=>{\n      window.alert(\"signin error: \"+err.message);\n    })}\n  }\n\n  login(email: string, password: string) {\n    this.isSubmitted = true;\n    if (!this.loginform.valid) {\n      console.log('Please provide all the required values!');\n      return false;\n    } else {\n      console.log(this.loginform.value);\n      this.auth.loginUser(this.loginform.value['email'],this.loginform.value['password'])\n    .then((user) => {\n      this.auth.setUser();\n      this.router.navigate(['home']);\n    })\n    .catch(err=>{\n      window.alert(\"login error: \"+err.message);\n      console.log(err);\n    })}\n  }\n\n  loginGoogle() {\n    console.log(\"Estoy en login logingoogle\");\n    this.auth.loginGoogle()\n    .then((user) => {\n      this.auth.setUser();\n      this.router.navigate(['home']);\n    })\n    .catch(err=>{\n      window.alert(\"login error: \"+err.message);\n      console.log(err);\n    })\n  }\n\n  forgotPassword() {\n    this.isSubmitted = true;\n    if (!this.loginform.value['email']) {\n      this.http.presentToast(\"Asegúrate de escribir tu correo en el formulario.\");\n      return false;\n    } else {\n      this.auth.SendPasswordReset(this.loginform.value['email']);\n    }\n  }\n\n  segmentChanged(event: any) {\n    /*console.log('Segment changed', event);*/\n    this.segm = this.loginform.value['segm'];\n    console.log();\n  }\n\n  exitApp(){\n    navigator['app'].exitApp();\n  }\n\n}"]}